---
title: Kopumu sadalījums
description: Šajā tēmā ir aprakstīts, kā iestatīt kopuma sadalījuma darbību, tostarp to, kā tam iespējot paralēlo apstrādi.
author: Mirzaab
ms.date: 03/08/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-03-08
ms.dyn365.ops.version: Release 10.0.18
ms.openlocfilehash: b01de3c9f1cbcb24abc2b5a0c91db7f0791020bf
ms.sourcegitcommit: 08ce2a9ca1f02064beabfb9b228717d39882164b
ms.translationtype: HT
ms.contentlocale: lv-LV
ms.lasthandoff: 05/11/2021
ms.locfileid: "6019007"
---
# <a name="wave-allocation"></a><span data-ttu-id="03d21-103">Kopumu sadalījums</span><span class="sxs-lookup"><span data-stu-id="03d21-103">Wave allocation</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="03d21-104">Kopuma apstrāde var būt laikietilpīga, un lielākā daļa apstrādes laika tiek pavadīta sadalījuma solī un darba izveides solī.</span><span class="sxs-lookup"><span data-stu-id="03d21-104">Wave processing can be time consuming, and most of the processing time is spent in the allocation step and in the work creation step.</span></span>

<span data-ttu-id="03d21-105">Tagad ir iespējams darbināt katru no šiem soļiem paralēli, kas var uzlabot kopuma apstrādes veiktspēju un ļaut lielāku kopumu caurlaidi tajā pašā noliktavā.</span><span class="sxs-lookup"><span data-stu-id="03d21-105">It is now possible to run each of these steps in parallel, which can improve the performance of the wave processing, and allow for a larger throughput of waves in the same warehouse.</span></span> <span data-ttu-id="03d21-106">Šajā tēmā skaidrots, kā iestatīt kopuma sadalījuma metodi paralēlai palaišanai.</span><span class="sxs-lookup"><span data-stu-id="03d21-106">This topic explains how to set up the wave allocation method to run in parallel.</span></span> <span data-ttu-id="03d21-107">Papildinformāciju par to, kā iestatīt darba izveidi paralēlai palaišanai, skatiet sadaļā [Darba izveides plānošana kopuma laikā](configure-wave-schedule-work-creation.md).</span><span class="sxs-lookup"><span data-stu-id="03d21-107">For more information about how to set up work creation to run in parallel, see [Schedule work creation during wave](configure-wave-schedule-work-creation.md).</span></span>

<span data-ttu-id="03d21-108">Iepriekš bija iespējams piešķirt tikai vienu kopumu noliktavā vienlaicīgi.</span><span class="sxs-lookup"><span data-stu-id="03d21-108">Previously it was only possible to allocate one wave at a warehouse at a time.</span></span> <span data-ttu-id="03d21-109">Šis ierobežojums ir noņemts un aizstāts ar jaunu ierobežojumu, kas bloķē tikai krājumu un dimensijas, kas atrodas virs novietojuma rezervāciju hierarhijā.</span><span class="sxs-lookup"><span data-stu-id="03d21-109">This constraint has been removed and replaced by a new constraint that only locks the item and dimensions that are above location in the reservation hierarchy.</span></span> <span data-ttu-id="03d21-110">Dimensijas virs novietojuma vienmēr ietver preču dimensijas.</span><span class="sxs-lookup"><span data-stu-id="03d21-110">Dimensions above the location always include product dimensions.</span></span> <span data-ttu-id="03d21-111">Piemēram, ja krājums ir konfigurēts, izmantojot *Krāsu*, tad varianti *Sarkans*, *Zils* un *Dzeltens* var tikt apstrādāti paralēli.</span><span class="sxs-lookup"><span data-stu-id="03d21-111">For example, if an item is configured using *Color*, then variants for *Red*, *Blue*, and *Yellow* could each be processed in parallel.</span></span>

<span data-ttu-id="03d21-112">Tas nozīmē, ja vienu un to pašu krājumu, kam ir tādas pašas dimensijas virs novietojuma, piešķir viens kopums, citiem kopumiem jāgaida, lai iegūtu slēgu tam pašam krājumam un dimensijām.</span><span class="sxs-lookup"><span data-stu-id="03d21-112">This means that if the same item with the same dimensions above the location is being allocated by one wave, other waves will have to wait to acquire a lock on the same item and dimensions.</span></span> <span data-ttu-id="03d21-113">Ja bloķēšanu nevar iegūt laicīgi, radīsies kļūda un kopuma apstrāde neizdosies.</span><span class="sxs-lookup"><span data-stu-id="03d21-113">If the lock can't be acquired in a timely manner, an error will occur and the wave processing will fail.</span></span>

<span data-ttu-id="03d21-114">Lai izmantotu paralēlo apstrādi, kopumam ir jādarbojas partijā.</span><span class="sxs-lookup"><span data-stu-id="03d21-114">In order to utilize parallel processing, the wave must run in batch.</span></span>

## <a name="performance-improvements"></a><span data-ttu-id="03d21-115">Veiktspējas uzlabojumi</span><span class="sxs-lookup"><span data-stu-id="03d21-115">Performance improvements</span></span>

<span data-ttu-id="03d21-116">Paralēlās apstrādes veiktspējas priekšrocības ietilpst divās kategorijās:</span><span class="sxs-lookup"><span data-stu-id="03d21-116">Performance benefits of parallel processing fall in two categories:</span></span>

- <span data-ttu-id="03d21-117">**Uzlabota caurlaide** - kopumu caurlaide parasti uzlabosies, pat ja paralēlā apstrāde nav konfigurēta, it īpaši scenārijos, kuros kopumos pārklājas krājumi.</span><span class="sxs-lookup"><span data-stu-id="03d21-117">**Improved throughput** - The throughput of waves will typically improve even if parallel processing isn't configured, especially for scenarios where there is no overlap of items within the waves.</span></span>
- <span data-ttu-id="03d21-118">**Atsevišķa kopuma sadalījuma uzlabojums** — debitora datu pārbaude ir paralēlā 50% veiktspējas uzlabojums pēc pārslēgšanās uz paralēlo sadalījumu.</span><span class="sxs-lookup"><span data-stu-id="03d21-118">**Improvement of the allocation for a single wave** - Testing on customer data has shown a near 50% performance improvement after switching to parallel allocation.</span></span> <span data-ttu-id="03d21-119">Paralēlā apstrāde tiek veikta krājumiem un dimensijām virs novietojuma, tādējādi uzlabojumi ir atkarīgi no tā, cik dažādu krājumu ir kopums, pieejamā infrastruktūra un sadalījuma ilgums attiecībā pret darba izveides ilgumu.</span><span class="sxs-lookup"><span data-stu-id="03d21-119">The parallel processing is done per items and dimensions above the location, so the improvements depend on how many different items a wave contains, the infrastructure available, and the duration of the allocation versus the duration of the work creation.</span></span>

## <a name="configure-parallel-allocation"></a><span data-ttu-id="03d21-120">Konfigurēt paralēlu sadalījumu</span><span class="sxs-lookup"><span data-stu-id="03d21-120">Configure parallel allocation</span></span>

### <a name="warehouse-management-parameters"></a><span data-ttu-id="03d21-121">Noliktavas pārvaldības parametri</span><span class="sxs-lookup"><span data-stu-id="03d21-121">Warehouse management parameters</span></span>

<span data-ttu-id="03d21-122">Lai izmantotu paralēlu sadalījuma apstrādi, dodieties uz **Noliktavas pārvaldība > Iestatījumi > Noliktavas pārvaldības parametri**, atveriet cilni **Kopuma apstrāde** un veiciet šādus iestatījumus:</span><span class="sxs-lookup"><span data-stu-id="03d21-122">To use parallel allocation processing, go to **Warehouse management > Setup > Warehouse management parameters**, open the **Wave processing** tab, and make the following settings:</span></span>

- <span data-ttu-id="03d21-123">**Kopuma apstrādes partijas grupa** — atlasiet partijas grupu, kas jāizmanto sākotnējās laišanas darbību apstrādei.</span><span class="sxs-lookup"><span data-stu-id="03d21-123">**Wave processing batch group** - Select the batch group that the initial processing of the waves should use.</span></span> <span data-ttu-id="03d21-124">Tālāko sadalījuma apstrādi var veikt, izmantojot dažādas pakešuzdevumu grupas.</span><span class="sxs-lookup"><span data-stu-id="03d21-124">The subsequent processing of allocation can be done using different batch groups.</span></span>
- <span data-ttu-id="03d21-125">**Veikt kopumiem pakešveida apstrādi** — iestatiet to kā *Jā*, lai izmantotu paralēlo apstrādi.</span><span class="sxs-lookup"><span data-stu-id="03d21-125">**Process waves in batch** - Set this to *Yes* to use parallel processing.</span></span>
- <span data-ttu-id="03d21-126">**Gaidīt slēgu (ms)** - Ievadiet milisekundēs izteiktu laiku, cik ilgi sadalījuma darbībai ir jāgaida sistēmas resurss, kuru ir bloķējusi cita sadalījuma darbība.</span><span class="sxs-lookup"><span data-stu-id="03d21-126">**Wait for lock (ms)** - Enter the time, in milliseconds, that an allocation step will wait for a system resource that is locked by another allocation step.</span></span> <span data-ttu-id="03d21-127">Kad šis laiks ir pagājis, kopums netiek apstrādāts un tiek parādīts kļūdas ziņojums.</span><span class="sxs-lookup"><span data-stu-id="03d21-127">When this time is exceeded, the wave is not processed and an error message is displayed.</span></span> <span data-ttu-id="03d21-128">Ir ieteicams atļaut vismaz dažas sekundes, lai ļautu pabeigt vienas loģiskās vienības sadalījumu.</span><span class="sxs-lookup"><span data-stu-id="03d21-128">We recommend that you allow at least a few seconds to allow for allocation of one logical unit to finish.</span></span>

<span data-ttu-id="03d21-129">Papildinformāciju par šīm un citām kopuma apstrādes opcijām lapā **Noliktavas pārvaldības parametri** skatiet [Kopuma apstrādes noliktavas parametros](wave-warehouse-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="03d21-129">For information about these and other wave processing options on the **Warehouse management parameters** page, see [Warehouse parameters for wave processing](wave-warehouse-parameters.md).</span></span>

## <a name="wave-process-methods"></a><span data-ttu-id="03d21-130">Kopuma apstrādes metodes</span><span class="sxs-lookup"><span data-stu-id="03d21-130">Wave process methods</span></span>

<span data-ttu-id="03d21-131">Lai iestatītu paralēlo apstrādi:</span><span class="sxs-lookup"><span data-stu-id="03d21-131">To set up parallel processing:</span></span>

1. <span data-ttu-id="03d21-132">Dodieties uz **Noliktavas pārvaldība > Iestatījumi > Kopumi > Kopuma procesa metodes**.</span><span class="sxs-lookup"><span data-stu-id="03d21-132">Go to **Warehouse Management > Setup > Waves > Wave process methods**.</span></span>
1. <span data-ttu-id="03d21-133">Atlasiet režģī `allocateWave` metodi.</span><span class="sxs-lookup"><span data-stu-id="03d21-133">Select the `allocateWave` method in the grid.</span></span>
1. <span data-ttu-id="03d21-134">Darbību rūtī atlasiet **Uzdevuma konfigurāciju**.</span><span class="sxs-lookup"><span data-stu-id="03d21-134">On the Action Pane, select **Task configuration**.</span></span>
1. <span data-ttu-id="03d21-135">Tiek atvērta **Kopuma grāmatošanas metodes uzdevuma konfigurācijas** lapa.</span><span class="sxs-lookup"><span data-stu-id="03d21-135">The **Wave post method task configuration** page opens.</span></span> <span data-ttu-id="03d21-136">Šajā režģī ir uzskaitītas visas noliktavas, kurās metode ir `allocateWave` konfigurēta.</span><span class="sxs-lookup"><span data-stu-id="03d21-136">This grid lists each warehouse where you have configured the `allocateWave` method.</span></span> <span data-ttu-id="03d21-137">Paralēlā apstrāde tiks izmantota tikai uzskaitītajām noliktavām.</span><span class="sxs-lookup"><span data-stu-id="03d21-137">Parallel processing will only be used for warehouses that are listed.</span></span> <span data-ttu-id="03d21-138">Izmantojiet darbību rūts pogas, lai pievienotu vai aizvācu noliktavas no režģa pēc nepieciešamības.</span><span class="sxs-lookup"><span data-stu-id="03d21-138">Use the Action Pane buttons to add or remove warehouses from the grid as needed.</span></span> 
1. <span data-ttu-id="03d21-139">Katrai noliktavai veiciet šādus iestatījumus:</span><span class="sxs-lookup"><span data-stu-id="03d21-139">For each warehouse, make the following settings:</span></span>
    - <span data-ttu-id="03d21-140">**Maksimālais pakešuzdevumu skaits** - norādiet pakešuzdevumu skaitu, kas ir jāizmanto sadalījumam atlasītajā noliktavā.</span><span class="sxs-lookup"><span data-stu-id="03d21-140">**Maximum number of batch tasks** - Specify the number of batch tasks that should be used for the allocation for the selected warehouse.</span></span> <span data-ttu-id="03d21-141">Optimālais pakešuzdevumu skaits ir atkarīgs no pieejamās infrastruktūras un citu pakešuzdevumu apstrādes serverī.</span><span class="sxs-lookup"><span data-stu-id="03d21-141">The optimal number of batch tasks depends on the infrastructure available and what other batch jobs are being processed on the server.</span></span> <span data-ttu-id="03d21-142">Pārbaudes, kas veiktas četrās pamata vidēs, kas bija atvēlētas kopuma apstrādei, rādīja, ka astoņu uzdevumu izmantošana rada labākus rezultātus.</span><span class="sxs-lookup"><span data-stu-id="03d21-142">Tests done on a four core environment that was dedicated to wave processing showed that using eight tasks produced good results.</span></span>
    - <span data-ttu-id="03d21-143">**Kopuma apstrādes partijas grupa** - noteiktas partijas grupas var izmantot atšķirīgām noliktavām, lai atļautu sadalījuma apstrādei samazināt pa noliktavām.</span><span class="sxs-lookup"><span data-stu-id="03d21-143">**Wave processing batch group** - Specific batch groups can be used for different warehouses to allow the allocation processing to scale out per warehouse.</span></span>

## <a name="enable-or-disable-parallelization-across-all-legal-entities"></a><span data-ttu-id="03d21-144">Iespējot vai atspējot paralēlošanu visām juridiskajām personām</span><span class="sxs-lookup"><span data-stu-id="03d21-144">Enable or disable parallelization across all legal entities</span></span>

<span data-ttu-id="03d21-145">Ieteicams iestatīt `allocateWave` metodi paralēlai palaišanai visām juridiskajām personām, jo tas palīdz uzlabot kopuma apstrādes veiktspēju.</span><span class="sxs-lookup"><span data-stu-id="03d21-145">We recommend that you set the `allocateWave` method to run in parallel across all legal entities because this helps to improve the performance of the wave processing.</span></span> <span data-ttu-id="03d21-146">Tiek sākta Supply Chain Management versija 10.0.17, visām jaunajām un atjauninātām instalācijām pēc noklusējuma tiek aktivizēta *Kopuma paralēlās izmantošanas kopuma sadalīšanas metode*, un to nevar atkal izslēgt.</span><span class="sxs-lookup"><span data-stu-id="03d21-146">Starting in Supply Chain Management version 10.0.17, the *Wave parallelization for Allocate Wave method* feature is enabled by default for all new and updated installations, and can't be turned off again.</span></span> <span data-ttu-id="03d21-147">Pēc šīs funkcijas iespējošanas ir šādas darbības:</span><span class="sxs-lookup"><span data-stu-id="03d21-147">After enabling this feature, the following occurs:</span></span>

- <span data-ttu-id="03d21-148">`allocateWave` metode tiek atjaunināta, lai ietvertu uzdevuma konfigurācijas iestatījumu, kas ļauj izmantot lapu **Kopuma apstrādes metodes**, lai definētu vienlaicīgi veicamo uzdevumu skaitu, kas ir vienāds ar paralēlo procesu skaitu.</span><span class="sxs-lookup"><span data-stu-id="03d21-148">The `allocateWave` method is updated to include a task configuration setting that lets you use the **Wave process methods** page to define the number of tasks that will run simultaneously, equivalent to the number of parallel processes.</span></span> <span data-ttu-id="03d21-149">Tā rezultātā laiks, kas tiek izmantots iedalītā kopuma darbībā (kas parasti ir 30% līdz 60% no kopējā apstrādes laika) tiek samazināts par faktoru, kas aptuveni ir vienāds ar uzdevumu skaitu.</span><span class="sxs-lookup"><span data-stu-id="03d21-149">As a result, the time used on the allocate-wave step (which is typically 30% to 60% of the total processing time) is reduced by a factor roughly equivalent to the number of tasks.</span></span> <span data-ttu-id="03d21-150">Ir iespējams atlasīt arī to, kura pakete tiks piešķirta šo uzdevumu izpildei.</span><span class="sxs-lookup"><span data-stu-id="03d21-150">It's also possible to select which batch will be assigned to process these tasks.</span></span> <span data-ttu-id="03d21-151">Ir svarīgi atzīmēt, ka visas juridiskās personas tiks konfigurētas, lai paketes ietvaros apstrādātu kopumus.</span><span class="sxs-lookup"><span data-stu-id="03d21-151">It's important to note that all of your legal entities will be configured to process waves in batch.</span></span> <span data-ttu-id="03d21-152">Noliktavām, kas jau ir konfigurētas, lai apstrādātu kopumus paketē, un noliktavām, kas jau ir konfigurētas `allocateWave` metodes izmantošanai paralēli, esošā konfigurācija tiks saglabāta.</span><span class="sxs-lookup"><span data-stu-id="03d21-152">For the warehouses that are already configured to process waves in batch, and for the warehouses that are already configured to use the `allocateWave` method in parallel, the existing configuration will be kept.</span></span>
- <span data-ttu-id="03d21-153">Pēc noklusējuma visas jaunās juridiskās personas ir konfigurētas, lai apstrādātu kopumus partijā.</span><span class="sxs-lookup"><span data-stu-id="03d21-153">By default, all the new legal entities are configured to process waves in batch.</span></span> <span data-ttu-id="03d21-154">Visām jaunajām noliktavām, kurām ir iespējota **Noliktavas pārvaldības procesu** opcija, būs konfigurēta `allocateWave` metode paralēlai palaišanai pēc noklusējuma.</span><span class="sxs-lookup"><span data-stu-id="03d21-154">All new warehouses with the **Warehouse management processes** option enabled will have the `allocateWave` method configured to run in parallel by default.</span></span>
- <span data-ttu-id="03d21-155">Lapā **Noliktavas pārvaldības parametri** iestatījuma **Procesa saglabāšana partijā** ir iestatīta uz *Jā* un **Gaidīt slēgu (ms)** uz noklusējuma iestatījumu 15 sekundes.</span><span class="sxs-lookup"><span data-stu-id="03d21-155">On the **Warehouse management parameters** page, **Process saves in batch** is set to *Yes* and  **Wait for lock (ms)** set to a default 15 seconds.</span></span> <span data-ttu-id="03d21-156">Tas nozīmē, ka visi kopumi tiks izpildīti partijā.</span><span class="sxs-lookup"><span data-stu-id="03d21-156">This means that all waves will be executed in batch.</span></span> <span data-ttu-id="03d21-157">Kad kopums darbojas, piešķiršanas posmā tas iegūst vienuma un izmēru slēdzeni virs atrašanās vietas.</span><span class="sxs-lookup"><span data-stu-id="03d21-157">When a wave is running, it acquires a lock on the item and dimensions above location during the allocation step.</span></span> <span data-ttu-id="03d21-158">Kad nākamā laidiena apstrādes uzdevums mēģina iegūt vienu un to pašu slēdzeni identiskam ierakstam, tas tiek bloķēts līdz nākamās apstrādes beigām.</span><span class="sxs-lookup"><span data-stu-id="03d21-158">When another wave processing task tries to acquire the same lock for the identical record, it is blocked until the current process is finished.</span></span> <span data-ttu-id="03d21-159">Iestatījumi **Gaidīt slēgu (ms)** izveido maksimālo laiku, ko sistēma gaidīs, pirms slēgs tiks atbrīvots.</span><span class="sxs-lookup"><span data-stu-id="03d21-159">The **Wait for lock (ms)** settings establishes the maximum time the system will wait before the lock is released.</span></span>

<span data-ttu-id="03d21-160">Lai izmantotu paralēlo apstrādi, kopumam ir jādarbojas partijā.</span><span class="sxs-lookup"><span data-stu-id="03d21-160">Parallel allocation processing requires wave processing to run in batch.</span></span> <span data-ttu-id="03d21-161">Tāpēc jūs samazināsiet kopuma apstrādes veiktspēju, izslēdzot iestatījumu **Procesa saglabāšana partijā**, it īpaši, ja kopuma apstrāde izmanto paralēlu procesu, kā to nosaka uzdevumu konfigurācija attiecīgajām kopuma metodēm.</span><span class="sxs-lookup"><span data-stu-id="03d21-161">Therefore, you will reduce your wave processing performance if you turn off the **Process saves in batch** setting, especially if wave processing is using a parallel process as defined by the task configuration for the relevant wave methods.</span></span>

<span data-ttu-id="03d21-162">Ja nepieciešams, varat atsaukt katru iestatījumu, kas tika veikts pēc noklusējuma, kad instancei automātiski aktivizēta funkcionalitāte *Kopuma paralēlošana kopuma dalīšanas metodei*.</span><span class="sxs-lookup"><span data-stu-id="03d21-162">If necessary, you can undo each of the settings made by default when the *Wave parallelization for Allocate Wave method* feature is automatically enabled for your instance.</span></span> <span data-ttu-id="03d21-163">Lai izpildītu šo darbību:</span><span class="sxs-lookup"><span data-stu-id="03d21-163">To do this:</span></span>

- <span data-ttu-id="03d21-164">Dodieties uz **Noliktavas pārvaldība \> Iestatījumi \> Noliktavas pārvaldības parametri**.</span><span class="sxs-lookup"><span data-stu-id="03d21-164">Go to **Warehouse management \> Setup \> Warehouse management parameters**.</span></span> <span data-ttu-id="03d21-165">Cilnē **Kopuma apstrāde** lietojiet vēlamās vērtības **Kopuma apstrādei partijā** un **Gaidīt bloķēšanu (ms)**.</span><span class="sxs-lookup"><span data-stu-id="03d21-165">On the **Wave processing** tab, apply your preferred values for **Process waves in batch** and **Wait for lock (ms)**.</span></span>
- <span data-ttu-id="03d21-166">Dodieties uz **Noliktavas pārvaldība \> Iestatīšana \> Kopumi \> Kopuma procesa metodes**.</span><span class="sxs-lookup"><span data-stu-id="03d21-166">Go to **Warehouse management \> Setup \> Waves \> Wave process methods**.</span></span> <span data-ttu-id="03d21-167">Atlasiet `allocateWave` metodi.</span><span class="sxs-lookup"><span data-stu-id="03d21-167">Select the `allocateWave` method.</span></span> <span data-ttu-id="03d21-168">Darbību rūtī atlasiet **Uzdevuma konfigurāciju**, lai atvērtu lapu ar katras noliktavas sarakstu, kur metode iestatīta paralēlai palaišanai.</span><span class="sxs-lookup"><span data-stu-id="03d21-168">On the Action Pane, select **Task configuration** to open a page that lists each warehouse where the method is set to run in parallel.</span></span> <span data-ttu-id="03d21-169">Ja nepieciešams, modificējiet vai dzēsiet pakešuzdevumu skaitu un katrai uzskaitītai noliktavai piešķirto kopuma grupu.</span><span class="sxs-lookup"><span data-stu-id="03d21-169">Modify or delete the number of batch tasks and the assigned wave group for each listed warehouse as needed.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="03d21-170">Problēmu novēršana</span><span class="sxs-lookup"><span data-stu-id="03d21-170">Troubleshooting</span></span>

### <a name="troubleshoot-using-the-infolog"></a><span data-ttu-id="03d21-171">Problēmu novēršana, izmantojot informācijas žurnālu</span><span class="sxs-lookup"><span data-stu-id="03d21-171">Troubleshoot using the Infolog</span></span>

<span data-ttu-id="03d21-172">Tā kā tiek izmantota partijas struktūra, kopuma apstrādes laikā radušās kļūdas tiks uztvertas kā daļa no pakešuzdevumiem Infologs.</span><span class="sxs-lookup"><span data-stu-id="03d21-172">Because the batch framework is used, errors that occur during wave processing will be captured as part of the batch jobs Infologs.</span></span> <span data-ttu-id="03d21-173">Lai lasītu ar lai kopumu saistītos pakešuzdevumus:</span><span class="sxs-lookup"><span data-stu-id="03d21-173">To read the batch jobs related to a wave:</span></span>

1. <span data-ttu-id="03d21-174">Dodieties uz **Noliktavas pārvaldība \> Izejošie kopumi \> Sūtījuma kopumi \> Visi kopumi**.</span><span class="sxs-lookup"><span data-stu-id="03d21-174">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="03d21-175">Atlasiet kopumu, kuru vēlaties pārbaudīt.</span><span class="sxs-lookup"><span data-stu-id="03d21-175">Select the wave you want to inspect.</span></span>
1. <span data-ttu-id="03d21-176">Darbības rūtī atveriet cilni **Kopums** un grupā **Kopums** atlasiet **Pakešuzdevumi**.</span><span class="sxs-lookup"><span data-stu-id="03d21-176">On the Action Pane, open the **Wave** tab and, from the **Wave** group, select **Batch jobs**.</span></span>

<span data-ttu-id="03d21-177">Kopuma apstrāde ir pašlabošana, tādēļ par jebkādu apstrādes laikā konstatēto kļūdu ir jāziņo, izmantojot informācijas žurnālu.</span><span class="sxs-lookup"><span data-stu-id="03d21-177">Wave processing is self-correcting, so any error detected during processing should be reported using the Infolog.</span></span>

<span data-ttu-id="03d21-178">Ar paralēlo apstrādi saistīta kļūda var būt tāda, ka divi kopumi mēģina piešķirt vienu krājumu vienlaicīgi, bet viens nav pabeigts, tādējādi cits kopums noteiktā laikā nevar iegūt bloķēšanu.</span><span class="sxs-lookup"><span data-stu-id="03d21-178">A typical error related to parallel processing could be that two waves try to allocate the same item at the same time and one does not complete so that the other wave is unable to acquire a lock within the specified time.</span></span> <span data-ttu-id="03d21-179">Ja tāda ir, pakešuzdevumu žurnālā tiks ietverta informācija, kas norāda, ka krājuma bloķēšanu nav iespējams iegūt. Šādā gadījumā neveiksmīgais kopums ir jāapstrādā vēlreiz.</span><span class="sxs-lookup"><span data-stu-id="03d21-179">If this situation occurs, the batch jobs log will contain information stating that the lock for the item could not be acquired, in which case the wave that failed must be processed again.</span></span>

<span data-ttu-id="03d21-180">Tā kā apstrāde notiek paralēli, dati jāsaglabā dažādās tabulās, lai atsekotu apstrādes stāvokli.</span><span class="sxs-lookup"><span data-stu-id="03d21-180">Because the processing is happening in parallel, data must be maintained in different tables to track the state of the processing.</span></span> <span data-ttu-id="03d21-181">Tas nozīmē, ka pakešuzdevumu žurnālos var būt kļūdas, piemēram, atslēgas dublikātu kļūdas.</span><span class="sxs-lookup"><span data-stu-id="03d21-181">This means that the logs for the batch jobs might contain errors such as duplicate key errors.</span></span>

<span data-ttu-id="03d21-182">Pakešuzdevumu kļūdas ir arī daļa no pakešuzdevumu žurnāla.</span><span class="sxs-lookup"><span data-stu-id="03d21-182">The errors from the batch tasks are also part of the batch jobs log.</span></span> <span data-ttu-id="03d21-183">Svarīgākā informācija parasti ir apakšpusē.</span><span class="sxs-lookup"><span data-stu-id="03d21-183">The most important information is typically at the bottom.</span></span>

<span data-ttu-id="03d21-184">Retos gadījumos, piemēram, ja SQL savienojums ir pabeigts, kopuma apstrādei ir iespējams beigties neatbilstīgā stāvoklī, kurā pakešuzdevums tiek palaists, bet apstrāde ir apturēta.</span><span class="sxs-lookup"><span data-stu-id="03d21-184">In rare cases, for example if the SQL connection ended, it is possible for the wave processing to end in an inconsistent state where the batch job appears to be running but the processing is stopped.</span></span> <span data-ttu-id="03d21-185">Kopums nevar apstrādāt kļūdas šādi, tādēļ mēģinājums iztīrīt neizdevušos kopumus tiek veikts, kad tiek palaists nākamais kopums.</span><span class="sxs-lookup"><span data-stu-id="03d21-185">The wave can't handle errors like this, so an attempt to clean up failed waves is done when the next wave runs.</span></span> <span data-ttu-id="03d21-186">Vai arī, ja pašreizējais kopums ir neatbilstīgā stāvoklī, veiciet šādas darbības:</span><span class="sxs-lookup"><span data-stu-id="03d21-186">Alternatively, if the current wave is in an inconsistent state, perform the following steps:</span></span>

1. <span data-ttu-id="03d21-187">Dodieties uz **Noliktavas pārvaldība \> Izejošie kopumi \> Sūtījuma kopumi \> Visi kopumi**.</span><span class="sxs-lookup"><span data-stu-id="03d21-187">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="03d21-188">Atlasiet kopumu, kas jānotīra.</span><span class="sxs-lookup"><span data-stu-id="03d21-188">Select the wave you need to clean up.</span></span>
1. <span data-ttu-id="03d21-189">Darbības rūtī atveriet cilni **Kopums** un grupā **Kopums** atlasiet **Attīrīšanas kopuma dati**.</span><span class="sxs-lookup"><span data-stu-id="03d21-189">On the Action Pane, open the **Wave** tab and, in the **Wave** group, select **Cleanup wave data**.</span></span>

### <a name="troubleshoot-using-the-wave-progress-log"></a><span data-ttu-id="03d21-190">Problēmu novēršana, izmantojot kopuma norises žurnālu</span><span class="sxs-lookup"><span data-stu-id="03d21-190">Troubleshoot using the wave progress log</span></span>

<span data-ttu-id="03d21-191">Ja **Noliktavas pārvaldības parametru** lapā ir iespējota opcija **Izveidot kopuma norises žurnālu**, tad žurnāla ieraksts tiek izveidots katru reizi, kad krājumam tiek sākta un beigta dimensija.</span><span class="sxs-lookup"><span data-stu-id="03d21-191">If the **Create wave progress log** option is enabled on the **Warehouse management parameters** page, then a log record is created every time allocation for an item and its dimensions begins and ends.</span></span> <span data-ttu-id="03d21-192">Šis žurnāls jāiespējo tikai tad, kad tas ir nepieciešams, piemēram, sākotnējās testēšanas vai problēmu novēršanas laikā.</span><span class="sxs-lookup"><span data-stu-id="03d21-192">You should only enable this log when you need it, for example, during initial testing or for troubleshooting.</span></span> <span data-ttu-id="03d21-193">Kad šī opcija ir aktivizēta, jūs variet skatīt žurnālu, veicot šādas darbības:</span><span class="sxs-lookup"><span data-stu-id="03d21-193">When this option is enabled, you can view the log by taking the following steps:</span></span>

1. <span data-ttu-id="03d21-194">Dodieties uz **Noliktavas pārvaldība \> Izejošie kopumi \> Sūtījuma kopumi \> Visi kopumi**.</span><span class="sxs-lookup"><span data-stu-id="03d21-194">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="03d21-195">Atlasiet kopumu, kuru vēlaties pārbaudīt.</span><span class="sxs-lookup"><span data-stu-id="03d21-195">Select the wave you want to inspect.</span></span>
1. <span data-ttu-id="03d21-196">Darbību rūts cilnē **Kopums**, grupā **Kopums** atlasiet **Progress**.</span><span class="sxs-lookup"><span data-stu-id="03d21-196">On the Action Pane, open the **Wave** tab and, in the **Wave** group, select **Progress**.</span></span>
