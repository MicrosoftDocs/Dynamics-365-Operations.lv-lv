---
title: Nolietojuma grāmatas jaunināšanas apskats
description: Iepriekšējos laidienos pamatlīdzekļiem pastāvēja divi vērtēšanas jēdzieni — vērtības modeļi un nolietojuma grāmatas. Programmā Microsoft Dynamics 365 for Operations (1611) vērtības modeļa funkcionalitāte un nolietojuma grāmatas funkcionalitāte ir apvienotas vienā jēdzienā, kas tiek saukts par grāmatu. Šajā tēmā ir norādīts uz dažiem faktoriem, kas ir jāņem vērā, veicot jaunināšanu.
author: ShylaThompson
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User, Developer
ms.reviewer: roschlom
ms.search.scope: Core, Operations
ms.custom: 221624
ms.assetid: cf434099-36f9-4b0f-a7c8-bed091e34f39
ms.search.region: global
ms.author: saraschi
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: Version 1611
ms.openlocfilehash: ef906393ef07661ecd3ceefdbe62310de5ceff21
ms.sourcegitcommit: 8b4b6a9226d4e5f66498ab2a5b4160e26dd112af
ms.translationtype: HT
ms.contentlocale: lv-LV
ms.lasthandoff: 08/01/2019
ms.locfileid: "1840653"
---
# <a name="depreciation-book-upgrade-overview"></a><span data-ttu-id="8ff9c-105">Nolietojuma grāmatas jaunināšanas apskats</span><span class="sxs-lookup"><span data-stu-id="8ff9c-105">Depreciation book upgrade overview</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="8ff9c-106">Iepriekšējos laidienos pamatlīdzekļiem pastāvēja divi vērtēšanas jēdzieni — vērtības modeļi un nolietojuma grāmatas.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-106">In previous releases, there were two valuation concepts for fixed assets -  value models and depreciation books.</span></span> <span data-ttu-id="8ff9c-107">Programmā Microsoft Dynamics 365 for Operations (1611) vērtības modeļa funkcionalitāte un nolietojuma grāmatas funkcionalitāte ir apvienotas vienā jēdzienā, kas tiek saukts par grāmatu.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-107">In Microsoft Dynamics 365 for Operations (1611), the value model functionality and depreciation book functionality have been merged into a single concept that is known as a book.</span></span> <span data-ttu-id="8ff9c-108">Šajā tēmā ir norādīts uz dažiem faktoriem, kas ir jāņem vērā, veicot jaunināšanu.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-108">This topic provides some things to consider for the upgrade.</span></span> 

<span data-ttu-id="8ff9c-109">Jaunināšanas process jūsu esošos iestatījumus un visas pastāvošās transakcijas pārvietos uz jaunās grāmatas struktūru.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-109">The upgrade process will move your existing setup and all existing transactions to the new book structure.</span></span> <span data-ttu-id="8ff9c-110">Vērtību modeļi saglabāsies pašreizējā stāvokli, kā grāmata, kas grāmato Virsgrāmatā.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-110">Value models will remain as they currently are, as a book that posts to the general ledger.</span></span> <span data-ttu-id="8ff9c-111">Nolietojuma grāmatas tiks pārvietotas uz grāmatu, kurai opcija **Grāmatot virsgrāmatā** ir iestatīta uz **Nē**.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-111">Depreciation books will be moved to a book that has the **Post to general ledger** option set to **No**.</span></span> <span data-ttu-id="8ff9c-112">Nolietojuma grāmatas žurnāla nosaukumi tiks pārvietoti uz virsgrāmatas žurnāla nosaukumu, kura grāmatošanas slānis ir iestatīts uz **Nav**.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-112">Depreciation book journal names will be moved to a general ledger journal name with the posting layer set to **None**.</span></span> <span data-ttu-id="8ff9c-113">Nolietojuma grāmatas transakcijas tiks pārvietotas uz pamatlīdzekļu transakcijām.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-113">Depreciation book transactions will be moved to Fixed asset transactions.</span></span> 

<span data-ttu-id="8ff9c-114">Pirms palaižat datu jaunināšanu, jums ir jāsaprot abas opcijas, kas ir pieejamas nolietojuma grāmatas žurnālu rindu jaunināšanai uz transakciju dokumentiem, un numuru sēriju, kas tiks izmantota dokumentu sērijai.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-114">Before running the data upgrade, you should understand the two options available for upgrading depreciation book journal lines to transaction vouchers, and the number sequence that will be used for the voucher series.</span></span> 

<span data-ttu-id="8ff9c-115">1. opcija: **Sistēmas definēta numuru sērija** — šī ir noklusējuma opcija jauninājuma veiktspējas optimizēšanai.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-115">Option 1:  **System-defined number sequence** - This is the default option to optimize upgrade performance.</span></span> <span data-ttu-id="8ff9c-116">Jauninājums neizmantos numuru sēriju struktūru, bet tās vietā dokumentiem izmantos no kopas atkarīgu pieeju.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-116">The upgrade will not use the number sequences framework, but instead will allocate vouchers with a set-based approach.</span></span> <span data-ttu-id="8ff9c-117">Pēc jaunināšanas tiks veidota jaunā numuru sērija, kuras **Nākamā skaitļu kopa** attiecīgi būs pamatota uz jauninātajām transakcijām.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-117">After the upgrade, the new number sequence will be created with the **Next number set** appropriately based on the upgraded transactions.</span></span> <span data-ttu-id="8ff9c-118">Pēc noklusējuma izmantotā numuru sērija būs formātā FADBUpgr\#\#\#\#\#\#\#\#\#.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-118">By default, the number sequence used will be in the FADBUpgr\#\#\#\#\#\#\#\#\# format.</span></span> <span data-ttu-id="8ff9c-119">Kad izmantojot šo pieeju, formāta pielāgošanai jums ir pieejami vairāki tālāk aprakstītie parametri.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-119">There are a few parameters available to you to adjust the format when using this approach:</span></span>

-   <span data-ttu-id="8ff9c-120">**Numuru sērijas kods** — kods šīs numuru sērijas identificēšanai.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-120">**Number sequence code** – The code to identify the number sequence.</span></span> <span data-ttu-id="8ff9c-121">Šis numuru sērijas kods nevar pastāvēt, jo tas tiks izveidots ar jaunināšanu.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-121">This number sequence code cannot exist since it will be created by the upgrade.</span></span>
    -   <span data-ttu-id="8ff9c-122">Konstantes nosaukums: **NumberSequenceDefaultCode**</span><span class="sxs-lookup"><span data-stu-id="8ff9c-122">Constant name: **NumberSequenceDefaultCode**</span></span>
    -   <span data-ttu-id="8ff9c-123">Noklusējuma vērtība: “FADBUpgr”</span><span class="sxs-lookup"><span data-stu-id="8ff9c-123">Default value: "FADBUpgr"</span></span>
-   <span data-ttu-id="8ff9c-124">**Prefikss** — konstanta virknes vērtība, kas tiks izmantota kā prefikss dokumentu numuriem.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-124">**Prefix** – The constant string value that will be used as a prefix for the voucher numbers.</span></span>
    -   <span data-ttu-id="8ff9c-125">Konstantes nosaukums: **NumberSequenceDefaultParameterPrefix**</span><span class="sxs-lookup"><span data-stu-id="8ff9c-125">Constant name: **NumberSequenceDefaultParameterPrefix**</span></span>
    -   <span data-ttu-id="8ff9c-126">Noklusējuma vērtība: “FADBUpgr”</span><span class="sxs-lookup"><span data-stu-id="8ff9c-126">Default value: "FADBUpgr"</span></span>
-   <span data-ttu-id="8ff9c-127">**Burtciparu garums** — numuru sērijas burtciparu segmenta garums.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-127">**Alphanumeric length** – The length of the alphanumeric segment of the number sequence.</span></span>
    -   <span data-ttu-id="8ff9c-128">Konstantes nosaukums: \*\*NumberSequenceDefaultParameterAlpanumericLength \*\*</span><span class="sxs-lookup"><span data-stu-id="8ff9c-128">Constant name: \*\*NumberSequenceDefaultParameterAlpanumericLength \*\*</span></span>
    -   <span data-ttu-id="8ff9c-129">Noklusējuma vērtība: 9</span><span class="sxs-lookup"><span data-stu-id="8ff9c-129">Default value: 9</span></span>
-   <span data-ttu-id="8ff9c-130">**Sākuma numurs** — pirmais šajā numuru sērijā izmantojamais numurs.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-130">**Start number** - The first number to be used in the number sequence.</span></span>
    -   <span data-ttu-id="8ff9c-131">Konstantes nosaukums: **NumberSequenceDefaultParameterStartNumber**</span><span class="sxs-lookup"><span data-stu-id="8ff9c-131">Constant name: \*\*NumberSequenceDefaultParameterStartNumber  \*\*</span></span>
    -   <span data-ttu-id="8ff9c-132">Noklusējuma vērtība: 1</span><span class="sxs-lookup"><span data-stu-id="8ff9c-132">Default value: 1</span></span>

<span data-ttu-id="8ff9c-133">2. opcija: **Pastāvoša lietotāja definēta numuru sērija** — šī opcija jums ļauj definēt numuru sēriju, ko lietot jauninājumam.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-133">Option 2: **Existing user-defined number sequence** - This option will allow you to define the number sequence to be used for the upgrade.</span></span> <span data-ttu-id="8ff9c-134">Apsveriet iespēju lietot šo opciju, ja ir nepieciešama detalizēta numuru sērijas konfigurēšana.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-134">Consider using this option if you need advanced number sequence configuration.</span></span> <span data-ttu-id="8ff9c-135">Lai lietotu numuru sēriju, jums ir nepieciešams jauninājuma klasi ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans modificēt ar tālāk norādīto informāciju.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-135">To use a number sequence, you must modify the upgrade class ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans with the following information:</span></span>

-   <span data-ttu-id="8ff9c-136">**Numuru sērijas kods** — šīs numuru sērijas kods.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-136">**Number sequence code** – The code of the number sequence.</span></span>
    -   <span data-ttu-id="8ff9c-137">Konstantes nosaukums: **NumberSequenceExistingCode**</span><span class="sxs-lookup"><span data-stu-id="8ff9c-137">Constant name: \*\*NumberSequenceExistingCode \*\*</span></span>
    -   <span data-ttu-id="8ff9c-138">Noklusējuma vērtība: noklusējuma vērtības nav, tā ir jāatjaunina uz numuru sērijas kodu.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-138">Default value: No default, this must be updated to the number sequence code.</span></span>
-   <span data-ttu-id="8ff9c-139">**Kopīga numuru sērija** — Būla vērtība, lai identificētu numuru sērijas tvērumu.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-139">**Shared number sequence** – A boolean value to identify the scope of the number sequence.</span></span> <span data-ttu-id="8ff9c-140">Lietojiet “true” visos uzņēmumos kopīgām numuru sērijām, un lietojiet “false” no uzņēmuma atkarīgam tvērumam.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-140">Use "true" for shared number sequences across all companies, and "false" for a company-specific scope.</span></span> <span data-ttu-id="8ff9c-141">Kad lietojat “false”, tad numuru sērijai ar norādīto nosaukumu ir jāpastāv ikvienā uzņēmumā, kas ietver nolietojuma grāmatas transakcijas.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-141">When using "false", the number sequence with the specified name must exist in every company that contains depreciation book transactions.</span></span> <span data-ttu-id="8ff9c-142">Kopīgās numuru sērijas pastāv katrā nodalījumā, kas ietver nolietojuma grāmatas transakcijas.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-142">Shared number sequences exist in every partition that contains depreciation book transactions.</span></span>
    -   <span data-ttu-id="8ff9c-143">Konstantes nosaukums: **NumberSequenceExistingIsShared**</span><span class="sxs-lookup"><span data-stu-id="8ff9c-143">Constant name: \*\*NumberSequenceExistingIsShared \*\*</span></span>
    -   <span data-ttu-id="8ff9c-144">Noklusējuma vērtība: true</span><span class="sxs-lookup"><span data-stu-id="8ff9c-144">Default value: true</span></span>

<span data-ttu-id="8ff9c-145">Šie parametri atrodas klases ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans sākumā.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-145">The parameters are located at the beginning of the ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans class.</span></span> 

<span data-ttu-id="8ff9c-146">*// Norādiet ieteicamo dokumentu sadalījuma metodi* 
 *// true, ja vēlaties lietot pastāvošu numuru sērijas kodu* 
 *// false, ja plānojat lietot sistēmas definētu numuru sēriju (noklusējums)* const boolean NumberSequenceUseExistingCode = false;</span><span class="sxs-lookup"><span data-stu-id="8ff9c-146">*// Specify a preferable approach of vouchers allocation* 
 *// true, if you want to use an existing number sequence code* 
 *// false, if you intend to use the system-defined number sequence (default)* const boolean NumberSequenceUseExistingCode = false;</span></span>  

<span data-ttu-id="8ff9c-147">*// Ja lietojat metodi ar sistēmas definētu numuru sēriju, norādiet numuru sērijas parametrus.*
 *// Tiks izveidota jauna numuru sērija ar šiem parametriem.*</span><span class="sxs-lookup"><span data-stu-id="8ff9c-147">*// If using the system-defined number sequence approach, specify the parameters for the number sequence.*
 *// A new number sequence will be created with these parameters.*</span></span> <span data-ttu-id="8ff9c-148">const str NumberSequenceDefaultCode = 'FADBUpgr'; const str NumberSequenceDefaultParameterPrefix = 'FADBUpgr'; const int NumberSequenceDefaultParameterAlpanumericLength = 9; const int NumberSequenceDefaultParameterStartNumber = 1;</span><span class="sxs-lookup"><span data-stu-id="8ff9c-148">const str NumberSequenceDefaultCode = 'FADBUpgr'; const str NumberSequenceDefaultParameterPrefix = 'FADBUpgr'; const int NumberSequenceDefaultParameterAlpanumericLength = 9; const int NumberSequenceDefaultParameterStartNumber = 1;</span></span>   

<span data-ttu-id="8ff9c-149">*// Ja lietojat metodi ar pastāvošu numuru sēriju, norādiet pastāvošās numuru sērijas kodu.* 
 *// Pastāvošajām numuru sērijām dokumentu sadalījums darbosies pa vienai rindai.*</span><span class="sxs-lookup"><span data-stu-id="8ff9c-149">*// If using the existing number sequence approach, specify the existing number sequence code.* 
 *// Voucher allocation will go row-by-row for existing number sequences.*</span></span> <span data-ttu-id="8ff9c-150">const str NumberSequenceExistingCode = ''; *// Norādiet pastāvošās numuru sērijas koda tvērumu* 
 *// true, ja norādītā numuru sērija ir kopīga* 
 *// false, ja norādītā numuru sērija ir katram uzņēmumam sava* 
 *// Noklusējuma sistēmas definētā numuru sērija tiek izmantota, ja netiek atrasts numuru sērijas kods ar norādīto tvērumu.*</span><span class="sxs-lookup"><span data-stu-id="8ff9c-150">const str NumberSequenceExistingCode = ''; *// Specify the scope of the existing number sequence code* 
 *// true, if the specified number sequence is shared* 
 *// false, if the specified number sequence is per-company* 
 *// The default system-defined number sequence will be used if a number sequence code with the specified scope is not found.*</span></span> <span data-ttu-id="8ff9c-151">const boolean NumberSequenceExistingIsShared = true;</span><span class="sxs-lookup"><span data-stu-id="8ff9c-151">const boolean NumberSequenceExistingIsShared = true;</span></span> 

<span data-ttu-id="8ff9c-152">Kad konstantes ir modificētas, atjaunojiet projektu, kas satur šo klasi.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-152">Rebuild the project that contains the class after the constants have been modified.</span></span> 

<span data-ttu-id="8ff9c-153">Kad lietojat metodi ar sistēmas ģenerēto numuru sēriju (1. opcija), jaunināšana izmantos no kopas atkarīgo apstrādi, lai piešķirtu dokumentu numurus, kā norādīts jaunināšanas skripta parametros.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-153">When using the system-generated number sequence approach (option 1), the upgrade will use set-based processing to allocate the voucher numbers as specified in the upgrade script parameters.</span></span> <span data-ttu-id="8ff9c-154">Pēc piešķiršanas tiek arī izveidota jauna numuru sērija ar norādītajiem parametriem.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-154">It will also create a new number sequence with specified parameters after the allocation.</span></span> 

<span data-ttu-id="8ff9c-155">Kad lietojat metodi ar lietotāja definētu pastāvošu numuru sēriju (2. opcija), tad datu jaunināšana pārbauda, vai datu bāzē katram nodalījumam un uzņēmumam ar nolietojuma grāmatas transakcijām pastāv numuru sērija ar norādīto tvērumu.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-155">When using the user-defined existing number sequence approach (option 2), the data upgrade checks whether the number sequence with the specified scope exists in the database for each partition and company with depreciation book transactions.</span></span> <span data-ttu-id="8ff9c-156">Ja tā pastāv, jaunināšana izmantos apstrādi pa vienai rindai, lai piešķirtu dokumentu numurus, kā norādīts ar numuru sēriju, izmantojot numuru sērijas struktūru.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-156">If it does exist, the upgrade will use row-by-row processing to allocate the voucher numbers as specified by the number sequence using the number sequence framework.</span></span> <span data-ttu-id="8ff9c-157">Ja šī numuru sērija norādītajā tvērumā nepastāv, tad jaunināšana izmantos noklusējuma sistēmas definētas numuru sērijas metodi, lai piešķirtu dokumentu numurus, un pēc sadales izveidos jaunu numuru sēriju ar norādītajiem noklusējuma parametriem.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-157">If the number sequence does not exist with the specified scope, the upgrade will use the default system-defined number sequence approach to allocate the voucher numbers, and will create a new number sequence with specified default parameters after the allocation.</span></span>

<span data-ttu-id="8ff9c-158">Ar jebkuru no šīm metodēm datu jaunināšanas skripts izmantos arī numuru sēriju laukam **Dokumentu sērija** jaunajos virsgrāmatas žurnālu nosaukumos, kas tiek izveidoti iepriekšējiem nolietojuma grāmatas žurnāla nosaukumiem.</span><span class="sxs-lookup"><span data-stu-id="8ff9c-158">With either approach, the data upgrade script will also use the number sequence for the **Voucher series** field on the new general ledger journal names created for the former depreciation book journal names.</span></span>



