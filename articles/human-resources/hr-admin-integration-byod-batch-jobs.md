---
title: BYOD plānoto pakešuzdevumu optimizēšana
description: Šajā tēmā ir izskaidrots, kā optimizēt veiktspēju, kad lietojat savu datu bāzes (BYOD) līdzekli, izmantojot Microsoft Dynamics 365 Human Resources.
author: andreabichsel
ms.date: 08/17/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.search.scope: Human Resources
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: anbichse
ms.search.validFrom: 2020-08-10
ms.dyn365.ops.version: Platform update 36
ms.openlocfilehash: ed3ebbf09403090a1173c3cda1a4b11b74419b90
ms.sourcegitcommit: 879ee8a10e6158885795dce4b3db5077540eec41
ms.translationtype: HT
ms.contentlocale: lv-LV
ms.lasthandoff: 05/18/2021
ms.locfileid: "6052677"
---
# <a name="optimize-byod-scheduled-batch-jobs"></a><span data-ttu-id="c8801-103">BYOD plānoto pakešuzdevumu optimizēšana</span><span class="sxs-lookup"><span data-stu-id="c8801-103">Optimize BYOD scheduled batch jobs</span></span>

[!include [Applies to Human Resources](../includes/applies-to-hr.md)]

<span data-ttu-id="c8801-104">Šajā tēmā ir izskaidrots, kā optimizēt veiktspēju, kad lietojat savu datu bāzes (BYOD) līdzekli.</span><span class="sxs-lookup"><span data-stu-id="c8801-104">This topic explains how to optimize performance when you're using the bring your own database (BYOD) feature.</span></span> <span data-ttu-id="c8801-105">Plašāku informāciju par BYOD skatiet [Lietot savu datu bāzi (BYOD)](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c8801-105">For more information about BYOD, see [Bring your own database (BYOD)](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

## <a name="performance-considerations-for-data-export"></a><span data-ttu-id="c8801-106">Veiktspējas apsvērumi datu eksportam</span><span class="sxs-lookup"><span data-stu-id="c8801-106">Performance considerations for data export</span></span>

<span data-ttu-id="c8801-107">Kad entītijas ir publicētas mērķa datu bāzē, varat izmantot eksporta funkciju **Datu pārvaldības** darbvietā, lai pārvietotu datus.</span><span class="sxs-lookup"><span data-stu-id="c8801-107">After entities are published to the destination database, you can use the Export function in the **Data management** workspace to move data.</span></span> <span data-ttu-id="c8801-108">Eksporta funkcija ļauj definēt Datu kustības darbu, kas ietver vienu vai vairākas entītijas.</span><span class="sxs-lookup"><span data-stu-id="c8801-108">The Export function lets you define a Data movement job that contains one or more entities.</span></span> <span data-ttu-id="c8801-109">Papildinformāciju par datu pārvaldību skatiet [Datu importēšanas un eksportēšanas darbu apskats](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c8801-109">For more information about data export, see [Data import and export jobs overview](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

<span data-ttu-id="c8801-110">Varat izmantot **Eksporta** lapu, lai eksportētu datus uz dažādiem mērķa datu formātiem, piemēram, komatatdalīto vērtību (CSV) failu.</span><span class="sxs-lookup"><span data-stu-id="c8801-110">You can use the **Export** page to export data into different target data formats, such as a comma-separated values (CSV) file.</span></span> <span data-ttu-id="c8801-111">Šī lapa atbalsta arī SQL datu bāzes kā citu mērķi.</span><span class="sxs-lookup"><span data-stu-id="c8801-111">This page also supports SQL databases as another destination.</span></span>

<span data-ttu-id="c8801-112">Varat izveidot datu projektu, kam ir vairāki elementi, un izmantot pakešuzdevumu, lai plānotu šī datu projekta palaišanu.</span><span class="sxs-lookup"><span data-stu-id="c8801-112">You can create a data project that has multiple entities and use a batch job to schedule that data project to run.</span></span> <span data-ttu-id="c8801-113">Ja atlasāt opciju **Eksportēt pakešuzdevumā**, varat ieplānot periodisku datu eksporta darbu.</span><span class="sxs-lookup"><span data-stu-id="c8801-113">If you select the **Export in batch** option, you can schedule the data export job to run periodically.</span></span>

<span data-ttu-id="c8801-114">Lai palīdzētu saglabāt BYOD eksporta vispārējo uzticamību, jums ir jāuzmanās, kad eksporta projektam pievienojat vairākus elementus.</span><span class="sxs-lookup"><span data-stu-id="c8801-114">To help preserve the overall reliability of the BYOD export, you must be careful when you add multiple entities to an export project.</span></span> <span data-ttu-id="c8801-115">Kad tiek noteikts entītiju skaits, kas jāpievieno vienam projektam, apsveriet šādus parametrus:</span><span class="sxs-lookup"><span data-stu-id="c8801-115">When you're determining the number of entities to add to the same project, consider the following parameters:</span></span>

- <span data-ttu-id="c8801-116">Entītiju sarežģītība</span><span class="sxs-lookup"><span data-stu-id="c8801-116">The complexity of the entities</span></span>
- <span data-ttu-id="c8801-117">Paredzamais datu apjoms pa vienībām</span><span class="sxs-lookup"><span data-stu-id="c8801-117">The expected data volume per entity</span></span>
- <span data-ttu-id="c8801-118">Kopējais laiks, kas būs nepieciešams, lai pabeigtu eksportēšanu darba līmenī</span><span class="sxs-lookup"><span data-stu-id="c8801-118">The overall time that will be required to complete the export at the job level</span></span>

<span data-ttu-id="c8801-119">Lai panāktu vislabāko veiktspēju, centieties pievienot simtiem entītiju vienam projektam.</span><span class="sxs-lookup"><span data-stu-id="c8801-119">For the best performance, avoid adding hundreds of entities to a single project.</span></span> <span data-ttu-id="c8801-120">Ieteicams izveidot vairākus darbus, no kuriem katrs ietver mazāk entītiju.</span><span class="sxs-lookup"><span data-stu-id="c8801-120">We recommend that you create multiple jobs, each of which contains fewer entities.</span></span>

## <a name="scheduling-byod-batch-jobs"></a><span data-ttu-id="c8801-121">BYOD pakešuzdevumu plānošana</span><span class="sxs-lookup"><span data-stu-id="c8801-121">Scheduling BYOD batch jobs</span></span>

<span data-ttu-id="c8801-122">Lai palīdzētu samazināt ietekmi uz Microsoft Dynamics 365 Human Resources lietotājiem, palaidiet BYOD pakešuzdevumus naktī vai pēc darba stundām.</span><span class="sxs-lookup"><span data-stu-id="c8801-122">To help reduce the impact on users of Microsoft Dynamics 365 Human Resources, run BYOD batch jobs at night or after hours.</span></span> <span data-ttu-id="c8801-123">Noteikti pārbaudiet periodisko pakešuzdevumu laika joslu.</span><span class="sxs-lookup"><span data-stu-id="c8801-123">Be sure to check the time zone for recurring batch jobs.</span></span> <span data-ttu-id="c8801-124">Daži pakešuzdevumi izmanto Klusā okeāna standarta laiku (PST).</span><span class="sxs-lookup"><span data-stu-id="c8801-124">Some batch jobs might use Pacific Standard Time (PST).</span></span>

<span data-ttu-id="c8801-125">Lai palīdzētu izvairīties no veiktspējas problēmām, konfigurējot plānošanas biežumu BYOD pakešuzdevumiem, apsveriet šādus faktorus:</span><span class="sxs-lookup"><span data-stu-id="c8801-125">To help avoid performance issues, consider the following factors when you configure the scheduling frequency for BYOD batch jobs:</span></span>

- <span data-ttu-id="c8801-126">Laiks, kas nepieciešams, lai pabeigtu katru pakešuzdevumu</span><span class="sxs-lookup"><span data-stu-id="c8801-126">The time that is required to complete each batch job</span></span>
- <span data-ttu-id="c8801-127">BYOD datiem nepieciešamais bizness</span><span class="sxs-lookup"><span data-stu-id="c8801-127">The business need for the data in BYOD</span></span>

<span data-ttu-id="c8801-128">Iestatiet katra pakešuzdevuma biežumu uz vērtību, kas nodrošina, ka darbu var pabeigt krietni pirms nākamā plānotā izpildes laika.</span><span class="sxs-lookup"><span data-stu-id="c8801-128">Set the frequency for each batch job to a value that ensures that the job can be completed well before its next scheduled run time.</span></span> <span data-ttu-id="c8801-129">Izvairieties darbināt vairākus darbus paralēli, jo šī pieeja var negatīvi ietekmēt Human Resources veiktspēju.</span><span class="sxs-lookup"><span data-stu-id="c8801-129">Avoid running multiple jobs in parallel, because this approach can negatively affect the performance of Human Resources.</span></span>

<span data-ttu-id="c8801-130">Lai iegūtu vislabākos rezultātus, vienmēr izmantojiet opciju **Eksportēt pakešuzdevumā** lapā **Eksports**, lai ieplānotu BYOD pakešuzdevumus.</span><span class="sxs-lookup"><span data-stu-id="c8801-130">For the best performance, always use the **Export in batch** option on the **Export** page to schedule BYOD batch jobs.</span></span> <span data-ttu-id="c8801-131">Izvairieties plānot periodisku eksportu **Pārvaldīt \> Pārvaldīt periodisko datu darbus**.</span><span class="sxs-lookup"><span data-stu-id="c8801-131">Avoid scheduling recurring exports at **Manage \> Manage recurring data jobs**.</span></span>

## <a name="incremental-export"></a><span data-ttu-id="c8801-132">Inkrementāla eksportēšana</span><span class="sxs-lookup"><span data-stu-id="c8801-132">Incremental export</span></span>

<span data-ttu-id="c8801-133">Kad pievienojat entītiju datu eksportam, varat darīt vai nu pakāpenisku (eksports), vai pilnu virzību.</span><span class="sxs-lookup"><span data-stu-id="c8801-133">When you add an entity for data export, you can do either an incremental push (export) or a full push.</span></span> <span data-ttu-id="c8801-134">Pilna virzība dzēš visus esošos ierakstus no elementa BYOD datu bāzē.</span><span class="sxs-lookup"><span data-stu-id="c8801-134">A full push deletes all existing records from an entity in the BYOD database.</span></span> <span data-ttu-id="c8801-135">Pēc tam tā ievieto pašreizējo ierakstu kopu no Human Resources elementa.</span><span class="sxs-lookup"><span data-stu-id="c8801-135">It then inserts the current set of records from the Human Resources entity.</span></span>

<span data-ttu-id="c8801-136">Lai veiktu pakāpenisko virzību, ir jāieslēdz izmaiņu izsekošana katram elementam **Elementu** lapā.</span><span class="sxs-lookup"><span data-stu-id="c8801-136">To do an incremental push, you must turn on change tracking for each entity on the **Entities** page.</span></span> <span data-ttu-id="c8801-137">Lai iegūtu papildu informāciju, skatiet [Iespējot izmaiņu izsekošanu entītijām](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c8801-137">For more information, see [Enable change tracking for entities](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

<span data-ttu-id="c8801-138">Ja izvēlaties pakāpenisko virzību, pirmā virzība vienmēr ir pilnā virzība.</span><span class="sxs-lookup"><span data-stu-id="c8801-138">If you select an incremental push, the first push is always a full push.</span></span> <span data-ttu-id="c8801-139">SQL izseko izmaiņas no šīs pirmās pilnās virzības.</span><span class="sxs-lookup"><span data-stu-id="c8801-139">SQL tracks changes from this first full push.</span></span> <span data-ttu-id="c8801-140">Kad tiek ievietots jauns ieraksts vai ieraksts tiek atjaunināts vai dzēsts, izmaiņas tiek atspoguļotas mērķa entītijā.</span><span class="sxs-lookup"><span data-stu-id="c8801-140">When a new record is inserted, or when a record is updated or deleted, the change is reflected in the destination entity.</span></span>

## <a name="time-outs"></a><span data-ttu-id="c8801-141">Pārtraukums</span><span class="sxs-lookup"><span data-stu-id="c8801-141">Time-outs</span></span>

<span data-ttu-id="c8801-142">Šeit ir BYOD eksporta noklusējuma pārtraukumi:</span><span class="sxs-lookup"><span data-stu-id="c8801-142">Here are the default time-outs for BYOD exports:</span></span>

- <span data-ttu-id="c8801-143">Desmit minūtes saīsināšanas operācijām</span><span class="sxs-lookup"><span data-stu-id="c8801-143">Ten minutes for truncation operations</span></span>
- <span data-ttu-id="c8801-144">Viena stunda lielapjoma ievietošanas operācijām</span><span class="sxs-lookup"><span data-stu-id="c8801-144">One hour for bulk insert operations</span></span>

<span data-ttu-id="c8801-145">Kad apjomi ir augsti, šie pārtraukuma iestatījumi var nebūt pietiekami.</span><span class="sxs-lookup"><span data-stu-id="c8801-145">When volumes are high, these time-out settings might not be sufficient.</span></span> <span data-ttu-id="c8801-146">Lai tos atjauninātu, dodieties uz **Datu pārvaldība \> Struktūras parametri \> Lietot savu datu bāzi**.</span><span class="sxs-lookup"><span data-stu-id="c8801-146">To update them, go to **Data management \> Framework parameters \> Bring your own database**.</span></span> <span data-ttu-id="c8801-147">Šie pārtraukumi ir specifiski uzņēmumam, un tie ir jāiestata atsevišķi katram uzņēmumam.</span><span class="sxs-lookup"><span data-stu-id="c8801-147">These time-outs are company-specific and must be set separately for each company.</span></span>

## <a name="known-limitations"></a><span data-ttu-id="c8801-148">Zināmie ierobežojumi</span><span class="sxs-lookup"><span data-stu-id="c8801-148">Known limitations</span></span>

<span data-ttu-id="c8801-149">BYOD līdzeklim ir šādi ierobežojumi:</span><span class="sxs-lookup"><span data-stu-id="c8801-149">The BYOD feature has the following limitations:</span></span>

- <span data-ttu-id="c8801-150">Sinhronizācijas laikā datu bāzē nedrīkst būt aktīvas slēdzenes.</span><span class="sxs-lookup"><span data-stu-id="c8801-150">There should be no active locks on your database during synchronization.</span></span> <span data-ttu-id="c8801-151">Aktīvās slēdzenes var izraisīt lēnu rakstīšanu vai pat nespēju eksportēt datus uz jūsu Azure SQL datu bāzi.</span><span class="sxs-lookup"><span data-stu-id="c8801-151">Active locks can cause slow writes or even failure to export data to your Azure SQL database.</span></span>
- <span data-ttu-id="c8801-152">Jūs nevarat eksportēt saliktos elementus savā datu bāzē.</span><span class="sxs-lookup"><span data-stu-id="c8801-152">You can't export composite entities into your own database.</span></span> <span data-ttu-id="c8801-153">Pašlaik kompozītās entītijas netiek atbalstītas.</span><span class="sxs-lookup"><span data-stu-id="c8801-153">Currently, composite entities aren't supported.</span></span> <span data-ttu-id="c8801-154">Ir jāeksportē atsevišķas struktūras, kas veido kompozītu elementu.</span><span class="sxs-lookup"><span data-stu-id="c8801-154">You must export individual entities that make up the composite entity.</span></span> <span data-ttu-id="c8801-155">Tomēr varat eksportēt abus elementus vienā un tajā pašā datu projektā.</span><span class="sxs-lookup"><span data-stu-id="c8801-155">However, you can export both entities in the same data project.</span></span>
- <span data-ttu-id="c8801-156">Entītijas, kurām nav unikālu atslēgu, nevar eksportēt, izmantojot pakāpenisko virzību.</span><span class="sxs-lookup"><span data-stu-id="c8801-156">Entities that don't have unique keys can't be exported by using incremental push.</span></span> <span data-ttu-id="c8801-157">Varat sastapties ar šo ierobežojumu, īpaši, ja mēģināt pakāpeniski eksportēt ierakstus no dažām gatavām entītijām.</span><span class="sxs-lookup"><span data-stu-id="c8801-157">You might face this limitation especially when you try to incrementally export records from a few ready-made entities.</span></span> <span data-ttu-id="c8801-158">Tā kā šīs struktūras tika veidotas, lai iespējotu datu importu, tām nav unikāla atslēga.</span><span class="sxs-lookup"><span data-stu-id="c8801-158">Because these entities were designed to enable the import of data, they don't have a unique key.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="c8801-159">Problēmu novēršana</span><span class="sxs-lookup"><span data-stu-id="c8801-159">Troubleshooting</span></span>

### <a name="incremental-push-doesnt-work-correctly"></a><span data-ttu-id="c8801-160">Pakāpeniskā virzība nedarbojas pareizi</span><span class="sxs-lookup"><span data-stu-id="c8801-160">Incremental push doesn't work correctly</span></span>

<span data-ttu-id="c8801-161">**Problēma:** kad elements ir pilnībā novirzīts, jūs redzat lielu ierakstu kopu BYOD, kad izmantojat **Atlasīt** izrakstu.</span><span class="sxs-lookup"><span data-stu-id="c8801-161">**Issue:** When a full push occurs for an entity, you see a large set of records in BYOD when you use a **select** statement.</span></span> <span data-ttu-id="c8801-162">Tomēr, kad veicat pakāpenisko virzību, ir redzami tikai daži ieraksti BYOD.</span><span class="sxs-lookup"><span data-stu-id="c8801-162">However, when you do an incremental push, you see only a few records in BYOD.</span></span> <span data-ttu-id="c8801-163">Šķiet, it kā pakāpeniskā virzība dzēsa visus ierakstus un pievienoja tikai mainītos ierakstus BYOD.</span><span class="sxs-lookup"><span data-stu-id="c8801-163">It seems as though the incremental push deleted all the records and added only the changed records in BYOD.</span></span>

<span data-ttu-id="c8801-164">**Risinājums:** SQL izmaiņu izsekošanas tabulas var nebūt paredzētajā stāvoklī.</span><span class="sxs-lookup"><span data-stu-id="c8801-164">**Solution:** The SQL change tracking tables might not be in the expected state.</span></span> <span data-ttu-id="c8801-165">Šāda veida gadījumos iesakām izslēgt izmaiņu izsekošanu entītijai un pēc tam to atkal ieslēgt.</span><span class="sxs-lookup"><span data-stu-id="c8801-165">In cases of this type, we recommend that you turn off change tracking for the entity and then turn it back on.</span></span> <span data-ttu-id="c8801-166">Lai iegūtu papildu informāciju, skatiet [Iespējot izmaiņu izsekošanu entītijām](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="c8801-166">For more information, see [Enable change tracking for entities](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json).</span></span>

### <a name="staging-tables-arent-clearing"></a><span data-ttu-id="c8801-167">Izstādīšanas tabulas netiek tīrītas</span><span class="sxs-lookup"><span data-stu-id="c8801-167">Staging tables aren't clearing</span></span>

<span data-ttu-id="c8801-168">**Problēma:** izmantojot projekta izstādīšanu, izstādīšanas tabulas netiek pareizi notīrītas.</span><span class="sxs-lookup"><span data-stu-id="c8801-168">**Issue:** When using staging for the project, the staging tables don't clear out correctly.</span></span> <span data-ttu-id="c8801-169">Dati tabulās turpina pieaugt, radot veiktspējas problēmas.</span><span class="sxs-lookup"><span data-stu-id="c8801-169">The data in the tables then continues to grow, causing performance issues.</span></span>

<span data-ttu-id="c8801-170">**Risinājums:** izstādīšanas tabulās saglabājas septiņas vēstures dienas.</span><span class="sxs-lookup"><span data-stu-id="c8801-170">**Solution:** Seven days of history is maintained in the staging tables.</span></span> <span data-ttu-id="c8801-171">Vēsturiskie dati, kas vecāki par septiņām dienām, tiek automātiski notīrīti no izstādīšanas tabulām, izmantojot pakešuzdevumu **Importēšanas eksporta izstādīšanas tīrīšana**.</span><span class="sxs-lookup"><span data-stu-id="c8801-171">Historical data older than seven days is automatically cleared from the staging tables by the **Import export staging cleanup** batch job.</span></span> <span data-ttu-id="c8801-172">Ja šis darbs iestrēgs, tabulas netiks pareizi notīrītas.</span><span class="sxs-lookup"><span data-stu-id="c8801-172">If this job gets stuck, the tables won't clear out correctly.</span></span> <span data-ttu-id="c8801-173">Šī pakešuzdevuma restartēšana turpinās procesu, lai automātiski notīrītu izstādīšanas tabulas.</span><span class="sxs-lookup"><span data-stu-id="c8801-173">Restarting this batch job will continue the process to automatically clear out the staging tables.</span></span>

## <a name="see-also"></a><span data-ttu-id="c8801-174">Skatiet arī</span><span class="sxs-lookup"><span data-stu-id="c8801-174">See also</span></span>

[<span data-ttu-id="c8801-175">Datu pārvaldības pārskats</span><span class="sxs-lookup"><span data-stu-id="c8801-175">Data management overview</span></span>](../fin-ops-core/dev-itpro/data-entities/data-entities-data-packages.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="c8801-176">Savas datu bāzes izmantošana (BYOD)</span><span class="sxs-lookup"><span data-stu-id="c8801-176">Bring your own database (BYOD)</span></span>](../fin-ops-core/dev-itpro/analytics/export-entities-to-your-own-database.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="c8801-177">Datu importēšanas un eksportēšanas darbu pārskats</span><span class="sxs-lookup"><span data-stu-id="c8801-177">Data import and export jobs overview</span></span>](../fin-ops-core/dev-itpro/data-entities/data-import-export-job.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)<br>
[<span data-ttu-id="c8801-178">Izmaiņu izsekošanas iespējošana elementiem</span><span class="sxs-lookup"><span data-stu-id="c8801-178">Enable change tracking for entities</span></span>](../fin-ops-core/dev-itpro/data-entities/entity-change-track.md?toc=%2fdynamics365%2fhuman-resources%2ftoc.json)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
