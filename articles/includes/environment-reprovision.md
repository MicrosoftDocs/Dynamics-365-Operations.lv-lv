<span data-ttu-id="f4cf6-101">Kopējot datu bāzi starp vidēm, jāpalaiž vides atkārtotas nodrošināšanas rīks, lai nokopētā datu bāze būtu pilnībā funkcionāla un visi Retail komponenti būtu atjaunināti.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-101">When copying a database between environments, you will need to run the environment re-provisioning tool before the copied database is fully functional, to ensure that all Retail components are up-to-date.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="f4cf6-102">Ieteicams palaist šo procedūru neatkarīgi no tā, vai izmantojat Retail komponentus, jo Retail funkcionalitāte ir iekļauta visās vidēs.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-102">We recommend that you run this procedure whether you are using Retail components or not, because Retail functionality is included in all environments.</span></span> 

<span data-ttu-id="f4cf6-103">Pirms turpināt, jums jāpārliecinās, vai ir izpildīti tālāk norādītie priekšnosacījumi.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-103">Before you continue, you must make sure that the following prerequisites are met:</span></span>
1. <span data-ttu-id="f4cf6-104">Ja veicat jaunināšanu uz 2017. gada jūlija laidienu (zināms arī kā 7.2) 7.2.11792.56024, pirms datu jaunināšanas mērķa vidē izmantojiet tajā tālāk norādītos programmas X++ labojumfailus.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-104">If you are upgrading to the July 2017 release (also known as 7.2) 7.2.11792.56024, apply the following application X++ hotfixes in the destination environment before running the data upgrade in that environment.</span></span> <span data-ttu-id="f4cf6-105">Tie novērsīs dažādas kļūdas, kas rodas datu jaunināšanas laikā.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-105">These will prevent various errors occurring during the data upgrade:</span></span>

    - <span data-ttu-id="f4cf6-106">KB 4036156 — Retail papildversijas jauninājums — "Varianta numuru sērija nav iestatīta".</span><span class="sxs-lookup"><span data-stu-id="f4cf6-106">KB 4036156 - Retail minor version upgrade - 'Variant number sequence is not set.'</span></span> <span data-ttu-id="f4cf6-107">Šajā labošanas pakotnē ir iekļautas arī versijas KB 4035399 un KB 4035751.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-107">This fix package also includes KB 4035399 and KB 4035751.</span></span> <span data-ttu-id="f4cf6-108">Ņemiet vērā, ka šīs pakotnes izmantošanai jums ir nepieciešams vismaz atjauninājums Platform Update 9.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-108">Note that you must have a minimum of Platform Update 9 to use this package.</span></span> <span data-ttu-id="f4cf6-109">Ja neesat pārliecināts, instalējiet jaunākos bināros failus.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-109">If you are unsure, install the latest binaries.</span></span>
    
2. <span data-ttu-id="f4cf6-110">Ja veicat jaunināšanu no Microsoft Dynamics AX 2012, pirms datu jaunināšanas palaišanas mērķa vidē instalējiet tālāk norādītos programmas X++ labojumus.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-110">If you are upgrading from Microsoft Dynamics AX 2012, install the following application X++ fixes in the destination environment before you run the data upgrade:</span></span>
    - <span data-ttu-id="f4cf6-111">KB 4033183 — Dynamics AX 2012 R2 vai Dynamics AX 2012 R3 Pre-CU8 ar mazumtirdzniecību nesaistīta jaunināšana neizdodas ar ziņojumu Objekts nav atrasts vienumam dbo.RETAILTILLLAYOUTZONE.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-111">KB 4033183 - Dynamics AX 2012 R2 or Dynamics AX 2012 R3 Pre-CU8 non-retail upgrade fails with Object not found for dbo.RETAILTILLLAYOUTZONE.</span></span>
    - <span data-ttu-id="f4cf6-112">Jaunināšana no KB 4040692 — Dynamics AX 2012 R3 uz Microsoft Dynamics 365 for Operations 7.2 neizdodas RetailSalesLine indeksa dublikātā vienumā SalesLineIdx.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-112">KB 4040692 - Dynamics AX 2012 R3 to Microsoft Dynamics 365 for Operations 7.2 upgrade fails on RetailSalesLine duplicate index on SalesLineIdx.</span></span>
    - <span data-ttu-id="f4cf6-113">KB 4035490 — veiktspējas problēma ar GeneralJournalAccountEntry MainAccount lauka jaunināšanas skriptu.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-113">KB 4035490 - Performance issue with GeneralJournalAccountEntry MainAccount field upgrade script.</span></span>


<span data-ttu-id="f4cf6-114">Veiciet šīs darbības, lai palaistu vides atkārtotas nodrošināšanas rīku.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-114">Follow these steps to run the Environment reprovisioning tool.</span></span>

1. <span data-ttu-id="f4cf6-115">Koplietojamo līdzekļu bibliotēkā atlasiet **Programmatūrā izvietojama pakotne**.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-115">In the Shared asset library, select **Software deployable package**.</span></span>
2. <span data-ttu-id="f4cf6-116">Lejupielādēt vides atkārtotas nodrošināšanas rīku.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-116">Download the Environment reprovisioning tool.</span></span>
3. <span data-ttu-id="f4cf6-117">Līdzekļu bibliotēkā jūsu projektam atlasiet **Programmatūrā izvietojama pakotne**.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-117">In the asset library for your project, select **Software deployable package**.</span></span>
4. <span data-ttu-id="f4cf6-118">Atlasiet **Jauns**, lai izveidotu jaunu pakotni.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-118">Select **New** to create a new package.</span></span>
5. <span data-ttu-id="f4cf6-119">Ievadiet pakotnes nosaukumu un aprakstu.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-119">Enter a name and description for the package.</span></span> <span data-ttu-id="f4cf6-120">Varat izmantot **Vides atkārtotas nodrošināšanas rīku** kā pakotnes nosaukumu.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-120">You can use **Environment reprovisioning tool** as the package name.</span></span>
6. <span data-ttu-id="f4cf6-121">Augšupielādējiet pakotni, kuru lejupielādējāt iepriekš.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-121">Upload the package that you downloaded earlier.</span></span>
7. <span data-ttu-id="f4cf6-122">Lapā **Informācija par vidi** jūsu mērķa videi atlasiet **Uzturēt** > **Lietot atjauninājumus.**</span><span class="sxs-lookup"><span data-stu-id="f4cf6-122">On the **Environment details** page for your target environment, select **Maintain** > **Apply updates**.</span></span>
8. <span data-ttu-id="f4cf6-123">Atlasiet vides atkārtotas nodrošināšanas rīku, ko augšupielādējāt iepriekš, un pēc tam atlasiet **Lietot**, lai lietotu pakotni.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-123">Select the Environment reprovisioning tool that you uploaded earlier, and then select **Apply** to apply the package.</span></span>
9. <span data-ttu-id="f4cf6-124">Pārraugiet pakotnes izvietošanas norisi.</span><span class="sxs-lookup"><span data-stu-id="f4cf6-124">Monitor the progress of the package deployment.</span></span> 

<span data-ttu-id="f4cf6-125">Papildinformāciju par to, kā lietot izvietojamu pakotni, skatiet sadaļā [Lietot izvietojamu pakotni](../deployment/create-apply-deployable-package.md).</span><span class="sxs-lookup"><span data-stu-id="f4cf6-125">For more information about how to apply a deployable package, see [Apply a deployable package](../deployment/create-apply-deployable-package.md).</span></span> <span data-ttu-id="f4cf6-126">Papildinformāciju par to, kā manuāli lietot izvietojamu pakotni, skatiet sadaļā [Instalēt izvietojamu pakotni](../deployment/install-deployable-package.md).</span><span class="sxs-lookup"><span data-stu-id="f4cf6-126">For more information about how to manually apply a deployable package, see [Install a deployable package](../deployment/install-deployable-package.md).</span></span>
