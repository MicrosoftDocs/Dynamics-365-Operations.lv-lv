---
title: "Labākās prakses dokumentu importēšanai, izmantojot elementu Virsgrāmatas žurnāls"
description: "Šajā tēmā ir sniegti padomi par datu importēšanu virsgrāmatas žurnālā, izmantojot elementu Virsgrāmatas žurnāls."
author: twheeloc
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: 
ms.service: dynamics-ax-platform
ms.technology: 
audience: Application User
ms.reviewer: twheeloc
ms.search.scope: Core, Operations
ms.custom: 94363
ms.assetid: 0b8149b5-32c5-4518-9ebd-09c9fd7f4cfc
ms.search.region: Global
ms.author: kweekley
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.translationtype: HT
ms.sourcegitcommit: 2771a31b5a4d418a27de0ebe1945d1fed2d8d6d6
ms.openlocfilehash: 688fa17072cb340d6d02be31528339fb98601825
ms.contentlocale: lv-lv
ms.lasthandoff: 11/03/2017

---

# <a name="best-practices-for-importing-vouchers-using-the-general-journal-entity"></a><span data-ttu-id="0cb1e-103">Labākās prakses dokumentu importēšanai, izmantojot elementu Virsgrāmatas žurnāls</span><span class="sxs-lookup"><span data-stu-id="0cb1e-103">Best practices for importing vouchers using the General journal entity</span></span>

[!include[banner](../includes/banner.md)]


<span data-ttu-id="0cb1e-104">Šajā tēmā ir sniegti padomi par datu importēšanu virsgrāmatas žurnālā, izmantojot elementu Virsgrāmatas žurnāls.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-104">This topic provides tips for importing data into the General journal by using the General journal entity.</span></span>  

<span data-ttu-id="0cb1e-105">Elementu Virsgrāmatas žurnāls varat izmantot, lai importētu dokumentus, kuru konta vai korespondējošā konta tips ir **Virsgrāmata, Debitors, Kreditors vai Banka**.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-105">You can use the General journal entity to import vouchers that have an account or offset account type of **Ledger, Customer, Vendor, or Bank**.</span></span> <span data-ttu-id="0cb1e-106">Dokumentu var ievadīt kā vienu rindu, izmantojot gan lauku **Konts**, gan lauku **Korespondējošais konts**, vai kā vairāku rindu dokumentu, kurā tiek izmantots tikai lauks **Konts** (un lauks **Korespondējošais konts** katrā rindā tiek atstāts tukšs).</span><span class="sxs-lookup"><span data-stu-id="0cb1e-106">The voucher can be entered as one line, using both the **Account** field and the **Offset account** field, or as a multi-line voucher, where only the **Account** field is used (and the **Offset account** is left blank on each line).</span></span> <span data-ttu-id="0cb1e-107">Elements Virsgrāmatas žurnāls neatbalsta visus kontu tipus.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-107">The General journal entity doesn't support every account type.</span></span> <span data-ttu-id="0cb1e-108">Tā vietā pastāv citi elementi tādiem scenārijiem, kur ir nepieciešamas citādas kontu tipu kombinācijas.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-108">Instead, other entities exist for scenarios where different combinations of account types are required.</span></span> <span data-ttu-id="0cb1e-109">Piemēram, lai importētu projekta darījumu izmantojiet elementu Projekta izdevumu žurnāls.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-109">For example, to import a project transaction, use the Project expense journal entity.</span></span> <span data-ttu-id="0cb1e-110">Katrs elements ir izstrādāts, lai atbalstītu noteiktus scenārijus, tādējādi attiecīgajiem scenārijiem paredzētos elementos var būt pieejami tādi papildu lauki, kas nav pieejami citiem scenārijiem paredzētos elementos.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-110">Each entity is designed to support specific scenarios, which means additional fields may be available in entities for those scenarios but not in entities for a different scenario.</span></span>

## <a name="setup"></a><span data-ttu-id="0cb1e-111">Iestatīšana</span><span class="sxs-lookup"><span data-stu-id="0cb1e-111">Setup</span></span>
<span data-ttu-id="0cb1e-112">Pirms veicat importēšanu, izmantojot elementu Virsgrāmatas žurnāls, pārliecinieties par tālāk aprakstītajiem iestatījumiem.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-112">Before you import by using the General journal entity, validate the following setup:</span></span>

-   <span data-ttu-id="0cb1e-113">**Numuru sērijas iestatījumi žurnāla pakešuzdevuma numuram** — pēc noklusējuma, kad importējat, izmantojot entītiju Virsgrāmatas žurnāls, šis žurnāla pakešuzdevuma numurs izmanto virsgrāmatas parametriem definēto numuru sēriju.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-113">**Number sequence setup for the journal batch number** - By default, when you import by using the General journal entity, the journal batch number uses the number sequence that is defined in the General ledger parameters.</span></span> <span data-ttu-id="0cb1e-114">Ja numuru sēriju žurnāla pakešuzdevuma numuram iestatāt uz **Manuāli**, noklusējuma numurs netiek lietots.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-114">If you set the number sequence for the journal batch number to **Manual**, a default number isn't applied.</span></span> <span data-ttu-id="0cb1e-115">Šis iestatījums netiek atbalstīts.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-115">This setup isn't supported.</span></span>
-   <span data-ttu-id="0cb1e-116">**Finanšu dimensijas konfigurācija** — katrai organizācijai ir jādefinē finanšu dimensiju secība, kad elementi tiek izmantoti, lai importētu transakcijas.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-116">**Financial dimension configuration** - Every organization must define the order of financial dimensions when entities are used to import transactions.</span></span> <span data-ttu-id="0cb1e-117">Secība tiek definēta formātam **Virsgrāmatas dimensiju integrācija** sadaļā **Virsgrāmata** &gt; **Kontu plāns** &gt; **Dimensijas** &gt; **Finanšu dimensijas konfigurācija programmu integrēšanai** &gt; **Atlasīt datu elementus**.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-117">The order is defined for the **Ledger dimensions integration** format, at **General ledger** &gt; **Chart of accounts** &gt; **Dimensions** &gt; **Financial dimension configuration for integrating applications** &gt; **Select data entities**.</span></span> <span data-ttu-id="0cb1e-118">Virsgrāmatas konta segmentiem, kas tiek importēti, ir nepieciešama vienāda secība.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-118">The segments of the ledger account that is imported must have the same order.</span></span> <span data-ttu-id="0cb1e-119">Pretējā gadījumā importēšanas laikā notiks kļūda.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-119">Otherwise, an error will occur during import.</span></span>

## <a name="general-journal-entity-setup"></a><span data-ttu-id="0cb1e-120">Virsgrāmatas žurnāla elementa iestatīšana</span><span class="sxs-lookup"><span data-stu-id="0cb1e-120">General journal entity setup</span></span>
<span data-ttu-id="0cb1e-121">Divi iestatījumi sadaļā Datu pārvaldība ietekmē, kā tiek lietots noklusējuma žurnāla pakešuzdevuma numurs vai dokumenta numurs.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-121">Two settings in Data management affect how the default journal batch number or voucher number is applied:</span></span>

-   <span data-ttu-id="0cb1e-122">**No kopas atkarīga apstrāde** (datu elementā)</span><span class="sxs-lookup"><span data-stu-id="0cb1e-122">**Set-based processing** (on the data entity)</span></span>
-   <span data-ttu-id="0cb1e-123">**Automātiski ģenerēts** (lauka kartējumā)</span><span class="sxs-lookup"><span data-stu-id="0cb1e-123">**Auto-generated** (on the field mapping)</span></span>

<span data-ttu-id="0cb1e-124">Nākamajās sadaļās ir aprakstīta šo iestatījumu ietekme, kā arī paskaidrots, kā tiek ģenerēti žurnālu pakešuzdevumu numuri un dokumentu numuri.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-124">The following sections describe the effect of these settings, and also explain how journal batch numbers and voucher numbers are generated.</span></span>

### <a name="journal-batch-number"></a><span data-ttu-id="0cb1e-125">Žurnāla iedaļas numurs</span><span class="sxs-lookup"><span data-stu-id="0cb1e-125">Journal batch number</span></span>

-   <span data-ttu-id="0cb1e-126">Iestatījums **No kopas atkarīga apstrāde** elementā Virsgrāmatas žurnāls neietekmē veidu, kā tiek ģenerēti žurnālu pakešuzdevumu numuri.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-126">The **Set-based processing** setting on the General journal entity doesn't affect the way that journal batch numbers are generated.</span></span>
-   <span data-ttu-id="0cb1e-127">Ja lauks **Žurnāla pakešuzdevuma numurs** ir iestatīts uz **Automātiski ģenerēts**, tad jauns žurnāla pakešuzdevuma numurs tiek veidots katrai rindai, kas tiek importēta.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-127">If the **Journal batch number** field is set to **Auto-generated**, a new journal batch number is created for every line that is imported.</span></span> <span data-ttu-id="0cb1e-128">Šāda uzvedība nav ieteicama.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-128">This behavior isn't recommended.</span></span> <span data-ttu-id="0cb1e-129">Iestatījums **Automātiski ģenerēts** atrodas importēšanas projektā, sadaļā **Skatīt karti**, cilnē **Detalizēta informācija par kartēšanu**.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-129">The **Auto-generated** setting is found on the import project, under **View map**, on the **Mapping details** tab.</span></span>
-   <span data-ttu-id="0cb1e-130">Ja lauks **Žurnāla pakešuzdevuma numurs** nav iestatīts uz **Automātiski ģenerēts**, tad žurnāla pakešuzdevuma numurs tiek veidots šādi:</span><span class="sxs-lookup"><span data-stu-id="0cb1e-130">If the **Journal batch number** field isn't set to **Auto-generated**, the journal batch number is created as follows:</span></span>
    -   <span data-ttu-id="0cb1e-131">Ja importētajā failā definētais žurnāla pakešuzdevuma numurs atbilst esošajam, negrāmatotajam ikdienas žurnālam, tad visas rindas, kam ir atbilstošs žurnāla pakešuzdevuma numurs, tiek importētas esošajā žurnālā.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-131">If the journal batch number that is defined in the imported file matches an existing, unposted daily journal, all lines that have a matching journal batch number are imported into the existing journal.</span></span> <span data-ttu-id="0cb1e-132">Rindas nekad netiek importētas grāmatotā žurnāla pakešuzdevuma numurā.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-132">Lines are never imported into a posted journal batch number.</span></span> <span data-ttu-id="0cb1e-133">Tā vietā tiek izveidots jauns numurs.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-133">Instead, a new number is created.</span></span>
    -   <span data-ttu-id="0cb1e-134">Ja importētajā failā definētais žurnāla pakešuzdevuma numurs neatbilst esošajam, negrāmatotajam ikdienas žurnālam, tad visas rindas, kam ir tāds pats žurnāla pakešuzdevuma numurs, tiek grupētas jaunā žurnālā.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-134">If the journal batch number that is defined in the imported file doesn't match an existing, unposted daily journal, all lines that have the same journal batch number are grouped under a new journal.</span></span> <span data-ttu-id="0cb1e-135">Piemēram, visas rindas, kurās žurnāla pakešuzdevuma numurs ir 1, tiek importētas jaunā žurnālā, un visas rindas, kurās žurnāla pakešuzdevuma numurs ir 2, tiek importētas otrā jaunā žurnālā.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-135">For example, all lines that have a journal batch number of 1 are imported into a new journal, and all lines that have a journal batch number of 2 are imported into a second new journal.</span></span> <span data-ttu-id="0cb1e-136">Žurnāla pakešuzdevuma numurs tiek veidots, izmantojot numuru sēriju, kas ir definēta virsgrāmatas parametros.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-136">The journal batch number is created by using the number sequence that is defined in the General ledger parameters.</span></span>

### <a name="voucher-number"></a><span data-ttu-id="0cb1e-137">Dokumenta numurs</span><span class="sxs-lookup"><span data-stu-id="0cb1e-137">Voucher number</span></span>

-   <span data-ttu-id="0cb1e-138">Kad izmantojat iestatījumu **No kopas atkarīga apstrāde** elementā Virsgrāmatas žurnāls, dokumenta numuram ir jābūt norādītam importētajā failā.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-138">When you use the **Set-based processing** setting on the General journal entity, the voucher number must be provided in the imported file.</span></span> <span data-ttu-id="0cb1e-139">Katrai transakcijai virsgrāmatas žurnālā tiek piešķirts dokumenta numurs, kas ir norādīts importētajā failā, pat ja dokuments nav līdzsvarots.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-139">Every transaction in the General journal is assigned the voucher number that is provided in the imported file, even if the voucher isn’t balanced.</span></span> <span data-ttu-id="0cb1e-140">Ja vēlaties lietot no kopas atkarīgu apstrādi, bet vēlaties arī lietot numuru sēriju, kas ir definēta dokumentu numuriem, ir nodrošināts labojumfails versijas 2016. gada februāra laidienam.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-140">If you want to use set-based processing, but you also want to use the number sequence that is defined for voucher numbers, a hotfix has been provided for the February 2016 release.</span></span> <span data-ttu-id="0cb1e-141">Šī labojumfaila numurs ir 3170316, un tas ir pieejams lejupielādei no Lifecycle Services (LCS).</span><span class="sxs-lookup"><span data-stu-id="0cb1e-141">The hotfix number is 3170316 and available for download from Lifecycle services (LCS).</span></span> <span data-ttu-id="0cb1e-142">Papildinformāciju skatiet rakstā [Lejupielādēt labojumfailus no Lifecycle Services](..\migration-upgrade\download-hotfix-lcs.md).</span><span class="sxs-lookup"><span data-stu-id="0cb1e-142">For more information, see [Download hotfixes from Lifecycle Services](..\migration-upgrade\download-hotfix-lcs.md).</span></span>
    -   <span data-ttu-id="0cb1e-143">Lai iespējotu šo funkcionalitāti, žurnāla nosaukumam, kas tiek izmantots importēšanai, vienumu **Numuru piešķiršana grāmatojot** iestatiet uz **Jā**.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-143">To enable this functionality, on the journal name that is used for imports, set **Number allocation at posting** to **Yes**.</span></span>
    -   <span data-ttu-id="0cb1e-144">Dokumenta numuram joprojām ir jābūt definētam importētajā failā.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-144">A voucher number must still be defined in the imported file.</span></span> <span data-ttu-id="0cb1e-145">Taču šis numurs ir tikai pagaidu, un žurnāla grāmatošanas laikā tas tiek pārrakstīts ar dokumenta numuru.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-145">However, this number is temporary and is overwritten by the voucher number when the journal is posted.</span></span> <span data-ttu-id="0cb1e-146">Jums ir jānodrošina, ka žurnāla rindas tiek pareizi grupētas pēc pagaidu dokumenta numura.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-146">You must make sure that the lines of the journal are grouped correctly by temporary voucher number.</span></span> <span data-ttu-id="0cb1e-147">Piemēram, grāmatošanas laikā tiek konstatētas trīs rindas, kurās pagaidu dokumenta numurs ir 1.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-147">For example, during posting, three lines are found that have a temporary voucher number of 1.</span></span> <span data-ttu-id="0cb1e-148">Visu trīs rindu pagaidu dokumenta numurs tiek pārrakstīts ar nākamo numuru attiecīgajā numuru sērijā.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-148">The temporary voucher number of all three lines is overwritten by the next number in the number sequence.</span></span> <span data-ttu-id="0cb1e-149">Ja šīs trīs rindas nav līdzsvarots ieraksts, tad dokuments netiek grāmatots.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-149">If those three lines aren’t a balanced entry, the voucher isn't posted.</span></span> <span data-ttu-id="0cb1e-150">Pēc tam, ja tiek konstatētas rindas, kuru pagaidu dokumenta numurs ir 2, šis numurs tiek pārrakstīts ar nākamo dokumenta numuru attiecīgajā numuru sērijā, un tā tālāk.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-150">Next, if lines are found that have a temporary voucher number of 2, this number is overwritten by the next voucher number in the number sequence, and so on.</span></span>

<!-- -->

-   <span data-ttu-id="0cb1e-151">Kad neizmantojat iestatījumu **No kopas atkarīga apstrāde**, importētajā failā nav jānorāda dokumenta numurs.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-151">When you don't use the **Set-based processing** setting, you do not need to provide a voucher number in the imported file.</span></span> <span data-ttu-id="0cb1e-152">Dokumentu numuri tiek veidoti importēšanas laikā, pamatojoties uz žurnāla nosaukuma iestatījumiem (**Tikai viens dokuments**, **Saistībā ar bilanci** un citiem).</span><span class="sxs-lookup"><span data-stu-id="0cb1e-152">The voucher numbers are created during import, based on the setup of the journal name (**One voucher only**, **In connection of balance**, and so on).</span></span> <span data-ttu-id="0cb1e-153">Piemēram, ja žurnāla nosaukums ir definēts kā **Saistībā ar bilanci**, tad pirmā rinda saņem jaunu noklusējuma dokumenta numuru.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-153">For example, if the journal name is defined as **In connection of balance**, the first line receives a new default voucher number.</span></span> <span data-ttu-id="0cb1e-154">Pēc tam sistēma novērtē šo rindu, lai noteiktu, vai debeta summas ir vienādas ar kredīta summām.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-154">The system then evaluates the line to determine whether the debits equal the credits.</span></span> <span data-ttu-id="0cb1e-155">Ja rindā pastāv korespondējošais konts, tad nākamā importētā rinda saņem jaunu dokumenta numuru.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-155">If an offset account exists on the line, the next line that is imported receives a new voucher number.</span></span> <span data-ttu-id="0cb1e-156">Ja korespondējošā konta nav, tad sistēma novērtē, vai debeta summas ir vienādas ar kredīta summām, importējot katru jauno rindu.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-156">If no offset account exists, the system evaluates whether the debits equal the credits as each new line is imported.</span></span>
-   <span data-ttu-id="0cb1e-157">Ja lauks **Dokumenta numurs** ir iestatīts uz **Automātiski ģenerēts**, tad importēšana neizdosies.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-157">If the **Voucher number** field is set to **Auto-generated**, the import won't succeed.</span></span> <span data-ttu-id="0cb1e-158">Iestatījums **Automātiski ģenerēts** laukam **Dokumenta numurs** netiek atbalstīts.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-158">The **Auto-generated** setting for the **Voucher number** field isn't supported.</span></span>

<span data-ttu-id="0cb1e-159">Pēc noklusējuma elements Virsgrāmatas žurnāls izmanto no kopas atkarīgu apstrādi.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-159">By default, the General journal entity uses set-based processing.</span></span> <span data-ttu-id="0cb1e-160">Kad esat izvērtējis savas organizācijas biznesa prasības, iestatījumu **No kopas atkarīga apstrāde** varat mainīt, noklikšķinot uz **Datu elementi** darbvietā **Datu pārvaldība**.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-160">After you evaluate the business requirements for your organization, you can change the **Set-based processing** setting by clicking **Data entities** in the **Data management** workspace.</span></span> <span data-ttu-id="0cb1e-161">No kopas atkarīga apstrāde tiek izmantota, lai paātrinātu importēšanas procesu.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-161">Set-based processing is used to speed up the import process.</span></span> <span data-ttu-id="0cb1e-162">Ja neizmantojat no kopas atkarīgu apstrādi, elementa Virsgrāmatas žurnāls importēšana notiks lēnāk.</span><span class="sxs-lookup"><span data-stu-id="0cb1e-162">If you don't use set-based processing, import of the General journal entity import will be slower.</span></span>




