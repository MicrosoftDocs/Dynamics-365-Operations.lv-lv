---
title: Krājumu pieejamības aprēķināšana mazumtirdzniecības kanāliem
description: Šajā tēmā aprakstīts, kā organizācija var izmantot Microsoft Dynamics 365 Commerce, lai skatītu prognozēto, rīcībā esošo produktu pieejamību tiešsaistes un veikala kanālos.
author: hhainesms
ms.date: 04/23/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: hhaines
ms.search.validFrom: 2020-02-11
ms.dyn365.ops.version: Release 10.0.10
ms.openlocfilehash: fdf6df7e393bcc401e770bd1b8afcaedcadc2660
ms.sourcegitcommit: 593438a145672c55ff6a910eabce2939300b40ad
ms.translationtype: HT
ms.contentlocale: lv-LV
ms.lasthandoff: 04/23/2021
ms.locfileid: "5937438"
---
# <a name="calculate-inventory-availability-for-retail-channels"></a><span data-ttu-id="3e036-103">Krājumu pieejamības aprēķināšana mazumtirdzniecības kanāliem</span><span class="sxs-lookup"><span data-stu-id="3e036-103">Calculate inventory availability for retail channels</span></span>

[!include [banner](../includes/banner.md)]
[!include [banner](includes/preview-banner.md)]

<span data-ttu-id="3e036-104">Šajā tēmā aprakstīts, kā organizācija var izmantot Microsoft Dynamics 365 Commerce, lai skatītu prognozēto, rīcībā esošo produktu pieejamību tiešsaistes un veikala kanālos.</span><span class="sxs-lookup"><span data-stu-id="3e036-104">This topic describes how a company can use Microsoft Dynamics 365 Commerce to view estimated on-hand availability for products in the online and store channels.</span></span>

## <a name="accuracy-of-inventory-availability"></a><span data-ttu-id="3e036-105">Krājumu pieejamības precizitāte</span><span class="sxs-lookup"><span data-stu-id="3e036-105">Accuracy of inventory availability</span></span>

<span data-ttu-id="3e036-106">Commerce izmanto vairākus serverus un datu bāzes, lai nodrošinātu mērogojamību un veiktspēju.</span><span class="sxs-lookup"><span data-stu-id="3e036-106">Commerce uses multiple servers and databases to ensure scalability and performance.</span></span> <span data-ttu-id="3e036-107">Tāpēc ir svarīgi, lai jūs saprastu, ka pieejamās krājumu vērtības, kas tiek nodrošinātas, izmantojot pārdošanas punktu (POS) programmu, e-komercijas krājumu pieejamības programmas programmēšanas interfeisu (API) un rīcībā esošo krājumu lapas programmā Commerce Headquarters, var nebūt 100 procentīgi precīzas reāllaikā.</span><span class="sxs-lookup"><span data-stu-id="3e036-107">Therefore, it's important that you understand that the available inventory values that are provided through the point of sale (POS) application, the e-commerce inventory availability application programming interfaces (APIs), and the on-hand inventory pages in Commerce headquarters might not be 100 percent accurate in real time.</span></span> <span data-ttu-id="3e036-108">Ja transakcijas, kas ir izveidotas precēm tiešsaistes vai veikala kanālā, vēl nav sinhronizētas ar Headquarters, tad rīcībā esošo krājumu lapas programmā Headquarters var neparādīt precīzu reāllaika krājumu vērtību šīm precēm.</span><span class="sxs-lookup"><span data-stu-id="3e036-108">If transactions that are created for products in the online or store channel haven't yet been synced to headquarters, the on-hand inventory pages in headquarters might not show an accurate real-time inventory value for those products.</span></span> <span data-ttu-id="3e036-109">Pretējā gadījumā, ja jūs konfigurējāt savu uzņēmumu tā, lai lietotāji programmā Headquarters vai citās integrētās programmās var pārdot, saņemt, atgriezt, vai kā citādi pielāgot krājumus no veikala vai tiešsaistes noliktavas, POS vai tiešsaistes kanālam var nebūt visas informācijas, kas nepieciešama, lai parādītu precīzu reālā laikā krājumu vērtību.</span><span class="sxs-lookup"><span data-stu-id="3e036-109">Conversely, if you configured your company so that users in headquarters or other integrated applications can sell, receive, return, or otherwise adjust inventory out of a store or online warehouse, the POS or online channel might not have all the information that is required to show accurate real-time values for items.</span></span>

<span data-ttu-id="3e036-110">Ir svarīgi saprast, ka visi rīcībā esošie pieejamības dati, kas tiek sniegti darbības dienā, tiek uzskatīti par aptuvenu vērtību.</span><span class="sxs-lookup"><span data-stu-id="3e036-110">It's critical to understand that all on-hand availability data that is provided during the operational day is considered an estimated value.</span></span> <span data-ttu-id="3e036-111">Tāpēc, ja mēģināt salīdzināt rīcībā esošo krājumu informāciju, ko nodrošina programma, ar faktiskajiem fiziskajiem krājumiem plauktos, vai mēģināt salīdzināt rīcībā esošās vērtības, kas tiek rādītas POS, ar rīcībā esošajiem datiem, kas atrodami vienai un tai pašai noliktavai programmā Headquarters, vērtības var atšķirties.</span><span class="sxs-lookup"><span data-stu-id="3e036-111">Therefore, if you try to compare the on-hand inventory information that the application provides with actual physical inventory on the shelves, or if you try to compare the on-hand values that are shown in POS with the on-hand data that you find for the same warehouse in headquarters, the values might differ.</span></span> <span data-ttu-id="3e036-112">Šī atšķirība darbības dienā ir sagaidāma, un to nevajadzētu uzskatīt par problēmu.</span><span class="sxs-lookup"><span data-stu-id="3e036-112">This difference during the operational day is expected and should not be considered an issue.</span></span> <span data-ttu-id="3e036-113">Ja vēlaties veikt datu auditu un pārliecināties, ka vērtības, kas tiek sniegtas POS, API un Headquarters, atbilst faktiskajām fiziskajām vienībām, kas atrodas jūsu veikalā vai noliktavas plauktos, vislabākais laiks to darīt ir pēc tam, kad kanāla darbības ir uz dienu pārtrauktas un visas darbības ir pareizi sinhronizētas starp Headquarters un kanāliem.</span><span class="sxs-lookup"><span data-stu-id="3e036-113">If you want to audit data and make sure that the values provided in POS, APIs, and headquarters match the actual physical units that you find on your store or warehouse shelves, the best time to do it is after channel operations have stopped for the day and all transactions have been correctly synced between headquarters and the channels.</span></span>

## <a name="channel-side-inventory-calculation"></a><span data-ttu-id="3e036-114">Kanāla puses krājumu aprēķins</span><span class="sxs-lookup"><span data-stu-id="3e036-114">Channel-side inventory calculation</span></span>

<span data-ttu-id="3e036-115">Kanāla puses krājumu aprēķināšana ir mehānisms, kas par bāzlīniju izmanto pēdējos zināmos kanāla krājumu datus programmā Commerce Headquarters un pēc tam faktorus papildu krājumu izmaiņu veikšanā kanāla pusē, kas nav iekļautas šajā bāzlīnijā, lai aprēķinātu gandrīz reāllaika novērtēto rīcībā esošo krājumu.</span><span class="sxs-lookup"><span data-stu-id="3e036-115">The channel-side inventory calculation is a mechanism that takes the last-known channel inventory data in Commerce headquarters as a baseline, and then factors in additional inventory changes that occurred on the channel side that aren't included in that baseline to calculate a near-real-time estimated on-hand inventory.</span></span> 

<span data-ttu-id="3e036-116">Pašlaik kanāla puses krājumu aprēķina loģikā tiek apsvērtas šādas krājumu izmaiņas:</span><span class="sxs-lookup"><span data-stu-id="3e036-116">The following inventory changes are currently considered in the channel-side inventory calculation logic:</span></span>

- <span data-ttu-id="3e036-117">Krājumi, kas pārdoti, izmantojot kases pasūtījumus veikalā</span><span class="sxs-lookup"><span data-stu-id="3e036-117">Inventory sold through cash-and-carry orders in store</span></span>
- <span data-ttu-id="3e036-118">Krājumi, kas pārdoti, izmantojot debitoru pasūtījumus veikalā vai tiešsaistes kanālā</span><span class="sxs-lookup"><span data-stu-id="3e036-118">Inventory sold through customer orders in store or online channel</span></span>
- <span data-ttu-id="3e036-119">Krājums, kas atgriezts veikalā</span><span class="sxs-lookup"><span data-stu-id="3e036-119">Inventory returned to store</span></span>
- <span data-ttu-id="3e036-120">Izpildītie krājumi (izdošanas, pakas, nosūtīšanas) no veikala noliktavas</span><span class="sxs-lookup"><span data-stu-id="3e036-120">Inventory fulfilled (pick, pack, ship) from store warehouse</span></span>

<span data-ttu-id="3e036-121">Lai izmantotu kanāla puses krājumu aprēķinu, kā priekšnosacījums no Headquarters izveidotais krājumu datu periodiskais momentuzņēmums, kas izveidots ar darbu **Preču pieejamība**, ir jāsūta uz kanāla datu bāzēm.</span><span class="sxs-lookup"><span data-stu-id="3e036-121">To use the channel-side inventory calculation, as a prerequisite a periodic snapshot of inventory data from headquarters created by the **Product availability** job must be sent to the channel databases.</span></span> <span data-ttu-id="3e036-122">Momentuzņēmums attēlo informāciju, kas ir Headquarters rīcībā attiecībā uz krājumu pieejamību noteiktai preču vai preču variantu kombinācijai un noliktavai.</span><span class="sxs-lookup"><span data-stu-id="3e036-122">The snapshot represents the information that headquarters has about inventory availability for a specific combination of a product or product variant and a warehouse.</span></span> <span data-ttu-id="3e036-123">Tajā ir iekļautas tikai tās krājumu darbības, kas tika apstrādātas un grāmatotas programmā Headquarters laikā, kad momentuzņēmums tika izveidots, un tas varētu nebūt 100 procenti precīzs reāllaikā sakarā ar konstanto pārdošanas apstrādi, kas notiek sadalītos serveros.</span><span class="sxs-lookup"><span data-stu-id="3e036-123">It includes only the inventory transactions that were processed and posted in headquarters at the time when the snapshot was taken, and it might not be 100 percent accurate in real time because of the constant sales processing that occurs across distributed servers.</span></span>

- <span data-ttu-id="3e036-124">Ja krājums tika pārdots precei veikalā, izmantojot naudas un pārvadāšanas vai asinhrono klientu pasūtījumu pārdošanu POS programmā, Headquarters nekavējoties netiek iekļauta informācija par saistīto krājumu izdošanas transakciju pārdošanai.</span><span class="sxs-lookup"><span data-stu-id="3e036-124">If inventory was sold for a product in a store through a cash-and-carry or asynchronous customer order sale in the POS application, headquarters won't immediately have information about the related inventory issue transaction for the sale.</span></span> <span data-ttu-id="3e036-125">Programmā Headquarters būs informācija par krājumiem, kas tiek pārdoti šāda veida veikala pārdošanas darbībām tikai pēc tam, kad P-darbs augšupielādē saistīto transakciju no veikala kanāla datu bāzes programmā Headquarters un saistītais pārdošanas pasūtījumi tiek izveidoti ar izrakstu iegrāmatošanu vai pakāpeniskas plūsmas iegrāmatošanas procesiem.</span><span class="sxs-lookup"><span data-stu-id="3e036-125">Headquarters will have information about the inventory that is sold for these types of store sales only after the P-job uploads the related transaction from the store's channel database into headquarters and the related sales orders are created through statement posting or the trickle feed posting processes.</span></span> <span data-ttu-id="3e036-126">Pasūtījumu izveides process programmā Headquarters izveido saistītās krājumu transakcijas.</span><span class="sxs-lookup"><span data-stu-id="3e036-126">The process of creating the orders in headquarters creates the related inventory transactions.</span></span> 
- <span data-ttu-id="3e036-127">E-komercijas kanāla pasūtījumiem Headquarters ir informācija par krājumu transakcijām tikai pēc tam, kad darbības tiek nosūtītas uz Headquarters caur P-darbu un ir pabeigts pasūtījuma sinhronizācijas process.</span><span class="sxs-lookup"><span data-stu-id="3e036-127">For e-commerce channel orders, headquarters has information about the inventory transactions only after the transactions are sent to headquarters through the P-job and the order synchronization process is completed.</span></span>

<span data-ttu-id="3e036-128">Lai uzņemtu krājumu momentuzņēmumu programmā Headquarters, veiciet tālāk norādītās darbības.</span><span class="sxs-lookup"><span data-stu-id="3e036-128">To take a snapshot of inventory in Commerce headquarters, follow these steps.</span></span>

1. <span data-ttu-id="3e036-129">Dodieties uz **Retail un Commerce \> Retail un Commerce IT \> Preces un krājumi \> Preču pieejamība**.</span><span class="sxs-lookup"><span data-stu-id="3e036-129">Go to **Retail and Commerce \> Retail and Commerce IT \> Products and inventory \> Product availability**.</span></span>
1. <span data-ttu-id="3e036-130">Atlasiet **Labi**, lai palaistu darbu **Preču pieejamība**.</span><span class="sxs-lookup"><span data-stu-id="3e036-130">Select **OK** to run the **Product availability** job.</span></span> <span data-ttu-id="3e036-131">Varat arī ieplānot šo darbu, lai to palaistu partijā.</span><span class="sxs-lookup"><span data-stu-id="3e036-131">You can also schedule this job to run in batch.</span></span>

<span data-ttu-id="3e036-132">Kad darbs **Preču pieejamība** ir pabeigts, notvertie dati ir jāpārceļ uz kanāla datu bāzēm, lai jaunāko Headquarters krājumu momentuzņēmumu varētu iekļaut novērtēto rīcībā esošo krājumu kanāla puses aprēķinā.</span><span class="sxs-lookup"><span data-stu-id="3e036-132">After the **Product availability** job has finished running, the data that was captured must be pushed to the channel databases, so that the latest headquarters inventory snapshot can be considered in the channel-side calculation of estimated on-hand inventory.</span></span>

<span data-ttu-id="3e036-133">Lai sinhronizētu momentuzņēmumu datus no Headquarters jūsu kanāla datu bāzēs, sekojiet šīm darbībām.</span><span class="sxs-lookup"><span data-stu-id="3e036-133">To sync snapshot data from headquarters to your channel databases, follow these steps.</span></span>

1. <span data-ttu-id="3e036-134">Pārejiet uz **Mazumtirdzniecība un komercija \> Mazumtirdzniecības un komercijas IT \> Sadales grafiks**.</span><span class="sxs-lookup"><span data-stu-id="3e036-134">Go to **Retail and Commerce \> Retail and Commerce IT \> Distribution schedule**.</span></span>
1. <span data-ttu-id="3e036-135">Palaidiet darbu **1130** (**Preču pieejamība**) darbu, lai sinhronizētu momentuzņēmuma datus, ko **Preču pieejamības** darbs, kas izveidots no Headquarters, ar jūsu kanāla datu bāzēm.</span><span class="sxs-lookup"><span data-stu-id="3e036-135">Run the **1130** (**Product availability**) job to sync the snapshot data that the **Product availability** job has created from headquarters to your channel databases.</span></span>

## <a name="inventory-availability-apis-for-e-commerce"></a><span data-ttu-id="3e036-136">Krājumu pieejamības API interfeisi e-komercijai</span><span class="sxs-lookup"><span data-stu-id="3e036-136">Inventory availability APIs for e-commerce</span></span>

<span data-ttu-id="3e036-137">Commerce nodrošina šādus API e-komercijas scenārijiem, lai vaicātu preces krājumu pieejamību:</span><span class="sxs-lookup"><span data-stu-id="3e036-137">Commerce provides the following APIs for e-commerce scenarios to query inventory availability of a product:</span></span>

- <span data-ttu-id="3e036-138">**GetEstimatedAvailability** - Izmantojiet šo API, lai tiešsaistes kanāla noliktavā vai noliktavās, kas ir saistītas ar tiešsaistes kanāla izpildes grupu, veiktu produkta vai produkta varianta krājumu vaicājumu.</span><span class="sxs-lookup"><span data-stu-id="3e036-138">**GetEstimatedAvailability** – Use this API to query inventory for a product or product variant in the online channel warehouse or warehouses that are linked to the online channel's fulfillment group.</span></span>
- <span data-ttu-id="3e036-139">**GetEstimatedProductWarehouseAvailability** — Izmantojiet šo API, lai pieprasītu krājumu produktam vai produkta variantam no konkrētas noliktavas.</span><span class="sxs-lookup"><span data-stu-id="3e036-139">**GetEstimatedProductWarehouseAvailability** – Use this API to query inventory for a product or product variant from a specific warehouse.</span></span>

> [!NOTE]
> <span data-ttu-id="3e036-140">Šie API aizvieto API **GetProductAvailabilities** un **GetAvailableInventoryNearby** programmas Commerce izlaiduma 10.0.7 versijā un vecākās versijās.</span><span class="sxs-lookup"><span data-stu-id="3e036-140">These APIs replace the **GetProductAvailabilities** and **GetAvailableInventoryNearby** APIs in Commerce release 10.0.7 and earlier.</span></span>

<span data-ttu-id="3e036-141">Abi API iekšēji izmanto kanāla puses aprēķina loģiku un atgriež pieprasītās preces un noliktavas novērtēto **fizisko pieejamo** daudzumu, **kopējo pieejamo** daudzumu, **mērvienību (UOM)** un **krājumu līmeni**.</span><span class="sxs-lookup"><span data-stu-id="3e036-141">Both APIs internally use the channel-side calculation logic and return estimated **physical available** quantity, **total available** quantity, **unit of measure (UoM)**, and **inventory level** for the requested product and warehouse.</span></span> <span data-ttu-id="3e036-142">Ja vēlaties, atgrieztās vērtības var tikt rādītas e-komercijas vietnē, vai tās var izmantot, lai aktivizētu citu biznesa loģiku jūsu e-komercijas vietnē.</span><span class="sxs-lookup"><span data-stu-id="3e036-142">The returned values can be shown on your e-commerce site if you want, or they can be used to trigger other business logic on your e-commerce site.</span></span> <span data-ttu-id="3e036-143">Piemēram, var novērst preču iegādi ar krājumu līmeni "ārpus krājumiem".</span><span class="sxs-lookup"><span data-stu-id="3e036-143">For example, you can prevent the purchase of products with an "out of stock" inventory level.</span></span>

<span data-ttu-id="3e036-144">Lai gan citi API, kas ir pieejami Commerce, var tieši doties uz Headquarters, lai iznestu rīcībā esošos preču daudzumus, mēs neiesakām tos izmantot e-komercijas vidē iespējamo veiktspējas problēmu un ietekmes dēļ, ko šie Biežie pieprasījumi var radīt jūsu Headquarters serveriem.</span><span class="sxs-lookup"><span data-stu-id="3e036-144">Although other APIs that are available in Commerce can go directly to headquarters to fetch on-hand quantities for products, we don't recommend that they be used in an e-commerce environment because of potential performance issues and the impact that these frequent requests can have on your headquarters servers.</span></span> <span data-ttu-id="3e036-145">Turklāt, ar kanāla puses aprēķinu, abi iepriekš minētie API var nodrošināt precīzāku preces pieejamības novērtējumu, ņemot vērā darbības, kas izveidotas kanālos, kas vēl nav zināmi programmā Headquarters.</span><span class="sxs-lookup"><span data-stu-id="3e036-145">Additionally, with channel-side calculation, the two APIs mentioned above can provide a more accurate estimate of a product's availability by taking into account the transactions created in the channels that aren’t yet known to headquarters.</span></span>

<span data-ttu-id="3e036-146">Lai izmantotu divus API, ir jāiespējo **Optimizētās preču pieejamības aprēķināšanas** līdzeklis, izmantojot **Līdzekļu pārvaldības** darbvietu programmā Headquarters.</span><span class="sxs-lookup"><span data-stu-id="3e036-146">To use the two APIs, you must enable the **Optimized product availability calculation** feature through the **Feature management** workspace in headquarters.</span></span> <span data-ttu-id="3e036-147">Ja tiešsaistes un veikala kanāli izmanto vienas izpildes noliktavas, ir jāiespējo arī līdzekli **Uzlaboto e-Commerce kanāla puses krājumu aprēķināšanas loģika**, lai šajā divos API būtu kanāla puses aprēķina loģika neiegrāmatotajās darbībās (skaidras naudas un pārvadāšanas, debitoru pasūtījumu, atgriešanu), kas ir veidotas veikala kanālā.</span><span class="sxs-lookup"><span data-stu-id="3e036-147">If your online and store channels use the same fulfillment warehouses, you must also enable the **Enhanced e-Commerce channel-side inventory calculation logic** feature to have the channel-side calculation logic within the two APIs to factor in the unposted transactions (cash-and-carry, customer orders, returns) created in the store channel.</span></span> <span data-ttu-id="3e036-148">Pēc šo līzdekļu iespējošanas jums būs nepieciešams palaist darbu **1070** (**Kanāla konfigurācija**).</span><span class="sxs-lookup"><span data-stu-id="3e036-148">You will need to run the **1070** (**Channel configuration**) job after enabling these features.</span></span>

<span data-ttu-id="3e036-149">Lai definētu, kā atgriezt preču daudzumu API izvadē, sekojiet šiem darbībām.</span><span class="sxs-lookup"><span data-stu-id="3e036-149">To define how product quantity should be returned in the API output, follow these steps.</span></span>

1. <span data-ttu-id="3e036-150">Dodieties uz **Mazumtirdzniecība un tirdzniecība \> Headquarters iestatīšana \> Parametri \> Tirdzniecības parametri**.</span><span class="sxs-lookup"><span data-stu-id="3e036-150">Go to **Retail and Commerce \> Headquarters setup \> Parameters \> Commerce parameters**.</span></span>
1. <span data-ttu-id="3e036-151">Atlasiet cilni **Krājumi** un pēc tam kopsavilkuma cilnē **Krājumu pieejamības API e-Komercijai** konfigurējiet iestatījuma **Daudzums API izvadē** vērtību.</span><span class="sxs-lookup"><span data-stu-id="3e036-151">Select the **Inventory** tab, and then on the **Inventory availability APIs for e-Commerce** FastTab configure the value of the **Quantity in API output** setting.</span></span>
1. <span data-ttu-id="3e036-152">Palaidiet **1070** (**Kanāla konfigurācija**) darbu, lai sinhronizētu pēdējos iestatījumus kanālos.</span><span class="sxs-lookup"><span data-stu-id="3e036-152">Run the **1070** (**Channel configuration**) job to sync the latest setting to channels.</span></span>

<span data-ttu-id="3e036-153">Iestatījums **Daudzums API izvadē** nodrošina trīs opcijas:</span><span class="sxs-lookup"><span data-stu-id="3e036-153">The **Quantity in API output** setting provides three options:</span></span>

- <span data-ttu-id="3e036-154">**Atgrieztā krājuma daudzums** — fiziski pieejamais un kopējais pieprasītās preces pieejamais daudzums tiek atgriezts API izvadē.</span><span class="sxs-lookup"><span data-stu-id="3e036-154">**Return inventory quantity** - Physical available and total available quantity of a requested product are returned in API output.</span></span>
- <span data-ttu-id="3e036-155">**Atgrieztā krājuma daudzums, no kura atņemts krājumu buferis** – API izvadē atgrieztais daudzums tiek koriģēts, atņemot krājumu bufera vērtību.</span><span class="sxs-lookup"><span data-stu-id="3e036-155">**Return inventory quantity subtracting inventory buffer** - The quantity returned in the API output is adjusted by subtracting the inventory buffer value.</span></span> <span data-ttu-id="3e036-156">Papildinformāciju par krājumu buferi skatiet sadaļā [Krājumu buferu un krājumu līmeņu konfigurēšana](inventory-buffers-levels.md).</span><span class="sxs-lookup"><span data-stu-id="3e036-156">For more information about the inventory buffer, see [Configure inventory buffers and inventory levels](inventory-buffers-levels.md).</span></span>
- <span data-ttu-id="3e036-157">**Neatgriež krājumu daudzumu** - API izvadē tiek atgriezts tikai krājumu līmenis.</span><span class="sxs-lookup"><span data-stu-id="3e036-157">**Not return inventory quantity** - Only the inventory level is returned in the API output.</span></span> <span data-ttu-id="3e036-158">Papildinformāciju par krājumu līmeņiem skatiet sadaļā [Krājumu buferu un krājumu līmeņu konfigurēšana](inventory-buffers-levels.md).</span><span class="sxs-lookup"><span data-stu-id="3e036-158">For more information about inventory levels, see [Configure inventory buffers and inventory levels](inventory-buffers-levels.md).</span></span>

<span data-ttu-id="3e036-159">Varat izmantot `QuantityUnitTypeValue` API parametru, lai norādītu vienības veidu, kādā vēlaties, lai API atgriež daudzumu.</span><span class="sxs-lookup"><span data-stu-id="3e036-159">You can use the `QuantityUnitTypeValue` API parameter to specify the unit type in which you would like the APIs to return quantity.</span></span> <span data-ttu-id="3e036-160">Šis parametrs atbalsta opcijas **krājumu vienība** (noklusējuma), **pirkšanas vienība** un **pārdošanas vienība**.</span><span class="sxs-lookup"><span data-stu-id="3e036-160">This parameter supports the **inventory unit** (default), **purchase unit**, and **sell unit** options.</span></span> <span data-ttu-id="3e036-161">Atgrieztais daudzums tiek noapaļots līdz atbilstošas mērvienības (unit of measure - UOM) definētajai precizitātei programmā Headquarters.</span><span class="sxs-lookup"><span data-stu-id="3e036-161">The returned quantity is rounded to the defined precision of the corresponding unit of measure (UOM) in headquarters.</span></span>

<span data-ttu-id="3e036-162">API **GetEstimatedAvailability** piedāvā šādus ievades parametrus, lai atbalstītu dažādus vaicājuma scenārijus:</span><span class="sxs-lookup"><span data-stu-id="3e036-162">The **GetEstimatedAvailability** API offers the following input parameters to support different query scenarios:</span></span>

- <span data-ttu-id="3e036-163">`DefaultWarehouseOnly` - Izmantojiet šo parametru, lai vaicātu par produktu noliktavu tiešsaistes kanāla noklusējuma noliktavā.</span><span class="sxs-lookup"><span data-stu-id="3e036-163">`DefaultWarehouseOnly` - Use this parameter to query inventory for a product in the online channel's default warehouse.</span></span> 
- <span data-ttu-id="3e036-164">`FilterByChannelFulfillmentGroup` un `SearchArea` - izmantojiet šos divus parametrus, lai vaicātu par preces krājumiem no visām saņemšanas vietām specifiskā meklēšanas zonā, pamatojoties uz `longitude`, `latitude` un `radius`.</span><span class="sxs-lookup"><span data-stu-id="3e036-164">`FilterByChannelFulfillmentGroup` and `SearchArea` - Use these two parameters to query inventory for a product from all pickup locations within a specific search area, based on `longitude`, `latitude`, and `radius`.</span></span> 
- <span data-ttu-id="3e036-165">`FilterByChannelFulfillmentGroup` un `DeliveryModeTypeFilterValue` - izmantojiet šos divus parametrus, lai pieprasītu krājumus precei no noteiktām noliktavām, kas ir saistītas ar tiešsaistes kanāla izpildes grupu un ir konfigurēti, lai atbalstītu noteiktus piegādes veidus.</span><span class="sxs-lookup"><span data-stu-id="3e036-165">`FilterByChannelFulfillmentGroup` and `DeliveryModeTypeFilterValue` - Use these two parameters to query inventory for a product from specific warehouses that are linked to an online channel's fulfillment group and are configured to support certain modes of delivery.</span></span> <span data-ttu-id="3e036-166">Parametrs `DeliveryModeTypeFilterValue` atbalsta **visas** (noklusētās), **nosūtīšanas** un **savākšanas** opcijas.</span><span class="sxs-lookup"><span data-stu-id="3e036-166">The `DeliveryModeTypeFilterValue` parameter supports the **all** (default), **shipping**, and **pickup** options.</span></span> <span data-ttu-id="3e036-167">Piemēram, scenārijā, kad tiešsaistes pasūtījumu var izpildīt no vairākām nosūtīšanas noliktavām, varat izmantot šos divus parametrus, lai vaicātu par preces krājumu pieejamību visās šajās nosūtīšanas noliktavās.</span><span class="sxs-lookup"><span data-stu-id="3e036-167">For example, in a scenario where an online order can be fulfilled from multiple shipping warehouses, you can use these two parameters to query a product's inventory availability in all of those shipping warehouses.</span></span> <span data-ttu-id="3e036-168">Šajā gadījumā API atgriež preces rīcībā esošo daudzumu un krājumu līmeni katrā nosūtīšanas noliktavā, kā arī apkopoto daudzumu un apkopoto krājumu līmeni no visām nosūtīšanas noliktavām vaicājumu tvērumā.</span><span class="sxs-lookup"><span data-stu-id="3e036-168">The API in this case returns the product's on-hand quantity and inventory level in each of the shipping warehouses, plus an aggregated quantity and an aggregated inventory level from all shipping warehouses in the query scope.</span></span>
 
<span data-ttu-id="3e036-169">Commerce pirkšanas kastea, veikala atlasītāja, vēlmju saraksta, groza un groza ikonas moduļi patērē API un iepriekš minētos parametrus, lai parādītu krājumu līmeņa ziņojumus e-komercijas vietnē.</span><span class="sxs-lookup"><span data-stu-id="3e036-169">The Commerce buy box, store selector, wishlist, cart, and cart icon modules consume the APIs and parameters mentioned above to display inventory level messages across the e-commerce site.</span></span> <span data-ttu-id="3e036-170">Commerce vietņu veidotājs nodrošina dažādus krājumu iestatījumus, lai kontrolētu tirdzniecību un pirkšanu.</span><span class="sxs-lookup"><span data-stu-id="3e036-170">Commerce site builder provides various inventory settings to control merchandising and purchase behavior.</span></span> <span data-ttu-id="3e036-171">Papildinformāciju skatiet [Krājumu iestatījumu lietošana](inventory-settings.md).</span><span class="sxs-lookup"><span data-stu-id="3e036-171">For more information, see [Apply inventory settings](inventory-settings.md).</span></span>

## <a name="pos-inventory-lookup-with-channel-side-calculation"></a><span data-ttu-id="3e036-172">POS krājumu pārlūkošana ar kanāla puses aprēķinu</span><span class="sxs-lookup"><span data-stu-id="3e036-172">POS inventory lookup with channel-side calculation</span></span>

<span data-ttu-id="3e036-173">Commerce izlaidumā 10.0.9 un vecākās darbība **Krājumu informācijas iegūšana** POS lietoja reāllaika pakalpojuma izsaukumu uz Headquarters, lai iegūtu informāciju par atlasītā produkta krājumu gan lietotāja pašreizējam veikalam, gan visiem citiem veikaliem, kas ir konfigurēti izpildes grupai kā daļa no kanāla konfigurācijas veikalam.</span><span class="sxs-lookup"><span data-stu-id="3e036-173">In the Commerce release 10.0.9 and earlier, the **Inventory lookup** operation in POS used a real-time service call to headquarters to get inventory information for the selected product for both the user's current store and any other stores that are configured for the fulfillment group as part of the channel configuration for the store.</span></span> <span data-ttu-id="3e036-174">Commerce versijā 10.0.10 un jaunākai versijai varat izslēgt reāllaika pakalpojuma izsaukumus programmā Headquarters un tā vietā izmantot kanāla puses aprēķinu Commerce serverī, lai noteiktu rīcībā esošos krājumus, kas ir fiziski pieejami veikalam un visām citām atrašanās vietām, kas ir noteiktas izpildes grupā.</span><span class="sxs-lookup"><span data-stu-id="3e036-174">In Commerce release 10.0.10 and later, you can turn off real-time service calls to headquarters and instead use channel-side calculation on the Commerce server to determine the on-hand inventory that is physically available for the store and any other locations that are defined in the fulfillment group.</span></span> <span data-ttu-id="3e036-175">Šī kanāla aprēķinātā krājumu konfigurācija ir noderīga arī vietās, kur interneta savienojums nav uzticams, jo jums nav jābūt tiešsaistē, lai iegūtu krājumu uzmeklēšanas rezultātus no Headquarters.</span><span class="sxs-lookup"><span data-stu-id="3e036-175">This channel-calculated inventory configuration is also useful for locations where internet connectivity is unreliable, because you don't have to be online to get inventory lookups headquarters.</span></span>

<span data-ttu-id="3e036-176">Kad kanāla puses aprēķins ir pareizi konfigurēts un pārvaldīts, tas var nodrošināt uzticamāku pašreizējo veikala krājumu aplēsi, jo tas izmanto transakciju datus, kas ir Commerce Channel datu bāzē, bet kuriem Headquarters varētu vēl nebūt informācijas.</span><span class="sxs-lookup"><span data-stu-id="3e036-176">When channel-side calculation is correctly configured and managed, it can provide a more reliable estimate of the current store inventory because it uses the transactional data that is in the Commerce channel database but that headquarters might not yet have information about.</span></span> <span data-ttu-id="3e036-177">Piemēram, ja izmantojat esošo reāllaika pakalpojumu izsaukumu krājumu pārlūkošanai POS, Headquarters, iespējams, vēl nebūs informācijas par pārdošanu skaidrā naudā bez piegādes, kas tikko notikusi saistībā ar preci.</span><span class="sxs-lookup"><span data-stu-id="3e036-177">For example, if you use the existing real-time service call for inventory lookups in POS, headquarters probably won't yet have information about a cash-and-carry sale that just occurred for a product.</span></span> <span data-ttu-id="3e036-178">Tāpēc rīcībā esošo krājumu vērtība, ko Headquarters atgriež šai precei, iespējams, pārsniedz veikala faktisko rīcībā esošo krājumu daudzumu par vienu vienību.</span><span class="sxs-lookup"><span data-stu-id="3e036-178">Therefore, the on-hand inventory value that headquarters returns for that product will probably exceed the store's actual on-hand inventory by one unit.</span></span> <span data-ttu-id="3e036-179">Tomēr, ja izmantojat kanāla puses aprēķinu, pārdošanu skaidrā naudā bez piegādes var iekļaut aprēķinā, un tā tiek atskaitīta no parādītās rīcībā esošās vērtības.</span><span class="sxs-lookup"><span data-stu-id="3e036-179">However, if you use channel-side calculation, the cash-and-carry sale can be factored into the calculation and deducted from the on-hand value that is shown.</span></span> <span data-ttu-id="3e036-180">Lai gan vērtības, kas gan kanāla puses aprēķinā, gan reāllaika pakalpojuma izsaukumā sniedz tikai aprēķinus par rīcībā esošiem krājumiem, vērtība, ko sniedz kanāla puses aprēķins, ir daudz ticamāka pašreizējam veikalam.</span><span class="sxs-lookup"><span data-stu-id="3e036-180">Although the values that both the channel-side calculation and the real-time service call provide are only estimates of on-hand inventory, the value that the channel-side calculation provides is much more likely to be accurate for the current store.</span></span>

<span data-ttu-id="3e036-181">Lai konfigurētu POS **Krājumu uzmeklēšanas** operāciju Headquarters, lai izmantotu kanāla puses aprēķina loģiku un izslēgtu reāllaika pakalpojuma izsaukumu, sekojiet šiem darbībām.</span><span class="sxs-lookup"><span data-stu-id="3e036-181">To configure the POS **Inventory lookup** operation in headquarters to use the channel-side calculation logic and turn off real-time service call, follow these steps.</span></span>

1. <span data-ttu-id="3e036-182">Dodieties uz sadaļu **Retail un Commerce \> Kanāla iestatīšana \> POS iestatīšana \> POS profili \> Funkcionalitātes profili**.</span><span class="sxs-lookup"><span data-stu-id="3e036-182">Go to **Retail and Commerce \> Channel setup \> POS setup \> POS profiles \> Functionality profiles**.</span></span>
1. <span data-ttu-id="3e036-183">Atlasiet funkcionalitātes profilu.</span><span class="sxs-lookup"><span data-stu-id="3e036-183">Select a functionality profile.</span></span>
1. <span data-ttu-id="3e036-184">Kopsavilkuma cilnes **Funkcijas** sadaļā **Krājuma pieejamības aprēķins** mainiet lauka **Krājuma pieejamības aprēķina režīms** no **Reāllaika pakalpojums** uz **Kanāls**.</span><span class="sxs-lookup"><span data-stu-id="3e036-184">On the **Functions** FastTab, in the **Inventory availability calculation** section, change the value of **Inventory availability calculation mode** from **Real time service** to **Channel**.</span></span> <span data-ttu-id="3e036-185">Pēc noklusējuma visi funkcionalitātes profili izmanto reāllaika pakalpojumu izsaukumus.</span><span class="sxs-lookup"><span data-stu-id="3e036-185">By default, all functionality profiles use real-time service calls.</span></span> <span data-ttu-id="3e036-186">Šī lauka vērtība ir jāmaina, ja vēlaties izmantot kanāla puses aprēķina loģiku.</span><span class="sxs-lookup"><span data-stu-id="3e036-186">You must change the value of this field if you want to use channel-side calculation logic.</span></span> <span data-ttu-id="3e036-187">Visus mazumtirdzniecības veikalus, kas ir saistīti ar izvēlēto funkcionalitātes profilu, ietekmēs šīs izmaiņas.</span><span class="sxs-lookup"><span data-stu-id="3e036-187">Every retail store that is linked to the selected functionality profile will be affected by this change.</span></span>

<span data-ttu-id="3e036-188">Pēc tam ir jāsinhronizē izmaiņas kanālos ar sadales grafika procesu programmā Headquarters, veicot šādas darbības:</span><span class="sxs-lookup"><span data-stu-id="3e036-188">You must then sync the changes to the channels through the distribution schedule process in headquarters by following these steps.</span></span>

1. <span data-ttu-id="3e036-189">Pārejiet uz **Mazumtirdzniecība un komercija \> Mazumtirdzniecības un komercijas IT \> Sadales grafiks**.</span><span class="sxs-lookup"><span data-stu-id="3e036-189">Go to **Retail and Commerce \> Retail and Commerce IT \> Distribution schedule**.</span></span>
1. <span data-ttu-id="3e036-190">Palaidiet **1070** (**Kanāla konfigurācija**) darbu.</span><span class="sxs-lookup"><span data-stu-id="3e036-190">Run the **1070** (**Channel configuration**) job.</span></span>

<span data-ttu-id="3e036-191">Pēc tam, kad konfigurācija ir pabeigta, informācija, kas tiek sniegta par fiziski pieejamiem krājumiem, vairs neizmanto reāllaika pakalpojuma zvanu, kad lietotājs POS lietojumprogrammā izmanto **krājumu uzmeklēšanas** operāciju (standarta un matricas skatījumi).</span><span class="sxs-lookup"><span data-stu-id="3e036-191">After the configuration is completed, the information that is provided about physically available inventory no longer uses a real-time service call when a user in the POS application uses the **Inventory lookup** operation (standard and matrix views).</span></span> <span data-ttu-id="3e036-192">Tā vietā dati par fiziski pieejamiem krājumiem pašreizējam veikalam un visi veikali izpildes grupā tiek aprēķināti, pamatojoties uz pēdējo zināmo momentuzņēmumu, kas tika piegādāts kanāla datu bāzei no Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="3e036-192">Instead, data about physically available inventory for the current store and all the stores in the fulfillment group is calculated based on the last-known snapshot that was delivered to the channel database from Commerce Headquarters.</span></span> <span data-ttu-id="3e036-193">Momentuzņēmuma vērtību tālāk rafinētu kanāla puses aprēķins, lai koriģētu fiziski pieejamo vērtību, pamatojoties uz papildu pārdošanas vai atgriešanas transakcijām, kas ir izveidotas atlasītajam produktam kanāla datu bāzē, kas netika iekļauta pēdējā sinhronizēts momentuzņēmums no 1130 darba.</span><span class="sxs-lookup"><span data-stu-id="3e036-193">The snapshot value is further refined by the channel-side calculation to adjust the physically available value, based on additional sales or return transactions that exist for the selected product in the channel database that were not included in the last synchronized snapshot from the 1130 job.</span></span> <span data-ttu-id="3e036-194">Ja kanāla datu bāzē nav ietverti darbības dati kādai no noliktavām vai veikaliem izpildes grupā, tas nesatur papildu darbības, kuras var iekļaut vērtības pārrēķinā.</span><span class="sxs-lookup"><span data-stu-id="3e036-194">If the channel database doesn't contain transactional data for any of the warehouses or stores in the fulfillment group, it contains no additional transactions that can be factored into a recalculation of the value.</span></span> <span data-ttu-id="3e036-195">Tāpēc vislabākā rīcībā esošo krājumu aplēse, kas var tikt rādīta šīm noliktavām vai veikaliem, ir dati no pēdējā zināmā Commerce Headquarters momentuzņēmuma.</span><span class="sxs-lookup"><span data-stu-id="3e036-195">Therefore, the best estimate of on-hand inventory that can be shown for those warehouses or stores is the data from the last-known Commerce Headquarters snapshot.</span></span>

<span data-ttu-id="3e036-196">POS ekrāni **Pasūtījuma izpilde** piesaista arī kanāla puses aprēķinu, lai parādītu rīcībā esošos krājumus vienumiem, kad ir atlasīta pasūtījuma izpildes rinda, un lietotājs skata paneli **Detalizēta informācija** par atlasītā vienuma rīcībā esošajiem krājumiem.</span><span class="sxs-lookup"><span data-stu-id="3e036-196">The **Order fulfillment** screens of POS also leverage the channel side calculation to show on-hand inventory for items when an order fulfillment line is selected and a user views the **Details** panel for on-hand inventory for the selected item.</span></span>

## <a name="optimize-your-inventory-data"></a><span data-ttu-id="3e036-197">Optimizējiet krājumu datus</span><span class="sxs-lookup"><span data-stu-id="3e036-197">Optimize your inventory data</span></span>

<span data-ttu-id="3e036-198">Lai nodrošinātu labāko iespējamo krājumu aplēsi, ir svarīgi, lai tiktu izmantoti šādi Commerce pakešuzdevumi un tie tiktu bieži izpildīti:</span><span class="sxs-lookup"><span data-stu-id="3e036-198">To ensure the best possible estimate of inventory, it's critical that you use the following Commerce batch jobs and run them frequently:</span></span>

- <span data-ttu-id="3e036-199">**P-darbs** – P-darbs tiek atrasts lapā **Sadales grafiki**, un tas ir jāizpilda bieži.</span><span class="sxs-lookup"><span data-stu-id="3e036-199">**P-job** – The P-job is found on the **Distribution schedules** page and should be run frequently.</span></span> <span data-ttu-id="3e036-200">Šis darbs apvieno e-komercijas pasūtījumus, asinhronos debitoru pasūtījumus, kas izveidoti POS, un pārdošanas skaidrā naudā bez piegādes pasūtījumus, ko POS izveidoja no kanāla datu bāzēm programmā Commerce Headquarters, lai tos varētu apstrādāt tālāk.</span><span class="sxs-lookup"><span data-stu-id="3e036-200">This job brings e-Commerce orders, asynchronous customer orders that POS created, and cash-and-carry orders that POS created from the channel databases into Commerce Headquarters, so that they can be processed further.</span></span> <span data-ttu-id="3e036-201">Līdz brīdim, kad šie dati tiek sinhronizēti no kanāla uz Commerce Headquarters, Commerce Headquarters nav informācijas par krājumu korekcijām precēm noliktavās, kas rodas no šīm transakcijām.</span><span class="sxs-lookup"><span data-stu-id="3e036-201">Until this data is synced from the channel to Commerce Headquarters, Commerce Headquarters has no information about inventory adjustments to products in the warehouses that result from those transactions.</span></span>
- <span data-ttu-id="3e036-202">**Sinhronizēt pasūtījumus** — šis darbs apstrādā neapstrādātos transakciju datus programmā Commerce Headquarters, kurus P-darbs sniedz un pārvērš e-komerciju un asinhronu debitoru pasūtījumu transakcijas pārdošanas pasūtījumos programmā Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="3e036-202">**Synchronize orders** – This job processes the raw transactional data in Commerce Headquarters that the P-job provides and converts e-Commerce and asynchronous customer order transactions into sales orders in Commerce Headquarters.</span></span> <span data-ttu-id="3e036-203">Kamēr šis darbs netiek apstrādāts un pārdošanas pasūtījumi nav izveidoti, transakcijas darbības netiek veidotas.</span><span class="sxs-lookup"><span data-stu-id="3e036-203">Until this job is processed and the sales orders are created, no inventory transactions are created.</span></span> <span data-ttu-id="3e036-204">Tāpēc rīcībā esošie krājumi programmā Commerce Headquarters neņems vērā transakcijas.</span><span class="sxs-lookup"><span data-stu-id="3e036-204">Therefore, on-hand inventory in Commerce Headquarters won't consider the transactions.</span></span>
- <span data-ttu-id="3e036-205">**Aprēķināt transakciju izrakstus paketē** – pārdošanas darījumiem skaidrā naudā bez piegādes, kas ir izveidoti veikalā, pakāpeniskās padeves grāmatošanas procesā tiek nodrošināts, ka ar pārdošanu saistītie krājumi tiek atjaunināti efektīvi.</span><span class="sxs-lookup"><span data-stu-id="3e036-205">**Calculate transactional statements in batch** – For cash-and-carry transactions that are created in the store, the trickle feed posting process ensures that inventory that is related to the sales is updated efficiently.</span></span> <span data-ttu-id="3e036-206">Lai iegūtu visefektīvāko krājumu transakciju pārdošanas skaidrā naudā bez piegādes darījumu transakcijām, pārliecinieties, ka konfigurējat sistēmu, lai izmantotu [pakāpeniskās padeves grāmatošanu](./trickle-feed.md).</span><span class="sxs-lookup"><span data-stu-id="3e036-206">To get the most efficient processing of inventory transactions for cash-and-carry orders, make sure that you configure your system to use [trickle feed posting](./trickle-feed.md).</span></span>
- <span data-ttu-id="3e036-207">**Grāmatot transakciju paziņojumus partijā** — šis darbs ir nepieciešams arī pakāpeniskās padeves grāmatošanai.</span><span class="sxs-lookup"><span data-stu-id="3e036-207">**Post transactional statements in batch** – This job is also required for trickle feed posting.</span></span> <span data-ttu-id="3e036-208">Tas seko darbam **Aprēķināt transakciju paziņojumus partijā**.</span><span class="sxs-lookup"><span data-stu-id="3e036-208">It follows the **Calculate transactional statements in batch** job.</span></span> <span data-ttu-id="3e036-209">Šis darbs sistemātiski veic aprēķināto paziņojumu grāmatošanu, lai pārdošanas pasūtījumi pārdošanas pasūtījumiem skaidrā naudā bez piegādes tiktu izveidoti programmā Commerce Headquarters un Commerce Headquarters precīzāk atainotu jūsu veikala krājumus.</span><span class="sxs-lookup"><span data-stu-id="3e036-209">This job systematically posts the calculated statements, so that sales orders for cash-and-carry sales are created in Commerce Headquarters and Commerce Headquarters more accurately reflects your store's inventory.</span></span>
- <span data-ttu-id="3e036-210">**Preču pieejamība** — šis darbs izveido krājumu momentuzņēmumu no Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="3e036-210">**Product availability** – This job creates the snapshot of inventory from Commerce Headquarters.</span></span>
- <span data-ttu-id="3e036-211">**1130 (Preču pieejamība)** - Šis darbs ir atrodams lapā **Sadales grafiki**, un tas ir jāizpilda uzreiz pēc darba **Preču pieejamība**.</span><span class="sxs-lookup"><span data-stu-id="3e036-211">**1130 (Product availability)** – This job is found on the **Distribution schedules** page and should be run immediately after the **Product availability** job.</span></span> <span data-ttu-id="3e036-212">Šis darbs transportē krājumu momentuzņēmuma datus no Commerce Headquarters uz kanāla datu bāzēm.</span><span class="sxs-lookup"><span data-stu-id="3e036-212">This job transports the inventory snapshot data from Commerce Headquarters to the channel databases.</span></span>

> [!NOTE]
> - <span data-ttu-id="3e036-213">Ir ieteicams palaist darbus **Produktu pieejamība** un **1130** stundas laikā, lai plānotu P-darbu, sinhronizētu pasūtījumus un veiktu vienādas vai augstākas frekvences ar pastu saistītus darbus.</span><span class="sxs-lookup"><span data-stu-id="3e036-213">It is a best practice to run the **Product availability** and **1130** jobs on an hourly basis, and to schedule P-job, synchronize orders, and trickle feed posting-related jobs with the same or higher frequency.</span></span>
> - <span data-ttu-id="3e036-214">Veiktspējas apsvērumu dēļ, kad kanāla puses krājumu pieejamības aprēķini tiek izmantoti, lai veiktu krājumu pieejamības pieprasījumu, izmantojot e-komercijas API vai POS kanāla puses krājumu loģiku, aprēķins izmanto kešatmiņu, lai noteiktu, vai ir pagājis pietiekami daudz laika, lai attaisnotu aprēķina loģikas atkārtotu palaišanu.</span><span class="sxs-lookup"><span data-stu-id="3e036-214">For performance reasons, when channel-side inventory availability calculations are used to make an inventory availability request using the e-Commerce API's or the POS channel-side inventory logic, the calculation uses a cache to determine whether enough time has passed to justify running the calculation logic again.</span></span> <span data-ttu-id="3e036-215">Noklusējuma kešdarbe ir iestatīta uz 60 sekundēm.</span><span class="sxs-lookup"><span data-stu-id="3e036-215">The default cache is set to 60 seconds.</span></span> <span data-ttu-id="3e036-216">Piemēram, jūs ieslēdzāt sava veikala kanāla puses aprēķinu un apskatījāt rīcībā esošos krājumus, kas paredzēti precei lapā **Krājumu uzmeklēšana**.</span><span class="sxs-lookup"><span data-stu-id="3e036-216">For example, you turned on channel-side calculation for your store and viewed the on-hand inventory for a product on the **Inventory lookup** page.</span></span> <span data-ttu-id="3e036-217">Ja pēc tam tiek pārdota viena preces vienība, **Krājumu uzmeklēšanas** lapa nerāda samazinātos krājumus, līdz kešatmiņa nav notīrīta.</span><span class="sxs-lookup"><span data-stu-id="3e036-217">If one unit of the product is then sold, the **Inventory lookup** page won't show the reduced inventory until the cache has been cleared.</span></span> <span data-ttu-id="3e036-218">Pēc tam, kad lietotāji grāmato darījumus POS, tiem ir jāgaida 60 sekundes, pirms tie pārbauda, vai rīcībā esošie krājumi ir samazināti.</span><span class="sxs-lookup"><span data-stu-id="3e036-218">After users post transactions in POS, they should wait 60 seconds before they verify that the on-hand inventory has been reduced.</span></span>

<span data-ttu-id="3e036-219">Ja jūsu biznesa scenārijs prasa mazāku kešatmiņas laiku, sazinieties ar savu preču atbalsta pārstāvi, lai saņemtu palīdzību.</span><span class="sxs-lookup"><span data-stu-id="3e036-219">If your business scenario requires a smaller cache time, contact your product support representative for assistance.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]
