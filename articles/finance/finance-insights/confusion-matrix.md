---
title: Algoritmiskās mācīšanās modeļu rezultāti (priekšskatījums)
description: Šajā tēmā ir apspriestas algoritmiskās mācīšanās (AM) modeļu neskaidrību matricas, klasifikācijas problēmas un precizitāte. Mērķis ir uzlabot izpratni par AM prognozēšanas rezultātu precizitāti.
author: ShivamPandey-msft
manager: AnnBe
ms.date: 06/05/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: roschlom
ms.custom: 14151
ms.assetid: 3d43ba40-780c-459a-a66f-9a01d556e674
ms.search.region: Global
ms.author: shpandey
ms.search.validFrom: 2020-07-14
ms.dyn365.ops.version: AX 10.0.12
ms.openlocfilehash: dcdc6d501f09b639eb0d7504e0f760a66bb3dbc7
ms.sourcegitcommit: eaf330dbee1db96c20d5ac479f007747bea079eb
ms.translationtype: HT
ms.contentlocale: lv-LV
ms.lasthandoff: 02/15/2021
ms.locfileid: "5208537"
---
# <a name="results-of-machine-learning-models-preview"></a><span data-ttu-id="c6618-104">Algoritmiskās mācīšanās modeļu rezultāti (priekšskatījums)</span><span class="sxs-lookup"><span data-stu-id="c6618-104">Results of machine learning models (preview)</span></span>

[!include [banner](../includes/banner.md)]
[!include [preview banner](../includes/preview-banner.md)]

<span data-ttu-id="c6618-105">Šajā tēmā ir apspriestas algoritmiskās mācīšanās (AM) modeļu neskaidrību matricas, klasifikācijas problēmas un precizitāte.</span><span class="sxs-lookup"><span data-stu-id="c6618-105">This topic discusses confusion matrices, classification problems, and accuracy in machine learning (ML) models.</span></span> <span data-ttu-id="c6618-106">Mērķis ir uzlabot izpratni par AM prognozēšanas rezultātu precizitāti.</span><span class="sxs-lookup"><span data-stu-id="c6618-106">The purpose is to enhance your understanding of accuracy in ML prediction results.</span></span> <span data-ttu-id="c6618-107">Mērķauditorija ietver inženierus, analītiķus un vadītājus, kuri vēlas apgūt zināšanas un prasmes datu zinātnē.</span><span class="sxs-lookup"><span data-stu-id="c6618-107">The target audience includes engineers, analysts, and managers who want to build their knowledge and skills in data science.</span></span>

## <a name="confusion-matrix"></a><span data-ttu-id="c6618-108">Neskaidrību matrica</span><span class="sxs-lookup"><span data-stu-id="c6618-108">Confusion matrix</span></span>
<span data-ttu-id="c6618-109">Pēc tam, kad ir pārraudzīta AM problēma ir apmācīta, izmantojot vēsturiskos datus, tā tiek testēta, izmantojot datus, kas netiek izmantoti apmācību procesā.</span><span class="sxs-lookup"><span data-stu-id="c6618-109">After a supervised ML problem is trained on a set of historical data, it's tested by using data that is withheld from the training process.</span></span> <span data-ttu-id="c6618-110">Šādā veidā varat salīdzināt apmācītā modeļa prognozes ar faktiskajām vērtībām.</span><span class="sxs-lookup"><span data-stu-id="c6618-110">In this way, you can compare the predictions from the trained model with the actual values.</span></span> <span data-ttu-id="c6618-111">Neskaidrību matrica sniedz līdzekļus, lai novērtētu to, cik veiksmīga ir klasifikācijas problēma, un kur tā kļūdās (tas ir, kur tai ir "neskaidrības").</span><span class="sxs-lookup"><span data-stu-id="c6618-111">The confusion matrix provides a means of evaluating how successful a classification problem is and where it makes mistakes (that is, where it becomes "confused").</span></span>

<span data-ttu-id="c6618-112">Piemēram, jūsu mērķis ir prognozēt, vai mājdzīvnieks ir suns vai kaķis, pamatojoties uz dažām fiziskajām un uzvedības pazīmēm.</span><span class="sxs-lookup"><span data-stu-id="c6618-112">For example, your objective is to predict whether a pet is a dog or a cat, based on some physical and behavioral attributes.</span></span> <span data-ttu-id="c6618-113">Ja jums ir testa datu kopa, kas satur 30 suņus un 20 kaķus, neskaidrību matrica var izskatīties līdzīgi tālāk redzamajam attēlam.</span><span class="sxs-lookup"><span data-stu-id="c6618-113">If you have a test dataset that contains 30 dogs and 20 cats, the confusion matrix might resemble the following illustration.</span></span>

![Sugas prognozēšanas piemērs](media/species-prediction-matrix.png)

<span data-ttu-id="c6618-115">Skaitļi zaļajās šūnās attēlo pareizās prognozes.</span><span class="sxs-lookup"><span data-stu-id="c6618-115">The numbers in the green cells represent correct predictions.</span></span> <span data-ttu-id="c6618-116">Kā redzat, modelis pareizi prognozēja lielāku procentuālo daļu faktisko kaķu.</span><span class="sxs-lookup"><span data-stu-id="c6618-116">As you can see, the model predicted a higher percentage of the actual cats correctly.</span></span> <span data-ttu-id="c6618-117">Modeļa vispārējo precizitāti ir viegli aprēķināt.</span><span class="sxs-lookup"><span data-stu-id="c6618-117">The overall accuracy of the model is easy to calculate.</span></span> <span data-ttu-id="c6618-118">Šādā gadījumā tā ir 42 ÷ 50 vai 0,84.</span><span class="sxs-lookup"><span data-stu-id="c6618-118">In this case, it's 42 ÷ 50, or 0.84.</span></span>

### <a name="multi-class-classifiers-in-a-confusion-matrix"></a><span data-ttu-id="c6618-119">Vairāku klašu klasifikatori neskaidrību matricā</span><span class="sxs-lookup"><span data-stu-id="c6618-119">Multi-class classifiers in a confusion matrix</span></span>

<span data-ttu-id="c6618-120">Lielākā daļa diskusiju par neskaidrību matricu fokusēja uz binārajiem klasifikatoriem, kā tas ir iepriekšējā piemērā.</span><span class="sxs-lookup"><span data-stu-id="c6618-120">Most discussions about the confusion matrix are focused on binary classifiers, as in the preceding example.</span></span> <span data-ttu-id="c6618-121">Šis ir īpašs gadījums, kad var tikt apsvērtas citas metrikas, piemēram, jutība un atsaukšana.</span><span class="sxs-lookup"><span data-stu-id="c6618-121">This case is a special case where other metrics can be considered, such as sensitivity and recall.</span></span>

<span data-ttu-id="c6618-122">Pēc tam tiks apsvērta klasifikācijas problēma finanšu scenārijam, kam ir trīs stāvokļi.</span><span class="sxs-lookup"><span data-stu-id="c6618-122">Next, we will consider a classification problem for a finance scenario that has three states.</span></span> <span data-ttu-id="c6618-123">Modelis prognozē, vai debitora rēķins tiks apmaksāts savlaicīgi, novēloti vai ļoti novēloti.</span><span class="sxs-lookup"><span data-stu-id="c6618-123">The model predicts whether a customer invoice will be paid on time, late, or very late.</span></span> <span data-ttu-id="c6618-124">Piemēram, no 100 testa rēķiniem 50 tiek apmaksāti savlaicīgi, 35 tiek apmaksāti novēloti, un 15 tiek apmaksāti ļoti novēloti.</span><span class="sxs-lookup"><span data-stu-id="c6618-124">For example, out of 100 test invoices, 50 are paid on time, 35 are paid late, and 15 are paid very late.</span></span> <span data-ttu-id="c6618-125">Šādā gadījumā modelis var radīt neskaidrību matricu, kas līdzinās tālāk redzamajam attēlam.</span><span class="sxs-lookup"><span data-stu-id="c6618-125">In this case, a model might produce a confusion matrix that resembles the following illustration.</span></span>

![1. modelis](media/payment-prediction-matrix.png)<span data-ttu-id="c6618-127">]</span><span class="sxs-lookup"><span data-stu-id="c6618-127">]</span></span>

<span data-ttu-id="c6618-128">Neskaidrību matrica sniedz ievērojami vairāk informācijas, nekā vienkārša precizitātes metrika.</span><span class="sxs-lookup"><span data-stu-id="c6618-128">A confusion matrix provides significantly more information than a simple accuracy metric.</span></span> <span data-ttu-id="c6618-129">Tomēr to joprojām ir samērā viegli saprast.</span><span class="sxs-lookup"><span data-stu-id="c6618-129">However, it's still relatively easy to understand.</span></span> <span data-ttu-id="c6618-130">Neskaidrību matrica norāda, vai jums ir sabalansēta datu kopa, kur izvades klasēm ir līdzīgs skaits.</span><span class="sxs-lookup"><span data-stu-id="c6618-130">A confusion matrix tells you whether you have a balanced dataset where the output classes have similar counts.</span></span> <span data-ttu-id="c6618-131">Vairāku klašu scenārijā tā norāda, cik tālu var atšķirties prognoze, ja izvades klases ir kārtas, kā iepriekšējā piemērā par debitoru maksājumiem.</span><span class="sxs-lookup"><span data-stu-id="c6618-131">For the multi-class scenario, it tells you how far off a prediction might be when the output classes are ordinal, as in the preceding example about customer payments.</span></span>

## <a name="model-accuracy"></a><span data-ttu-id="c6618-132">Modeļa precizitāte</span><span class="sxs-lookup"><span data-stu-id="c6618-132">Model accuracy</span></span> 
<span data-ttu-id="c6618-133">Dažādām precizitātes metrikām ir priekšrocības, nosakot modeļa kvalitātes lielumu.</span><span class="sxs-lookup"><span data-stu-id="c6618-133">Different accuracy metrics have the advantage of quantifying the model quality.</span></span> 

<span data-ttu-id="c6618-134">Tā kā precizitāte ir vienkārša metrika, ko saprast, tā ir labs sākumpunkts, lai izskaidrotu modeli citiem cilvēkiem, it īpaši modeļa lietotājiem, kuri nav datu zinātnieki.</span><span class="sxs-lookup"><span data-stu-id="c6618-134">Because accuracy is an easy metric to understand, it's a good starting point for explaining a model to other people, especially to users of the model who aren't data scientists.</span></span> <span data-ttu-id="c6618-135">Nav nepieciešama statistikas izpratne, lai saprastu modeļa precizitāti.</span><span class="sxs-lookup"><span data-stu-id="c6618-135">No understanding of statistics is required to understand the model's accuracy.</span></span> <span data-ttu-id="c6618-136">Ja ir pieejama neskaidrību matrica, tā sniedz papildu ieskatu modeļa veiktspējā.</span><span class="sxs-lookup"><span data-stu-id="c6618-136">When a confusion matrix is available, it provides further insight into the model's performance.</span></span>

<span data-ttu-id="c6618-137">Tomēr, lai iegūtu pilnīgāku izpratni, ir jāatzīmē vairākas problēmas, kas saistītas ar precizitāti.</span><span class="sxs-lookup"><span data-stu-id="c6618-137">However, for a more thorough understanding, several challenges that are associated with accuracy should be noted.</span></span> <span data-ttu-id="c6618-138">Metrikas lietderība ir atkarīga no problēmas konteksta.</span><span class="sxs-lookup"><span data-stu-id="c6618-138">The usefulness of the metric depends on the context of the problem.</span></span> <span data-ttu-id="c6618-139">Saistībā ar modeļa veiktspēju bieži rodas jautājums: "Cik labs ir modelis?"</span><span class="sxs-lookup"><span data-stu-id="c6618-139">A question that often arises in relation to model performance is, "How good is the model?"</span></span> <span data-ttu-id="c6618-140">Tomēr atbilde uz šo jautājumu ne vienmēr ir vienkārša.</span><span class="sxs-lookup"><span data-stu-id="c6618-140">However, the answer to this question isn't necessarily straightforward.</span></span> <span data-ttu-id="c6618-141">Aplūkojiet tālāk redzamo neskaidrību matricu (2. modelis).</span><span class="sxs-lookup"><span data-stu-id="c6618-141">Consider the following confusion matrix (model 2).</span></span>

![Maksājuma prognozes piemērs ar lielāku paraugu](media/payment-prediction-matrix-2.png)

<span data-ttu-id="c6618-143">Ātrs aprēķins parāda, ka šī modeļa precizitāte ir (70 + 10 + 3) ÷ 100 vai 0,83.</span><span class="sxs-lookup"><span data-stu-id="c6618-143">A quick calculation shows that this model's accuracy is (70 + 10 + 3) ÷ 100, or 0.83.</span></span> <span data-ttu-id="c6618-144">Virspusēji šis rezultāts šķiet labāks, nekā iepriekšējā vairāku klašu modeļa (1. modeļa) rezultāts, kura precizitāte ir 0,73.</span><span class="sxs-lookup"><span data-stu-id="c6618-144">On the surface, this result seems better than result for the previous multi-class model (model 1), which has an accuracy of 0.73.</span></span> <span data-ttu-id="c6618-145">Bet vai tas ir labāks?</span><span class="sxs-lookup"><span data-stu-id="c6618-145">But is it better?</span></span>

<span data-ttu-id="c6618-146">Lai sāktu apskatīt šo jautājumu, apsveriet naiva minējuma precizitāti.</span><span class="sxs-lookup"><span data-stu-id="c6618-146">To begin to address this question, consider the accuracy of a naïve guess.</span></span> <span data-ttu-id="c6618-147">Klasifikācijas problēmai vienkāršs minējums vienmēr prognozēs visbiežāko klasi.</span><span class="sxs-lookup"><span data-stu-id="c6618-147">For a classification problem, a simple guess will always predict the most common class.</span></span> <span data-ttu-id="c6618-148">1. modelī, šis minējums būs "savlaicīgi", un tas radīs precizitāti 0,50.</span><span class="sxs-lookup"><span data-stu-id="c6618-148">For model 1, that guess will be "on time," and it will produce an accuracy of 0.50.</span></span> <span data-ttu-id="c6618-149">Minējums 2. modelim arī būs "savlaicīgi", un tas radīs precizitāti 0,80.</span><span class="sxs-lookup"><span data-stu-id="c6618-149">The guess for model 2 will also be "on time," and it will produce an accuracy of 0.80.</span></span> <span data-ttu-id="c6618-150">Tā kā naivs minējums uzlabo 1. modeli par 0,73 – 0,50 = 0,23, turpretī naivs minējums uzlabo 2. modeli par 0,83 – 0,80 = 0,03, 1. modelis ir labāks, pat ja tam ir mazāka precizitāte.</span><span class="sxs-lookup"><span data-stu-id="c6618-150">Because model 1 improves on the naïve guess by 0.73 – 0.50 = 0.23, whereas model 2 improves on the naïve guess by 0.83 – 0.80 = 0.03, model 1 is a better model, even though it has lower accuracy.</span></span> <span data-ttu-id="c6618-151">Aprēķins parāda, ka efektīvam modeļa kvalitātes novērtējumam nepieciešams vairāk konteksta, nekā precizitātes vērtība.</span><span class="sxs-lookup"><span data-stu-id="c6618-151">The calculation reveals that effective assessment of a model's quality requires more context than the accuracy value.</span></span>

<span data-ttu-id="c6618-152">Ir vērts pieminēt vēl vienu aspektu.</span><span class="sxs-lookup"><span data-stu-id="c6618-152">Another aspect is worth noting.</span></span> <span data-ttu-id="c6618-153">Apsveriet scenāriju, kur tiek izmantots medicīnisks tests, lai noteiktu pacienta slimību.</span><span class="sxs-lookup"><span data-stu-id="c6618-153">Consider a scenario where a medical test is used to detect a disease in a patient.</span></span> <span data-ttu-id="c6618-154">Šī ir bināras klasifikācijas problēma, kad pozitīvs rezultāts norāda, ka pacientam ir slimība.</span><span class="sxs-lookup"><span data-stu-id="c6618-154">This problem is a binary classification problem where a positive result indicates that the patient has the disease.</span></span> <span data-ttu-id="c6618-155">Šajā scenārijā ir jādomā par tālāk norādīto kļūdu ietekmi.</span><span class="sxs-lookup"><span data-stu-id="c6618-155">In this scenario, you must think about the impact of the following errors:</span></span>

- <span data-ttu-id="c6618-156">Viltus pozitīvs, kad tests saka, ka pacientam ir slimība, bet patiesībā viņa tam nav.</span><span class="sxs-lookup"><span data-stu-id="c6618-156">False positives, where the test says that a patient has the disease, but she doesn't really have it</span></span>
- <span data-ttu-id="c6618-157">Viltus negatīvs, kad tests saka, ka pacientam nav slimības, bet patiesībā viņa tam ir.</span><span class="sxs-lookup"><span data-stu-id="c6618-157">False negatives, where the test says that a patient doesn't have the disease, but he really does have it</span></span>

<span data-ttu-id="c6618-158">Protams, abi kļūdu veidi ir nevēlami, bet kurš ir sliktāks?</span><span class="sxs-lookup"><span data-stu-id="c6618-158">Obviously, both types of error are undesirable, but which is worse?</span></span> <span data-ttu-id="c6618-159">Atkal, tas ir atkarīgs no apstākļiem.</span><span class="sxs-lookup"><span data-stu-id="c6618-159">Again, it depends.</span></span> <span data-ttu-id="c6618-160">Gadījumos, kad dzīvībai bīstamai slimībai nepieciešama ātra ārstēšana, prioritāte ir viltus negatīvu rezultātu samazināšanai (kam, cerams, seko papildu testi).</span><span class="sxs-lookup"><span data-stu-id="c6618-160">In the case of a life-threatening disease that requires fast treatment, minimization of false negatives (hopefully followed by additional tests) takes priority.</span></span> <span data-ttu-id="c6618-161">Citās, mazāk kritiskās situācijās modeļa veidotāji tā vietā varētu samazināt viltus pozitīvos testus.</span><span class="sxs-lookup"><span data-stu-id="c6618-161">In other, less critical situations, the model creators might minimize false positives instead.</span></span> <span data-ttu-id="c6618-162">Jebkurā gadījumā saprātīgs secinājums ir tāds, ka efektīvai modeļa kvalitātes noteikšanai ir jābūt pieejamai vairāk informācijai, nekā sniedz precizitātes metrika.</span><span class="sxs-lookup"><span data-stu-id="c6618-162">At any rate, a reasonable conclusion is that to effectively determine a model's quality, you must have more information than an accuracy metric provides.</span></span>

### <a name="recommendations"></a><span data-ttu-id="c6618-163">Ieteikumi</span><span class="sxs-lookup"><span data-stu-id="c6618-163">Recommendations</span></span>

<span data-ttu-id="c6618-164">Precizitāte ir svarīgs rīks saziņai ar domēna ekspertiem, kuri nepārzina statistiku.</span><span class="sxs-lookup"><span data-stu-id="c6618-164">Accuracy is an important tool for communicating with domain experts who aren't familiar with statistics.</span></span> <span data-ttu-id="c6618-165">Tomēr, lai informācija būtu noderīga, ir svarīgi kopā ar precizitātes vērtību nodrošināt papildu kontekstu.</span><span class="sxs-lookup"><span data-stu-id="c6618-165">However, to make the information useful, it's critical that additional context be provided together with the accuracy value.</span></span>

<span data-ttu-id="c6618-166">Maksājumu prognozēšanas scenārijam varat iestatīt mērķi AM modelim, kas ietver dažādas maksāšanas uzvedības faktorus.</span><span class="sxs-lookup"><span data-stu-id="c6618-166">For the payment prediction scenario, you can set a target for the ML model that includes factors in different payment behaviors.</span></span> <span data-ttu-id="c6618-167">Mērķis ir tāds, ka modelim ir jāuzlabojas ar naivo minējumu, samazinot nepareizo atbilžu skaitu par vismaz 50 procentiem.</span><span class="sxs-lookup"><span data-stu-id="c6618-167">The target is that the model should improve upon a naïve guess by reducing the number of incorrect answers by at least 50 percent.</span></span> <span data-ttu-id="c6618-168">Citiem vārdiem sakot, jūs vēlaties mērķa precizitāti, kas sadala atšķirības starp naivā minējuma precizitāti un 100 procentiem.</span><span class="sxs-lookup"><span data-stu-id="c6618-168">In other words, you want a target accuracy that splits the different between the accuracy of a naïve guess and 100 percent.</span></span>

<span data-ttu-id="c6618-169">Tālāk redzamajā tabulā ir apkopoti šīs tēmas neskaidrību matricu principi.</span><span class="sxs-lookup"><span data-stu-id="c6618-169">The following table summarizes this principle for the confusion matrices in this topic.</span></span>

| <span data-ttu-id="c6618-170">Modelis</span><span class="sxs-lookup"><span data-stu-id="c6618-170">Model</span></span>   | <span data-ttu-id="c6618-171">Naivais minējums</span><span class="sxs-lookup"><span data-stu-id="c6618-171">Naïve guess</span></span> | <span data-ttu-id="c6618-172">Adresāts</span><span class="sxs-lookup"><span data-stu-id="c6618-172">Target</span></span> | <span data-ttu-id="c6618-173">Modeļa precizitāte</span><span class="sxs-lookup"><span data-stu-id="c6618-173">Model accuracy</span></span> | <span data-ttu-id="c6618-174">Vai mērķis ir sasniegts?</span><span class="sxs-lookup"><span data-stu-id="c6618-174">Is the goal met?</span></span>                                          |
|---------|-------------|--------|----------------|-----------------------------------------------------------|
| <span data-ttu-id="c6618-175">1. modelis</span><span class="sxs-lookup"><span data-stu-id="c6618-175">Model 1</span></span> | <span data-ttu-id="c6618-176">0.50</span><span class="sxs-lookup"><span data-stu-id="c6618-176">0.50</span></span>        | <span data-ttu-id="c6618-177">0.75</span><span class="sxs-lookup"><span data-stu-id="c6618-177">0.75</span></span>   | <span data-ttu-id="c6618-178">0.73</span><span class="sxs-lookup"><span data-stu-id="c6618-178">0.73</span></span>           | <span data-ttu-id="c6618-179">Gandrīz.</span><span class="sxs-lookup"><span data-stu-id="c6618-179">Almost.</span></span> <span data-ttu-id="c6618-180">Šis modelis ievērojami uzlabojas ar naivo minējumu.</span><span class="sxs-lookup"><span data-stu-id="c6618-180">This model significantly improves upon the guess.</span></span> |
| <span data-ttu-id="c6618-181">2. modelis</span><span class="sxs-lookup"><span data-stu-id="c6618-181">Model 2</span></span> | <span data-ttu-id="c6618-182">0.80</span><span class="sxs-lookup"><span data-stu-id="c6618-182">0.80</span></span>        | <span data-ttu-id="c6618-183">0.90</span><span class="sxs-lookup"><span data-stu-id="c6618-183">0.90</span></span>   | <span data-ttu-id="c6618-184">0.83</span><span class="sxs-lookup"><span data-stu-id="c6618-184">0.83</span></span>           | <span data-ttu-id="c6618-185">Nr.p.k.</span><span class="sxs-lookup"><span data-stu-id="c6618-185">No.</span></span> <span data-ttu-id="c6618-186">Ir nepieciešams uzlabojums.</span><span class="sxs-lookup"><span data-stu-id="c6618-186">Improvement is required.</span></span>                              |

## <a name="classification-f1-accuracy"></a><span data-ttu-id="c6618-187">F1 klasifikācijas precizitāte</span><span class="sxs-lookup"><span data-stu-id="c6618-187">Classification F1 accuracy</span></span>

<span data-ttu-id="c6618-188">Šīs tēmas pēdējais apsvērums ir daudz plašāks klasifikācijas AM veiktspējas mērs, kas pazīstams kā F1 precizitāte.</span><span class="sxs-lookup"><span data-stu-id="c6618-188">The final consideration in this topic is a more advanced measure of classification ML performance that is known as F1 accuracy.</span></span>

<span data-ttu-id="c6618-189">Pirms F1 precizitātes definēšanas, ir jāiepazīstas ar divām papildu metrikām: precizitāti un atsaukšanu.</span><span class="sxs-lookup"><span data-stu-id="c6618-189">Before F1 accuracy can be defined, two additional metrics must be introduced: precision and recall.</span></span> <span data-ttu-id="c6618-190">Precizitāte norāda, cik daudz no kopējā prognožu skaita, kas norādītas kā pozitīvas, ir piešķirtas pareizi.</span><span class="sxs-lookup"><span data-stu-id="c6618-190">Precision indicates how many of the total number of predictions that are specified as positive are correctly assigned.</span></span> <span data-ttu-id="c6618-191">Šī metrika ir pazīstams arī kā pozitīvā prognozētā vērtība.</span><span class="sxs-lookup"><span data-stu-id="c6618-191">This metric is also known as the positive predictive value.</span></span> <span data-ttu-id="c6618-192">Atsaukšana ir faktisko pozitīvo gadījumu kopskaits, kas tika prognozēti pareizi.</span><span class="sxs-lookup"><span data-stu-id="c6618-192">Recall is the total number of the actual positive cases that were predicted correctly.</span></span> <span data-ttu-id="c6618-193">Šī metrika ir pazīstama arī kā jutīgums.</span><span class="sxs-lookup"><span data-stu-id="c6618-193">This metric is also known as sensitivity.</span></span>

<span data-ttu-id="c6618-194">[![Patiesie rezultāti pret nepatiesiem rezultātiem](./media/tn-fn.png)](./media/tn-fn.png)</span><span class="sxs-lookup"><span data-stu-id="c6618-194">[![True results vs. false results](./media/tn-fn.png)](./media/tn-fn.png)</span></span>

<span data-ttu-id="c6618-195">Neskaidrību matricā iepriekšējā attēlā šīs metrikas ir aprēķinātas tālāk norādītajā veidā.</span><span class="sxs-lookup"><span data-stu-id="c6618-195">In the confusion matrix in the preceding illustration, these metrics are calculated in the following way:</span></span>

- <span data-ttu-id="c6618-196">Precizitāte = KP ÷ (KP + VP)</span><span class="sxs-lookup"><span data-stu-id="c6618-196">Precision = TP ÷ (TP + FP)</span></span>
- <span data-ttu-id="c6618-197">Atsaukšana = KP ÷ (KP + VN)</span><span class="sxs-lookup"><span data-stu-id="c6618-197">Recall = TP ÷ (TP + FN)</span></span>

<span data-ttu-id="c6618-198">F1 mērs apvieno precizitāti un atsaukšanu.</span><span class="sxs-lookup"><span data-stu-id="c6618-198">The F1 measure combines precision and recall.</span></span> <span data-ttu-id="c6618-199">Rezultāts ir divu vērtību harmoniskais vidējais.</span><span class="sxs-lookup"><span data-stu-id="c6618-199">The result is the harmonic mean of the two values.</span></span> <span data-ttu-id="c6618-200">Tas tiek aprēķināts tālāk norādītajā veidā.</span><span class="sxs-lookup"><span data-stu-id="c6618-200">It's calculated in the following way:</span></span>

- <span data-ttu-id="c6618-201">F1 = 2 × (precizitāte × atsaukšana) ÷ (precizitāte + atsaukšana)</span><span class="sxs-lookup"><span data-stu-id="c6618-201">F1 = 2 × (Precision × Recall) ÷ (Precision + Recall)</span></span>

<span data-ttu-id="c6618-202">Apskatīsim konkrētu piemēru.</span><span class="sxs-lookup"><span data-stu-id="c6618-202">Let's look at a concrete example.</span></span> <span data-ttu-id="c6618-203">Iepriekš šajā tēmā bija piemērs ar modeli, kas prognozēja, vai dzīvnieks ir suns vai kaķis.</span><span class="sxs-lookup"><span data-stu-id="c6618-203">Earlier in this topic, there was an example of a model that predicted whether an animal was a dog or a cat.</span></span> <span data-ttu-id="c6618-204">Ilustrācija ir atkārtota šeit.</span><span class="sxs-lookup"><span data-stu-id="c6618-204">The illustration is repeated here.</span></span>

<span data-ttu-id="c6618-205">[![Sugas prognozēšanas piemērs (atkārtots)](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span><span class="sxs-lookup"><span data-stu-id="c6618-205">[![Species prediction example (repeated)](./media/species-prediction-matrix.png)](./media/species-prediction-matrix.png)</span></span>

<span data-ttu-id="c6618-206">Šeit ir rezultāti, ja "suns" tiek izmantots kā pozitīva atbilde.</span><span class="sxs-lookup"><span data-stu-id="c6618-206">Here are the results if "Dog" is used as the positive answer.</span></span>

- <span data-ttu-id="c6618-207">Precizitāte = 24 ÷ (24 + 2) = 0,9231</span><span class="sxs-lookup"><span data-stu-id="c6618-207">Precision = 24 ÷ (24 + 2) = 0.9231</span></span>
- <span data-ttu-id="c6618-208">Atsaukšana = 24 ÷ (24 + 6) = 0,8</span><span class="sxs-lookup"><span data-stu-id="c6618-208">Recall = 24 ÷ (24 + 6) = 0.8</span></span>
- <span data-ttu-id="c6618-209">F1 = 2 × (0,9231 × 0,8) ÷ (0,9231 + 0,8) = 0,8572</span><span class="sxs-lookup"><span data-stu-id="c6618-209">F1 = 2 × (0.9231 × 0.8) ÷ (0.9231 + 0.8) = 0.8572</span></span>

<span data-ttu-id="c6618-210">Kā redzat, F1 vērtība ir starp precizitātes un atsaukšanas vērtībām.</span><span class="sxs-lookup"><span data-stu-id="c6618-210">As you can see, the F1 value is between the values for precision and recall.</span></span>

<span data-ttu-id="c6618-211">Lai gan F1 precizitāte nav tik viegli saprotama, tā pievieno nianses pamata precizitātes skaitlim.</span><span class="sxs-lookup"><span data-stu-id="c6618-211">Although F1 accuracy isn't as easy to understand, it adds nuance to the basic accuracy number.</span></span> <span data-ttu-id="c6618-212">Tas var palīdzēt arī ar nesabalansētām datu kopām, kā tiks parādīts tālākajā diskusijā.</span><span class="sxs-lookup"><span data-stu-id="c6618-212">It can also help with unbalanced datasets, as the following discussion will show.</span></span>

<span data-ttu-id="c6618-213">Šīs tēmas sadaļa [Modeļa precizitāte](#model-accuracy) salīdzināja divas tālāk norādītās neskaidrību matricas.</span><span class="sxs-lookup"><span data-stu-id="c6618-213">The [Model accuracy](#model-accuracy) section of this topic compared the following two confusion matrices.</span></span> <span data-ttu-id="c6618-214">Lai gan pirmajam modelim bija mazāka precizitāte, tas tika uzskatīts par noderīgāku, jo parādīja lielāku uzlabojumu, nekā noklusējuma minējums par savlaicīgo maksājumu.</span><span class="sxs-lookup"><span data-stu-id="c6618-214">Even though the first model had lower accuracy, it was deemed a more useful model because it showed more improvement than the default guess of an on-time payment.</span></span>

![Maksājuma prognoze pret faktisko piemēru](media/payment-prediction-matrix.png)

![Maksājuma prognozes piemērs ar lielāku paraugu (atkārtots)](media/payment-prediction-matrix-2.png)

<span data-ttu-id="c6618-217">Apskatīsim, kā šie divi modeļi ir salīdzināmi, ja tiek izmantots F1 rezultāts.</span><span class="sxs-lookup"><span data-stu-id="c6618-217">Let's see how these two models compare when the F1 score is used.</span></span> <span data-ttu-id="c6618-218">F1 uzskaita precizitātes un atsaukšanas faktorus katram stāvoklim, un F1 makro aprēķins izrēķina vidējo aritmētisko F1 rezultātam starp stāvokļiem, lai noteiktu kopējo F1 rezultātu.</span><span class="sxs-lookup"><span data-stu-id="c6618-218">The F1 score factors in precision and recall for each state, and the F1 macro calculation then averages the F1 score across the states to determine an overall F1 score.</span></span> <span data-ttu-id="c6618-219">Pastāv citi F1 varianti, bet vissvarīgāk ir apsvērt makro versiju, ņemot vērā vienādo apsvērumu, kas tiek dots visiem trim stāvokļiem.</span><span class="sxs-lookup"><span data-stu-id="c6618-219">There are other F1 variants, but it's of greater interest to consider the macro version, given the equal consideration that is given to all three states.</span></span>

<span data-ttu-id="c6618-220">Lai vienkāršotu aprēķinus, parauga datu masīvi tika veidoti, lai atbilstu faktiskajām un prognozētajām vērtībām.</span><span class="sxs-lookup"><span data-stu-id="c6618-220">To simplify the calculations, sample arrays were built to match the actual and predicted values.</span></span> <span data-ttu-id="c6618-221">Šos datu masīvus izmanto sklearn metrikas bibliotēka Python, lai aprēķinātu vērtības.</span><span class="sxs-lookup"><span data-stu-id="c6618-221">These arrays used sklearn's metrics library in Python to calculate the values.</span></span> <span data-ttu-id="c6618-222">Rezultāts ir šāds.</span><span class="sxs-lookup"><span data-stu-id="c6618-222">Here is the result.</span></span>

| <span data-ttu-id="c6618-223">Modelis</span><span class="sxs-lookup"><span data-stu-id="c6618-223">Model</span></span>   | <span data-ttu-id="c6618-224">Naivais minējums</span><span class="sxs-lookup"><span data-stu-id="c6618-224">Naive guess</span></span> | <span data-ttu-id="c6618-225">Precizitāte</span><span class="sxs-lookup"><span data-stu-id="c6618-225">Accuracy</span></span> | <span data-ttu-id="c6618-226">F1 makro</span><span class="sxs-lookup"><span data-stu-id="c6618-226">F1 macro</span></span> |
|---------|-------------|----------|----------|
| <span data-ttu-id="c6618-227">1. modelis</span><span class="sxs-lookup"><span data-stu-id="c6618-227">Model 1</span></span> | <span data-ttu-id="c6618-228">0.5</span><span class="sxs-lookup"><span data-stu-id="c6618-228">0.5</span></span>         | <span data-ttu-id="c6618-229">0.73</span><span class="sxs-lookup"><span data-stu-id="c6618-229">0.73</span></span>     | <span data-ttu-id="c6618-230">0.67</span><span class="sxs-lookup"><span data-stu-id="c6618-230">0.67</span></span>     |
| <span data-ttu-id="c6618-231">2. modelis</span><span class="sxs-lookup"><span data-stu-id="c6618-231">Model 2</span></span> | <span data-ttu-id="c6618-232">0.80</span><span class="sxs-lookup"><span data-stu-id="c6618-232">0.80</span></span>        | <span data-ttu-id="c6618-233">0.83</span><span class="sxs-lookup"><span data-stu-id="c6618-233">0.83</span></span>     | <span data-ttu-id="c6618-234">0.66</span><span class="sxs-lookup"><span data-stu-id="c6618-234">0.66</span></span>     |

<span data-ttu-id="c6618-235">Lai iegūtu vairāk informācijas par to, kā šis aprēķins darbojas, šeit ir sklearn.metrics klasifikācijas pārskats 1. modelim.</span><span class="sxs-lookup"><span data-stu-id="c6618-235">For more detail about how this calculation works, here is the sklearn.metrics classification report for model 1.</span></span> <span data-ttu-id="c6618-236">Trīs stāvokļi: "savlaicīgi", "novēloti" un "ļoti novēloti" ir attēloti ar rindām, kas attiecīgi ir apzīmētas ar 1, 2 un 3.</span><span class="sxs-lookup"><span data-stu-id="c6618-236">The three states, "On time," "Late," and "Very late," are represented by the rows that are labeled 1, 2, and 3, respectively.</span></span> <span data-ttu-id="c6618-237">Vidējā makro vērtība ir tikai vidējā vērtība kolonnā "f1-rezultāts".</span><span class="sxs-lookup"><span data-stu-id="c6618-237">The macro average is just the average of the "f1-score" column.</span></span>

|           | <span data-ttu-id="c6618-238">precizitāte</span><span class="sxs-lookup"><span data-stu-id="c6618-238">precision</span></span> | <span data-ttu-id="c6618-239">atsaukšana</span><span class="sxs-lookup"><span data-stu-id="c6618-239">recall</span></span>   | <span data-ttu-id="c6618-240">f1-rezultāts</span><span class="sxs-lookup"><span data-stu-id="c6618-240">f1-score</span></span> |
|-----------|-----------|----------|----------|
| <span data-ttu-id="c6618-241">**1**</span><span class="sxs-lookup"><span data-stu-id="c6618-241">**1**</span></span>     | <span data-ttu-id="c6618-242">0.83</span><span class="sxs-lookup"><span data-stu-id="c6618-242">0.83</span></span>      | <span data-ttu-id="c6618-243">0.80</span><span class="sxs-lookup"><span data-stu-id="c6618-243">0.80</span></span>     | <span data-ttu-id="c6618-244">0.82</span><span class="sxs-lookup"><span data-stu-id="c6618-244">0.82</span></span>     |
| <span data-ttu-id="c6618-245">**2**</span><span class="sxs-lookup"><span data-stu-id="c6618-245">**2**</span></span>     | <span data-ttu-id="c6618-246">0.68</span><span class="sxs-lookup"><span data-stu-id="c6618-246">0.68</span></span>      | <span data-ttu-id="c6618-247">0.71</span><span class="sxs-lookup"><span data-stu-id="c6618-247">0.71</span></span>     | <span data-ttu-id="c6618-248">0.69</span><span class="sxs-lookup"><span data-stu-id="c6618-248">0.69</span></span>     |
| <span data-ttu-id="c6618-249">**3**</span><span class="sxs-lookup"><span data-stu-id="c6618-249">**3**</span></span>     | <span data-ttu-id="c6618-250">0.50</span><span class="sxs-lookup"><span data-stu-id="c6618-250">0.50</span></span>      | <span data-ttu-id="c6618-251">0.50</span><span class="sxs-lookup"><span data-stu-id="c6618-251">0.50</span></span>     | <span data-ttu-id="c6618-252">0.50</span><span class="sxs-lookup"><span data-stu-id="c6618-252">0.50</span></span>     |

<span data-ttu-id="c6618-253">Kā liecina šie rezultāti, abiem modeļiem ir gandrīz identiski F1 makro precizitātes rādītāji.</span><span class="sxs-lookup"><span data-stu-id="c6618-253">As these results show, the two models have nearly identical F1 macro accuracy scores.</span></span> <span data-ttu-id="c6618-254">Šajā un daudzos citos gadījumos F1 precizitāte sniedz labāku modeļa iespēju indikatoru.</span><span class="sxs-lookup"><span data-stu-id="c6618-254">In this and many other cases, F1 accuracy provides a better indicator of a model's capability.</span></span> <span data-ttu-id="c6618-255">Runājot par precizitāti, rezultātu interpretācijai nepieciešams izprast, ko ir vissvarīgāk ņemt vērā modelī.</span><span class="sxs-lookup"><span data-stu-id="c6618-255">As for accuracy, interpretation of the results requires that you understand what is most important to consider in the model.</span></span>

#### <a name="privacy-notice"></a><span data-ttu-id="c6618-256">Paziņojums par konfidencialitāti</span><span class="sxs-lookup"><span data-stu-id="c6618-256">Privacy notice</span></span>
<span data-ttu-id="c6618-257">Priekšskatījumiem (1) var tikt izmantots mazāk konfidencialitātes un drošības pasākumu nekā pakalpojumam Dynamics 365 Finance and Operations, (2) tie nav ietverti pakalpojuma līmeņa līgumā par šo pakalpojumu, (3) tos nedrīkst izmantot personas datu vai citu tādu datu apstrādei, uz kuriem attiecas juridiskās vai normatīvās prasības, un (4) tiem tiek nodrošināts ierobežots atbalsts.</span><span class="sxs-lookup"><span data-stu-id="c6618-257">Previews (1) might use less privacy and fewer security measures than the Dynamics 365 Finance and Operations service, (2) aren't included in the service level agreement (SLA) for this service, (3) should not be used to process personal data or other data that is subject to legal or regulatory compliance requirements, and (4) have limited support.</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]