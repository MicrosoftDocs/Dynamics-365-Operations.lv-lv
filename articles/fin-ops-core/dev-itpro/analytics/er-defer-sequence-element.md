---
title: Secības elementu izpildes atlikšana ER formātos
description: Šajā tēmā ir izskaidrots, kā atlikt secības elementa izpildi elektroniskā pārskata (ER) formātā.
author: NickSelin
manager: kfend
ms.date: 03/17/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: EROperationDesigner
audience: Application User, IT Pro
ms.reviewer: kfend
ms.custom: 58771
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-07-01
ms.dyn365.ops.version: AX 10.0.5
ms.openlocfilehash: 9aa019e20b218fdaad4659fa65d9df629069204b
ms.sourcegitcommit: 659375c4cc7f5524cbf91cf6160f6a410960ac16
ms.translationtype: HT
ms.contentlocale: lv-LV
ms.lasthandoff: 12/05/2020
ms.locfileid: "4680738"
---
# <a name="defer-the-execution-of-sequence-elements-in-er-formats"></a><span data-ttu-id="e8f77-103">Secības elementu izpildes atlikšana ER formātos</span><span class="sxs-lookup"><span data-stu-id="e8f77-103">Defer the execution of sequence elements in ER formats</span></span>

[!include [banner](../includes/banner.md)]

## <a name="overview"></a><span data-ttu-id="e8f77-104">Pārskats</span><span class="sxs-lookup"><span data-stu-id="e8f77-104">Overview</span></span>

<span data-ttu-id="e8f77-105">Varat izmantot [Elektroniskās ziņošanas (ER)](general-electronic-reporting.md) struktūras operāciju veidotāju, lai [konfigurētu](tasks/er-format-configuration-2016-11.md) tādu ER risinājuma [formāta komponentu](general-electronic-reporting.md#FormatComponentOutbound), kas tiek izmantots izejošo dokumentu ģenerēšanai teksta formātā.</span><span class="sxs-lookup"><span data-stu-id="e8f77-105">You can use the Operations designer of the [Electronic reporting (ER)](general-electronic-reporting.md) framework to [configure](tasks/er-format-configuration-2016-11.md) the [format component](general-electronic-reporting.md#FormatComponentOutbound) of an ER solution that is used to generate outbound documents in a text format.</span></span> <span data-ttu-id="e8f77-106">Konfigurētā formāta komponenta hierarhisko struktūru veido dažādu tipu formātu elementi.</span><span class="sxs-lookup"><span data-stu-id="e8f77-106">The hierarchical structure of the configured format component consists of format elements of various types.</span></span> <span data-ttu-id="e8f77-107">Šos formāta elementus izmanto, lai izpildlaikā aizpildītu izveidotos dokumentus ar nepieciešamo informāciju.</span><span class="sxs-lookup"><span data-stu-id="e8f77-107">These format elements are used to fill generated documents with the required information at runtime.</span></span> <span data-ttu-id="e8f77-108">Pēc noklusējuma, palaižot ER formātu, formāta elementi tiek palaisti tādā pašā secībā, kādā tie atrodas formāta hierarhijā: pa vienam, no augšas uz leju.</span><span class="sxs-lookup"><span data-stu-id="e8f77-108">By default, when you run an ER format, the format elements are run in the same order as they are presented in the format hierarchy: one by one, from top to bottom.</span></span> <span data-ttu-id="e8f77-109">Tomēr noformēšanas laikā varat mainīt izpildes kārtību jebkuriem konfigurētā formāta komponenta secības elementiem.</span><span class="sxs-lookup"><span data-stu-id="e8f77-109">However, at design time, you can change the execution order for any sequence elements of the configured format component.</span></span>

<span data-ttu-id="e8f77-110">Ieslēdzot konfigurētajā formātā secības formāta elementa <a name="DeferredSequenceExecution"></a>**Atliktās izpildes** opciju, varat atlikt (uz vēlāku laiku) šī elementa izpildi.</span><span class="sxs-lookup"><span data-stu-id="e8f77-110">By turning on the <a name="DeferredSequenceExecution"></a>**Deferred execution** option for a sequence format element in the configured format, you can defer (postpone) the execution of that element.</span></span> <span data-ttu-id="e8f77-111">Šādā gadījumā elements netiek palaists, kamēr nav palaisti visi citi tā pamatelementa elementi.</span><span class="sxs-lookup"><span data-stu-id="e8f77-111">In this case, the element isn't run until all other elements of its parent have been run.</span></span>

<span data-ttu-id="e8f77-112">Lai iegūtu papildinformāciju par šo līdzekli, aizpildiet šajā tēmā sniegto piemēru.</span><span class="sxs-lookup"><span data-stu-id="e8f77-112">To learn more about this feature, complete the example in this topic.</span></span>

## <a name="limitations"></a><span data-ttu-id="e8f77-113">Ierobežojumi</span><span class="sxs-lookup"><span data-stu-id="e8f77-113">Limitations</span></span>

<span data-ttu-id="e8f77-114">Opcija **Atliktā izpilde** tiek atbalstīta tikai tiem secības elementiem, kas ir konfigurēti ER formātam, kas tiek izmantots **izejošo** dokumentu ģenerēšanai teksta formātā.</span><span class="sxs-lookup"><span data-stu-id="e8f77-114">The **Deferred execution** option is supported only for sequence elements that are configured for an ER format that is used to generate **outbound** documents in text format.</span></span>

<span data-ttu-id="e8f77-115">Opcija **Atliktā izpilde** nav attiecināma uz secībām, kas ir konfigurētas kā apcirstas secības, kur maksimālais garums ir ierobežots.</span><span class="sxs-lookup"><span data-stu-id="e8f77-115">The **Deferred execution** option isn't applicable to sequences that have been configured as trimmed sequences where the maximum length is limited.</span></span>

## <a name="example-defer-the-execution-of-a-sequence-element-in-an-er-format"></a><a name="Example"></a><span data-ttu-id="e8f77-116">Piemērs: Secības elementa izpildes atlikšana ER formātā</span><span class="sxs-lookup"><span data-stu-id="e8f77-116">Example: Defer the execution of a sequence element in an ER format</span></span>

<span data-ttu-id="e8f77-117">Tālāk aprakstītajās darbībās izskaidrots, kā lietotājs sistēmas administratora vai elektronisko pārskatu konsultanta [lomā](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/sysadmin/tasks/assign-users-security-roles) var konfigurēt ER formātu, kas satur tādu secības elementu, kur izpildes secība formāta hierarhijā atšķiras no pasūtījuma.</span><span class="sxs-lookup"><span data-stu-id="e8f77-117">The following steps explain how a user in the System administrator or Electronic reporting functional consultant [role](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/sysadmin/tasks/assign-users-security-roles) can configure an ER format that contains a sequence element where order of execution differs from the order in the format hierarchy.</span></span>

<span data-ttu-id="e8f77-118">Šīs darbības var veikt uzņēmumā **USMF** programmā Microsoft Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="e8f77-118">These steps can be performed in the **USMF** company in Microsoft Dynamics 365 Finance.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="e8f77-119">Priekšnosacījumi</span><span class="sxs-lookup"><span data-stu-id="e8f77-119">Prerequisites</span></span>

<span data-ttu-id="e8f77-120">Lai izpildītu šo piemēru, jums programmas Finance uzņēmumā **USMF** jābūt piekļuvei vienai no tālak norādītajām lomām:</span><span class="sxs-lookup"><span data-stu-id="e8f77-120">To complete this example, you must have access to the **USMF** company in Finance for one of the following roles:</span></span>

- <span data-ttu-id="e8f77-121">Elektronisko pārskatu veidošanas funkcionālais konsultants</span><span class="sxs-lookup"><span data-stu-id="e8f77-121">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="e8f77-122">Sistēmas administrators</span><span class="sxs-lookup"><span data-stu-id="e8f77-122">System administrator</span></span>

<span data-ttu-id="e8f77-123">Ja vēl neesat izpildījis piemēru tēmā [Secības elementu izpildes atlikšana ER formātos](er-defer-xml-element.md#Example), lejupielādējiet tālāk norādītās parauga ER risinājumu [konfigurācijas](general-electronic-reporting.md#Configuration).</span><span class="sxs-lookup"><span data-stu-id="e8f77-123">If you haven't yet completed the example in the [Defer the execution of XML elements in ER formats](er-defer-xml-element.md#Example) topic, download the following [configurations](general-electronic-reporting.md#Configuration) of the sample ER solution.</span></span>

| <span data-ttu-id="e8f77-124">Satura apraksts</span><span class="sxs-lookup"><span data-stu-id="e8f77-124">Content description</span></span>            | <span data-ttu-id="e8f77-125">Faila nosaukums</span><span class="sxs-lookup"><span data-stu-id="e8f77-125">File name</span></span> |
|--------------------------------|-----------|
| <span data-ttu-id="e8f77-126">ER datu modeļa konfigurācija</span><span class="sxs-lookup"><span data-stu-id="e8f77-126">ER data model configuration</span></span>    | [<span data-ttu-id="e8f77-127">Modelis atlikto elementu apgūšanai.versija.1.xml</span><span class="sxs-lookup"><span data-stu-id="e8f77-127">Model to learn deferred elements.version.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |
| <span data-ttu-id="e8f77-128">ER modeļa kartējuma konfigurācija</span><span class="sxs-lookup"><span data-stu-id="e8f77-128">ER model mapping configuration</span></span> | [<span data-ttu-id="e8f77-129">Kartēšana atlikto elementu apgūšanai.versija.1.xml</span><span class="sxs-lookup"><span data-stu-id="e8f77-129">Mapping to learn deferred elements.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |

<span data-ttu-id="e8f77-130">Pirms sākšanas ir jāielādē un jāsaglabā arī tālāk norādītā parauga ER risinājuma konfigurācija.</span><span class="sxs-lookup"><span data-stu-id="e8f77-130">Before you begin, you must also download and save the following configuration of the sample ER solution.</span></span>

| <span data-ttu-id="e8f77-131">Satura apraksts</span><span class="sxs-lookup"><span data-stu-id="e8f77-131">Content description</span></span>     |<span data-ttu-id="e8f77-132">Faila nosaukums</span><span class="sxs-lookup"><span data-stu-id="e8f77-132">File name</span></span> |
|-------------------------|----------|
| <span data-ttu-id="e8f77-133">ER formāta konfigurācija</span><span class="sxs-lookup"><span data-stu-id="e8f77-133">ER format configuration</span></span> | [<span data-ttu-id="e8f77-134">Formāts atlikto secību apgūšanai.versija.1.xml</span><span class="sxs-lookup"><span data-stu-id="e8f77-134">Format to learn deferred sequences.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |

### <a name="import-the-sample-er-configurations"></a><span data-ttu-id="e8f77-135">Parauga ER konfigurācijas failu importēšana</span><span class="sxs-lookup"><span data-stu-id="e8f77-135">Import the sample ER configurations</span></span>

1. <span data-ttu-id="e8f77-136">Dodieties uz **Organizācijas administrēšana** \> **Darbvietas** \> **Elektronisko pārskatu veidošana**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-136">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="e8f77-137">Atlasiet **Pārskatu konfigurācijas**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-137">Select **Reporting configurations**.</span></span>
3. <span data-ttu-id="e8f77-138">Ja lapā **Konfigurācijas** konfigurāciju kokā nav pieejama konfigurācija **Modelis atlikto elementu apgūšanai**, importējiet ER datu modeļa konfigurāciju:</span><span class="sxs-lookup"><span data-stu-id="e8f77-138">On the **Configurations** page, if the **Model to learn deferred elements** configuration isn't available in the configuration tree, import the ER data model configuration:</span></span>

    1. <span data-ttu-id="e8f77-139">Atlasiet **Apmaiņa**, un pēc tam atlasiet **Ielādēt no XML faila**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-139">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="e8f77-140">Atlasiet **Pārlūkot**, atrodiet un atlasiet failu **Modelis atlikto elementu apgūšanai.1.xml** un pēc tam atlasiet **Labi**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-140">Select **Browse**, find and select the **Model to learn deferred elements.1.xml** file, and then select **OK**.</span></span>

4. <span data-ttu-id="e8f77-141">Ja konfigurāciju kokā nav pieejama konfigurācija **Kartēšana atlikto elementu apgūšanai** importējiet ER modeļa kartēšanas konfigurāciju:</span><span class="sxs-lookup"><span data-stu-id="e8f77-141">If the **Mapping to learn deferred elements** configuration isn't available in the configuration tree, import the ER model mapping configuration:</span></span>

    1. <span data-ttu-id="e8f77-142">Atlasiet **Apmaiņa**, un pēc tam atlasiet **Ielādēt no XML faila**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-142">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="e8f77-143">Atlasiet **Pārlūkot**, atrodiet un atlasiet failu **Kartēšana atlikto elementu apgūšanai.1.1.xml** un pēc tam atlasiet **Labi**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-143">Select **Browse**, find and select the **Mapping to learn deferred elements.1.1.xml** file, and then select **OK**.</span></span>

5. <span data-ttu-id="e8f77-144">ER formāta konfigurācijas importēšana</span><span class="sxs-lookup"><span data-stu-id="e8f77-144">Import the ER format configuration:</span></span>

    1. <span data-ttu-id="e8f77-145">Atlasiet **Apmaiņa**, un pēc tam atlasiet **Ielādēt no XML faila**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-145">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="e8f77-146">Atlasiet **Pārlūkot**, atrodiet un atlasiet failu **Formāts atlikto secību apgūšanai.1.1.xml** un pēc tam atlasiet **Labi**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-146">Select **Browse**, find and select the **Format to learn deferred sequences.1.1.xml** file, and then select **OK**.</span></span>

6. <span data-ttu-id="e8f77-147">Konfigurāciju kokā izvērsiet **Modelis atlikto elementu apgūšanai**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-147">In the configuration tree, expand **Model to learn deferred elements**.</span></span>
7. <span data-ttu-id="e8f77-148">Konfigurāciju kokā pārskatiet importējamo ER konfigurāciju sarakstu.</span><span class="sxs-lookup"><span data-stu-id="e8f77-148">Review the list of imported ER configurations in the configuration tree.</span></span>

    ![Konfigurāciju lapā importētās ER konfigurācijas](./media/ER-DeferredSequence-Configurations.png)

### <a name="activate-a-configurations-provider"></a><span data-ttu-id="e8f77-150">Konfigurācijas nodrošinātāja aktivizēšana</span><span class="sxs-lookup"><span data-stu-id="e8f77-150">Activate a configurations provider</span></span>

1. <span data-ttu-id="e8f77-151">Dodieties uz **Organizācijas administrēšana** \> **Darbvietas** \> **Elektronisko pārskatu veidošana**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-151">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="e8f77-152">Lapas **Lokalizācijas konfigurācijas** sadaļā **Konfigurācijas nodrošinātāji** pārliecinieties, vai ir uzskaitīts [konfigurācijas nodrošinātājs](general-electronic-reporting.md#Provider) parauga uzņēmumam Litware, Inc. (`http://www.litware.com`) un vai tas ir atzīmēts kā aktīvs.</span><span class="sxs-lookup"><span data-stu-id="e8f77-152">On the **Localization configurations** page, in the **Configuration providers** section, make sure that the [configuration provider](general-electronic-reporting.md#Provider) for the Litware, Inc. (`http://www.litware.com`) sample company is listed, and that it's marked as active.</span></span> <span data-ttu-id="e8f77-153">Ja šis konfigurācijas nodrošinātājs nav uzskaitīts vai tas nav atzīmēts kā aktīvs, izpildiet darbības, kas aprakstītas tēmā [Konfigurācijas nodrošinātāja izveide un atzīmēšana par aktīvu](./tasks/er-configuration-provider-mark-it-active-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="e8f77-153">If this configuration provider isn't listed, or if it isn't marked as active, follow the steps in the [Create a configuration provider and mark it as active](./tasks/er-configuration-provider-mark-it-active-2016-11.md) topic.</span></span>

    ![Litware, Inc. parauga uzņēmums lokalizācijas konfigurāciju lapā](./media/ER-DeferredSequence-ElectronicReportingWorkspace.png)

### <a name="review-the-imported-model-mapping"></a><span data-ttu-id="e8f77-155">Importētā modeļa kartējuma pārskatīšana</span><span class="sxs-lookup"><span data-stu-id="e8f77-155">Review the imported model mapping</span></span>

<span data-ttu-id="e8f77-156">Pārskatiet ER modeļa kartējuma komponenta iestatījumus, kas ir konfigurēti, lai piekļūtu nodokļu darbībām, un atklājiet pieprasītos datus, kuriem atļauta piekļuve.</span><span class="sxs-lookup"><span data-stu-id="e8f77-156">Review the settings of the ER model mapping component that is configured to access tax transactions and expose accessed data on request.</span></span>

1. <span data-ttu-id="e8f77-157">Dodieties uz **Organizācijas administrēšana** \> **Darbvietas** \> **Elektronisko pārskatu veidošana**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-157">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="e8f77-158">Atlasiet **Pārskatu konfigurācijas**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-158">Select **Reporting configurations**.</span></span>
3. <span data-ttu-id="e8f77-159">Lapā **Konfigurācijas**, konfigurāciju kokā izvērsiet vienumu **Modelis atlikto elementu apgūšanai**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-159">On the **Configurations** page, in the configuration tree, expand **Model to learn deferred elements**.</span></span>
4. <span data-ttu-id="e8f77-160">Atlasiet konfigurāciju **Kartēšana atlikto elementu apgūšanai**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-160">Select the **Mapping to learn deferred elements** configuration.</span></span>
5. <span data-ttu-id="e8f77-161">Atlasiet **Noformētājs**, lai atvērtu kartējumu sarakstu.</span><span class="sxs-lookup"><span data-stu-id="e8f77-161">Select **Designer** to open the list of mappings.</span></span>
6. <span data-ttu-id="e8f77-162">Atlasiet **Noformētājs**, lai pārskatītu kartēšanas detalizētu informāciju.</span><span class="sxs-lookup"><span data-stu-id="e8f77-162">Select **Designer** to review the mapping details.</span></span>
7. <span data-ttu-id="e8f77-163">Atlasiet **Rādīt detalizētu informāciju**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-163">Select **Show details**.</span></span>
8. <span data-ttu-id="e8f77-164">Pārskatiet datu avotus, kas konfigurēti, lai piekļūtu nodokļu darbībām:</span><span class="sxs-lookup"><span data-stu-id="e8f77-164">Review the data sources that are configured to access tax transactions:</span></span>

    - <span data-ttu-id="e8f77-165">**Transakciju** datu avots, kas pieder pie *Tabulas ierakstu* tipa, ir konfigurēts, lai piekļūtu **TaxTrans** pieteikumu tabulas ierakstiem.</span><span class="sxs-lookup"><span data-stu-id="e8f77-165">The **Transactions** data source of the *Table record* type is configured to access records of the **TaxTrans** application table.</span></span>
    - <span data-ttu-id="e8f77-166">**Dokumentu** datu avots, kas pieder pie *Aprēķinātā lauka* tipa, ir konfigurēts tā, lai atgrieztu vajadzīgos dokumentu kodus (**INV-10000349** un **INV-10000350**) kā ierakstu sarakstu.</span><span class="sxs-lookup"><span data-stu-id="e8f77-166">The **Vouchers** data source of the *Calculated field* type is configured to return the required voucher codes (**INV-10000349** and **INV-10000350**) as a list of records.</span></span>
    - <span data-ttu-id="e8f77-167">**Filtrētais** datu avots, kas pieder pie *Aprēķinātā lauka* tipa, ir konfigurēts tā, lai no **Darbību** datu avota atlasītu tikai nepieciešamo dokumentu nodokļu darbības.</span><span class="sxs-lookup"><span data-stu-id="e8f77-167">The **Filtered** data source of the *Calculated field* type is configured to select, from the **Transactions** data source, only tax transactions of the required vouchers.</span></span>
    - <span data-ttu-id="e8f77-168">**\$TaxAmount** lauks, kas pieder pie *Aprēķinatā lauka* tipa, ir pievienots **Filtrēto** datu avotam, lai atklātu nodokļu vērtību, kurai ir pretēja zīme.</span><span class="sxs-lookup"><span data-stu-id="e8f77-168">The **\$TaxAmount** field of the *Calculated field* type is added for the **Filtered** data source to expose the tax value that has the opposite sign.</span></span>
    - <span data-ttu-id="e8f77-169">**Grupēto** datu avots, kas pieder pie *Grupēt pēc* tipa, ir konfigurēts tā, lai grupētu **Filtrēto** datu avota filtrētās nodokļu darbības.</span><span class="sxs-lookup"><span data-stu-id="e8f77-169">The **Grouped** data source of the *Group By* type is configured to group filtered tax transactions of the **Filtered** data source.</span></span>
    - <span data-ttu-id="e8f77-170">**TotalSum** apkopojuma lauks no **Grupēto** datu avota ir konfigurēts tā, lai apkopotu **\$TaxAmount** lauku no **Filtrēto** datu avota visām šī datu avota filtrēto nodokļu darbībām.</span><span class="sxs-lookup"><span data-stu-id="e8f77-170">The **TotalSum** aggregation field of the **Grouped** data source is configured to summarize values of the **\$TaxAmount** field of the **Filtered** data source for all filtered tax transactions of that data source.</span></span>

        ![TotalSum apkopošanas lauks lapā Rediģēt "GroupBy" parametrus](./media/ER-DeferredSequence-GroupByParameters.png)

9. <span data-ttu-id="e8f77-172">Pārskats par to, kā konfigurētie datu avoti ir saistīti ar datu modeli un kā tie atklāj datus, kuriem atļauta piekļuve, lai padarītu tos pieejamus ER formātā</span><span class="sxs-lookup"><span data-stu-id="e8f77-172">Review how the configured data sources are bound to the data model, and how they expose accessed data to make it available in an ER format:</span></span>

    - <span data-ttu-id="e8f77-173">**Filtrētais** datu avots ir saistīts ar datu modeļa **Data.List** lauku.</span><span class="sxs-lookup"><span data-stu-id="e8f77-173">The **Filtered** data source is bound to the **Data.List** field of the data model.</span></span>
    - <span data-ttu-id="e8f77-174">Lauks **\$TaxAmount** no **Filtrēto** datu avota ir saistīts ar datu modeļa lauku **Data.List.Value**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-174">The **\$TaxAmount** field of the **Filtered** data source is bound to the **Data.List.Value** field of the data model.</span></span>
    - <span data-ttu-id="e8f77-175">Lauks **TotalSum** no **Grupēto** datu avota ir saistīts ar datu modeļa lauku **Data.Summary.Total**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-175">The **TotalSum** field of the **Grouped** data source is bound to the **Data.Summary.Total** field of the data model.</span></span>

    ![Modeļu kartēšanas veidotāja lapa](./media/ER-DeferredSequence-ModelMapping.png)

10. <span data-ttu-id="e8f77-177">Aizveriet lapas **Modeļu kartēšanas veidotājs** un **Modeļu kartējumi**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-177">Close the **Model mapping designer** and **Model mappings** pages.</span></span>

### <a name="review-the-imported-format"></a><span data-ttu-id="e8f77-178">Pārskatīt importēto formātu</span><span class="sxs-lookup"><span data-stu-id="e8f77-178">Review the imported format</span></span>

1. <span data-ttu-id="e8f77-179">Lapā **Konfigurācijas**, konfigurācijas kokā atlasiet konfigurāciju **Formāts atlikto secību apgūšanai**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-179">On the **Configurations** page, in the configuration tree, select the **Format to learn deferred sequences** configuration.</span></span>
2. <span data-ttu-id="e8f77-180">Atlasiet **Veidotājs**, lai pārskatītu formāta informāciju.</span><span class="sxs-lookup"><span data-stu-id="e8f77-180">Select **Designer** to review the format details.</span></span>
3. <span data-ttu-id="e8f77-181">Atlasiet **Rādīt detalizētu informāciju**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-181">Select **Show details**.</span></span>
4. <span data-ttu-id="e8f77-182">Pārskatiet ER formāta komponentu iestatījumus, kas ir konfigurēti tā, lai ģenerētu izejošo dokumentu teksta formātā, kas ietver detalizētu informāciju par nodokļu darbībām:</span><span class="sxs-lookup"><span data-stu-id="e8f77-182">Review the settings of the ER format components that are configured to generate an outbound document in text format that includes details of the tax transactions:</span></span>

    - <span data-ttu-id="e8f77-183">Secības formāta elements **Pārskats\\Rindas** ir konfigurēts tā, lai aizpildītu izejošo dokumentu ar vienu rindu, kas tiek ģenerēta no ligzdotajiem secības elementiem (**Virsraksts**, **Ieraksts** un **Kopsavilkums**).</span><span class="sxs-lookup"><span data-stu-id="e8f77-183">The **Report\\Lines** sequence format element is configured to fill the outbound document with a single line that is generated from the nested sequence elements (**Header**, **Record**, and **Summary**).</span></span>

        ![Rindu secības formāta elements un ligzdotie elementi lapā Formāta veidotājs](./media/ER-DeferredSequence-Format.png)

    - <span data-ttu-id="e8f77-185">Secības formāta elements **Pārskats\\Rindas\\Virsraksts** ir konfigurēts tā, lai aizpildītu izejošo dokumentu ar vienu virsraksta rindu, kas parāda apstrādes sākšanas datumu un laiku.</span><span class="sxs-lookup"><span data-stu-id="e8f77-185">The **Report\\Lines\\Header** sequence format element is configured to fill the outbound document with a single header line that shows the date and time  when the processing starts.</span></span>
    - <span data-ttu-id="e8f77-186">Secības formāta elements **Pārskats \\Rindas\\Ieraksts** ir konfigurēts tā, lai aizpildītu izejošo dokumentu ar vienu rindu, kas parāda detalizētu informāciju par atsevišķām nodokļu darbībām.</span><span class="sxs-lookup"><span data-stu-id="e8f77-186">The **Report \\Lines\\Record** sequence format element is configured to fill the outbound document with a single line that shows the details of individual tax transactions.</span></span> <span data-ttu-id="e8f77-187">Šīs nodokļu darbības tiek atdalītas ar semikolu.</span><span class="sxs-lookup"><span data-stu-id="e8f77-187">These tax transactions are separated by a semicolon.</span></span>

        ![Ierakstu secības formāta elements, kas izmanto semikolu kā norobežotāju](./media/ER-DeferredSequence-Format1.png)

    - <span data-ttu-id="e8f77-189">Secības formāta elements **Pārskats\\Rindas\\Kopsavilkums** ir konfigurēts tā, lai aizpildītu izejošo dokumentu ar vienu kopsavilkuma rindu, kas ietver nodokļu vērtību kopsummu no apstrādātām nodokļu darbībām.</span><span class="sxs-lookup"><span data-stu-id="e8f77-189">The **Report\\Lines\\Summary** sequence format element is configured to fill the outbound document with a single summary line that includes the sum of the tax values from the processed tax transactions.</span></span>

4. <span data-ttu-id="e8f77-190">Cilnē **Kartēšana** pārskatiet tālāk norādīto informāciju.</span><span class="sxs-lookup"><span data-stu-id="e8f77-190">On the **Mapping** tab, review the following details:</span></span>

    - <span data-ttu-id="e8f77-191">Lai izveidotu vienu rindu izejošajā dokumentā, elementam **Pārskats\\Rinda\\Virsraksts** nav jābūt saistītam ar datu avotu.</span><span class="sxs-lookup"><span data-stu-id="e8f77-191">The **Report\\Lines\\Header** element doesn't have to be bound to a data source to generate a single line in an outbound document.</span></span>
    - <span data-ttu-id="e8f77-192">**Prefikss1** elements ģenerē **P1** simbolus, lai norādītu, ka pievienotā rinda ir pārskata virsraksta rinda.</span><span class="sxs-lookup"><span data-stu-id="e8f77-192">The **Prefix1** element generates **P1** symbols to indicate that the line that is added is the report header line.</span></span>
    - <span data-ttu-id="e8f77-193">Elements **IzpildesDatums Laiks** ģenerē datumu un laiku (tostarp milisekundēs), kad tiek pievienota virsraksta rinda.</span><span class="sxs-lookup"><span data-stu-id="e8f77-193">The **ExecutionDateTime** element generates the date and time (including milliseconds) when the header line is added.</span></span>
    - <span data-ttu-id="e8f77-194">Elements **Pārskats\\Rindas\\Ieraksts** ir piesaistīts sarakstam **model.Data.List**, lai ģenerētu vienu rindu katram saistītā saraksta ierakstam.</span><span class="sxs-lookup"><span data-stu-id="e8f77-194">The **Report\\Lines\\Record** element is bound to the **model.Data.List** list to generate a single line for every record from the bound list.</span></span>
    - <span data-ttu-id="e8f77-195">Elements **Prefikss2** ģenerē **P2** simbolus, lai norādītu, ka pievienotā rinda ir paredzēta nodokļu darbību informācijai.</span><span class="sxs-lookup"><span data-stu-id="e8f77-195">The **Prefix2** element generates **P2** symbols to indicate that the line that is added is for the tax transaction details.</span></span>
    - <span data-ttu-id="e8f77-196">Elements **TaxAmount** ir saistīts ar **model.Data.List.Value**, (kas tiek rādīta kā **\@.Vērtība** relatīvā ceļa skatā), lai ģenerētu pašreizējās nodokļu darbības nodokļu vērtību.</span><span class="sxs-lookup"><span data-stu-id="e8f77-196">The **TaxAmount** element is bound to **model.Data.List.Value** (which is shown as **\@.Value** in the relative path view) to generate the tax value of the current tax transaction.</span></span>
    - <span data-ttu-id="e8f77-197">Elements **RunningTotal** ir vietturis nodokļu vērtību pašreizējai kopsummai.</span><span class="sxs-lookup"><span data-stu-id="e8f77-197">The **RunningTotal** element is a placeholder for the running total of the tax values.</span></span> <span data-ttu-id="e8f77-198">Pašlaik šim elementam nav izvades, jo tam nav konfigurēts ne saistījums, ne noklusētā vērtība.</span><span class="sxs-lookup"><span data-stu-id="e8f77-198">Currently, this element has no output, because neither a binding nor a default value is configured for it.</span></span>
    - <span data-ttu-id="e8f77-199">Elements **ExecutionDateTime** ģenerē datumu un laiku (tostarp milisekundes), kad šajā pārskatā tiek apstrādāta pašreizējā darbība.</span><span class="sxs-lookup"><span data-stu-id="e8f77-199">The **ExecutionDateTime** element generates the date and time (including milliseconds) when the current transaction is processed in this report.</span></span>
    - <span data-ttu-id="e8f77-200">Lai izveidotu vienu rindu izejošajā dokumentā, elementam **Pārskats\\Rinda\\Kopsavilkums** nav jābūt saistītam ar datu avotu.</span><span class="sxs-lookup"><span data-stu-id="e8f77-200">The **Report\\Lines\\Summary** element doesn't have to be bound to a data source to generate a single line in an outbound document.</span></span>
    - <span data-ttu-id="e8f77-201">Elements **Prefikss3** ģenerē **P3** simbolus, lai norādītu, ka pievienotajā rindā ir iekļauta kopējā nodokļu vērtība.</span><span class="sxs-lookup"><span data-stu-id="e8f77-201">The **Prefix3** element generates **P3** symbols to indicate that the line that is added contains the total tax value.</span></span>
    - <span data-ttu-id="e8f77-202">Elements **TotalTaxAmount** ir saistīts ar **model.Data.Summary.Tota**, lai ģenerētu apstrādāto nodokļu darbību nodokļu vērtību summu.</span><span class="sxs-lookup"><span data-stu-id="e8f77-202">The **TotalTaxAmount** element is bound to **model.Data.Summary.Total** to generate the sum of the tax values of the processed tax transactions.</span></span>
    - <span data-ttu-id="e8f77-203">Elements **IzpildesDatumsLaiks** ģenerē datumu un laiku (tostarp milisekundēs), kad tiek pievienota kopsavilkuma rinda.</span><span class="sxs-lookup"><span data-stu-id="e8f77-203">The **ExecutionDateTime** element generates the date and time (including milliseconds) when the summary line is added.</span></span>

    ![Cilne Kartēšana formāta veidotāja lapā](./media/ER-DeferredSequence-Format2.png)

### <a name="run-the-imported-format"></a><span data-ttu-id="e8f77-205">Importētā formāta palaišana</span><span class="sxs-lookup"><span data-stu-id="e8f77-205">Run the imported format</span></span>

1. <span data-ttu-id="e8f77-206">Lapā **Formāta veidotājs** atlasiet **Palaist**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-206">On the **Format designer** page, select **Run**.</span></span>
2. <span data-ttu-id="e8f77-207">Lejupielādējiet failu, ko piedāvā tīmekļa pārlūkprogramma, un atveriet to pārskatīšanai.</span><span class="sxs-lookup"><span data-stu-id="e8f77-207">Download the file that the web browser offers, and open it for review.</span></span>

    ![Lejupielādēts fails](./media/ER-DeferredSequence-Run.png)

<span data-ttu-id="e8f77-209">Ievērojiet, ka kopsavilkuma rinda 22 parāda apstrādāto darbību nodokļu vērtību summu.</span><span class="sxs-lookup"><span data-stu-id="e8f77-209">Notice that summary line 22 presents the sum of the tax values for the processed transactions.</span></span> <span data-ttu-id="e8f77-210">Tā kā formāts ir konfigurēts, lai šīs summas atgriešanai izmantotu saistījumu **cmodel.Data.Summary.Total**, summa tiek aprēķināta, izsaucot **GroupBy** tipa, kas izmanto modeļa kartēšanu, **Grupētā** datu avota *TotalSum* apkopojumu.</span><span class="sxs-lookup"><span data-stu-id="e8f77-210">Because the format is configured to use the **model.Data.Summary.Total** binding to return this sum, the sum is calculated by calling the **TotalSum** aggregation of the **Grouped** data source of the *GroupBy* type that uses the model mapping.</span></span> <span data-ttu-id="e8f77-211">Lai aprēķinātu šo apkopojumu, modeļa kartēšana atkārto visas darbības, kas ir atlasītas **Filtrētajā** datu avotā.</span><span class="sxs-lookup"><span data-stu-id="e8f77-211">To calculate this aggregation, model mapping iterates over all transactions that have been selected in the **Filtered** data source.</span></span> <span data-ttu-id="e8f77-212">Salīdzinot 21. un 22. rindas izpildes laikus, varat noteikt, ka summas aprēķins tika veikts 10 milisekundēs(ms).</span><span class="sxs-lookup"><span data-stu-id="e8f77-212">By comparing the execution times of lines 21 and 22, you can determine that calculation of the sum took 10 milliseconds (ms).</span></span> <span data-ttu-id="e8f77-213">Salīdzinot 2. un 21. rindas izpildes laikus, varat noteikt, ka visu darījumu rindu ģenerēšana tika veikta 7 milisekundēs(ms).</span><span class="sxs-lookup"><span data-stu-id="e8f77-213">By comparing the execution times of lines 2 and 21, you can determine that generation of all transactional lines took 7 ms.</span></span> <span data-ttu-id="e8f77-214">Tāpēc kopā bija nepieciešamas 17 ms.</span><span class="sxs-lookup"><span data-stu-id="e8f77-214">Therefore, a total of 17 ms was required.</span></span>

### <a name="modify-the-format-so-that-the-summing-is-based-on-generated-output"></a><span data-ttu-id="e8f77-215">Formāta modificēšana, lai summēšanas pamatā būtu ģenerētā izvade</span><span class="sxs-lookup"><span data-stu-id="e8f77-215">Modify the format so that the summing is based on generated output</span></span>

<span data-ttu-id="e8f77-216">Ja darbību apjoms ir daudz plašāks par apjomu dotajā piemērā, summēšanas laiks var palielināties un izraisīt veiktspējas problēmas.</span><span class="sxs-lookup"><span data-stu-id="e8f77-216">If the volume of transactions is much larger than the volume in the current example, the summing time might increase and cause performance issues.</span></span> <span data-ttu-id="e8f77-217">Mainot formāta iestatījumu, var palīdzēt novērst šīs veiktspējas problēmas.</span><span class="sxs-lookup"><span data-stu-id="e8f77-217">By changing the setting of the format, you can help prevent these performance issues.</span></span> <span data-ttu-id="e8f77-218">Tā kā jūs piekļūstat nodokļu vērtībām, lai tās iekļautu ģenerētajā pārskatā, varat atkārtoti izmantot šo informāciju nodokļu vērtību summēšanai.</span><span class="sxs-lookup"><span data-stu-id="e8f77-218">Because you access tax values to include them in the generated report, you can reuse this information to sum tax values.</span></span> <span data-ttu-id="e8f77-219">Plašāku informāciju skatiet [Konfigurēt formātu, lai veiktu uzskaiti un summēšanu](./tasks/er-format-counting-summing-1.md).</span><span class="sxs-lookup"><span data-stu-id="e8f77-219">For more information, see [Configure format to do counting and summing](./tasks/er-format-counting-summing-1.md).</span></span>

1. <span data-ttu-id="e8f77-220">Lapas **Formāta veidotājs** cilnē **Formāts**, formātu kokā atlasiet faila elementu **Pārskats**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-220">On the **Format designer** page, on the **Format** tab, select the **Report** file element in the format tree.</span></span>
2. <span data-ttu-id="e8f77-221">Atlasiet opcijai **Apkopot izvades datus** iestatījumu **Jā**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-221">Set the **Collect output details** option to **Yes**.</span></span> <span data-ttu-id="e8f77-222">Tagad varat konfigurēt šo formātu, izmantojot esošā pārskata saturu kā datu avotu, kam var piekļūt, izmantojot iebūvētās ER funkcijas [Datu vākšanas](er-functions-category-data-collection.md) kategorijā.</span><span class="sxs-lookup"><span data-stu-id="e8f77-222">You can now configure this format by using the content of an existing report as a data source that can be accessed by using the built-in ER functions in the [Data collection](er-functions-category-data-collection.md) category.</span></span>
3. <span data-ttu-id="e8f77-223">Cilnē **Kartēšana** atlasiet secības elementu **Pārskats\\Rinda**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-223">On the **Mapping** tab, select the **Report\\Lines** sequence element.</span></span>
4. <span data-ttu-id="e8f77-224">Konfigurējiet izteiksmi **Apkopoto datu atslēgas nosaukums** kā `WsColumn`.</span><span class="sxs-lookup"><span data-stu-id="e8f77-224">Configure the **Collected data key name** expression as `WsColumn`.</span></span>
5. <span data-ttu-id="e8f77-225">Konfigurējiet izteiksmi **Apkopoto datu atslēgas vērtība** kā `WsRow`.</span><span class="sxs-lookup"><span data-stu-id="e8f77-225">Configure the **Collected data key value** expression as `WsRow`.</span></span>

    ![Rindu secības elements lapā Formāta veidotājs](./media/ER-DeferredSequence-Format3.png)

6. <span data-ttu-id="e8f77-227">Atlasiet ciparu elementu **Pārskats\\Rindas\\Ieraksts\\TaxAmount**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-227">Select the **Report\\Lines\\Record\\TaxAmount** numeric element.</span></span>
7. <span data-ttu-id="e8f77-228">Konfigurējiet izteiksmi **Apkopoto datu atslēgas nosaukums** kā `SummingAmountKey`.</span><span class="sxs-lookup"><span data-stu-id="e8f77-228">Configure the **Collected data key name** expression as `SummingAmountKey`.</span></span>

    ![TaxAmount ciparu elements lapā Formāta veidotājs](./media/ER-DeferredSequence-Format4.png)

    <span data-ttu-id="e8f77-230">Varat apsvērt šo iestatījumu kā virtuālās darblapas izpildi, kur šūnas A1 vērtība tiek piesaistīta ar nodokļu summas vērtību no katras apstrādātās nodokļu darbības.</span><span class="sxs-lookup"><span data-stu-id="e8f77-230">You can consider this setting the fulfillment of a virtual worksheet, where the value of cell A1 is appended with the value of the tax amount from every processed tax transaction.</span></span>

8. <span data-ttu-id="e8f77-231">Atlasiet skaitlisko elementu **Pārskats\\Rinda\\Ieraksts\\RunningTotal** un pēc tam atlasiet **Rediģēt formulu**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-231">Select the **Report\\Lines\\Record\\RunningTotal** numeric element, and then select **Edit formula**.</span></span>
9. <span data-ttu-id="e8f77-232">Konfigurējiet izteiksmi `SUMIF(SummingAmountKey, WsColumn, WsRow)`, izmantojot iebūvēto ER funkciju [SUMIF](er-functions-datacollection-sumif.md).</span><span class="sxs-lookup"><span data-stu-id="e8f77-232">Configure the `SUMIF(SummingAmountKey, WsColumn, WsRow)` expression by using the built-in [SUMIF](er-functions-datacollection-sumif.md) ER function.</span></span>
10. <span data-ttu-id="e8f77-233">Atlasiet **Saglabāt**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-233">Select **Save**.</span></span>

    ![SUMIF izteiksme](./media/ER-DeferredSequence-FormulaDesigner.png)

11. <span data-ttu-id="e8f77-235">Aizveriet lapu **Formāta veidotājs**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-235">Close the **Formula designer** page.</span></span>
12. <span data-ttu-id="e8f77-236">Atlasiet **Saglabāt** un pēc tam atlasiet **Palaist**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-236">Select **Save**, and then select **Run**.</span></span>
13. <span data-ttu-id="e8f77-237">Lejupielādējiet un pārskatiet failu, ko piedāvā tīmekļa pārlūkprogramma.</span><span class="sxs-lookup"><span data-stu-id="e8f77-237">Download and review the file that the web browser offers.</span></span>

    ![Lejupielādēts fails](./media/ER-DeferredSequence-Run1.png)

    <span data-ttu-id="e8f77-239">21. rindā ir iekļauta nodokļu vērtību pašreizējā kopsumma, kas tiek aprēķināta visām apstrādātajām darbībām, izmantojot ģenerēto izvadi kā datu avotu.</span><span class="sxs-lookup"><span data-stu-id="e8f77-239">Line 21 contains the running total of tax values that is calculated for all processed transactions by using the generated output as a data source.</span></span> <span data-ttu-id="e8f77-240">Šis datu avots sākas no pārskata sākuma un turpinās, aplūkojot pēdējo nodokļu darbību.</span><span class="sxs-lookup"><span data-stu-id="e8f77-240">This data source starts from the beginning of the report and continues through the last tax transaction.</span></span> <span data-ttu-id="e8f77-241">22. rindā ir iekļauta visu apstrādāto darbību nodokļu vērtību summa, kas tiek aprēķināta modeļa kartēšanā, izmantojot *GroupBy* tipa datu avotu.</span><span class="sxs-lookup"><span data-stu-id="e8f77-241">Line 22 contains the sum of the tax values for all processed transactions that are calculated in the model mapping by using the data source of the *GroupBy* type.</span></span> <span data-ttu-id="e8f77-242">Ievērojiet, ka šīs vērtības ir vienādas.</span><span class="sxs-lookup"><span data-stu-id="e8f77-242">Notice that these values are equal.</span></span> <span data-ttu-id="e8f77-243">Tādēļ **GroupBy** vietā var izmantot uz izvadi balstītu summēšanu.</span><span class="sxs-lookup"><span data-stu-id="e8f77-243">Therefore, the output-based summing can be used instead of **GroupBy**.</span></span> <span data-ttu-id="e8f77-244">Salīdzinot 2. un 21. rindas izpildes laikus, varat noteikt, ka visu darījumu rindu ģenerēšana un summēšana tika veikta 9 milisekundēs(ms).</span><span class="sxs-lookup"><span data-stu-id="e8f77-244">By comparing the execution times of lines 2 and 21, you can determine that generation of all the transactional lines and summing took 9 ms.</span></span> <span data-ttu-id="e8f77-245">Tāpēc, ciktāl tas attiecas uz detalizēto rindu ģēnerēšānu un nodokļu vērtību summēšanu, modificētais formāts ir aptuveni divas reizes ātrāks nekā sākotnējais formāts.</span><span class="sxs-lookup"><span data-stu-id="e8f77-245">Therefore, as far as the generation of detailed lines and the summing of tax values are concerned, the modified format is approximately two times faster than the original format.</span></span>

14. <span data-ttu-id="e8f77-246">Atlasiet skaitlisko elementu **Pārskats\\Rindas\\Kopsavilkums\\KopējāNodokļuSumma** un pēc tam atlasiet **Rediģēt formulu**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-246">Select the **Report\\Lines\\Summary\\TotalTaxAmount** numeric element, and then select **Edit formula**.</span></span>
15. <span data-ttu-id="e8f77-247">Ievadiet esošās izteiksmes vietā izteiksmi `SUMIF(SummingAmountKey, WsColumn, WsRow)`.</span><span class="sxs-lookup"><span data-stu-id="e8f77-247">Enter the `SUMIF(SummingAmountKey, WsColumn, WsRow)` expression instead of the existing expression.</span></span>
16. <span data-ttu-id="e8f77-248">Atlasiet **Saglabāt** un pēc tam atlasiet **Palaist**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-248">Select **Save**, and then select **Run**.</span></span>
17. <span data-ttu-id="e8f77-249">Lejupielādējiet un pārskatiet failu, ko piedāvā tīmekļa pārlūkprogramma.</span><span class="sxs-lookup"><span data-stu-id="e8f77-249">Download and review the file that the web browser offers.</span></span>

    ![Lejupielādēts fails](./media/ER-DeferredSequence-Run2.png)

    <span data-ttu-id="e8f77-251">Ievērojiet, ka nodokļu vērtību pašreizējā kopsumma pēdējā darbību informācijas rindā tagad ir vienāda ar summu kopsavilkuma rindā.</span><span class="sxs-lookup"><span data-stu-id="e8f77-251">Notice that the running total of tax values on the last transaction details line now equals the sum on the summary line.</span></span>

### <a name="put-values-of-output-based-summing-in-the-report-header"></a><span data-ttu-id="e8f77-252">Izvadē balstītas summēšanas vērtību izvietošana pārskata galvenē</span><span class="sxs-lookup"><span data-stu-id="e8f77-252">Put values of output-based summing in the report header</span></span>

<span data-ttu-id="e8f77-253">Piemēram, varat modificēt formātu, ja pārskata galvenē jāuzrāda nodokļu vērtību summa.</span><span class="sxs-lookup"><span data-stu-id="e8f77-253">If, for example, you must present the sum of tax values in the header of your report, you can modify your format.</span></span>

1. <span data-ttu-id="e8f77-254">Lapas **Formāta veidotājs** cilnē **Formāts** atlasiet secības elementu **Pārskats\\Rindas\\Kopsavilkums**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-254">On the **Format designer** page, on the **Format** tab, select the **Report\\Lines\\Summary** sequence element.</span></span>
2. <span data-ttu-id="e8f77-255">Atlasiet **Pārvietot uz augšu**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-255">Select **Move up**.</span></span>
3. <span data-ttu-id="e8f77-256">Atlasiet **Saglabāt** un pēc tam atlasiet **Palaist**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-256">Select **Save**, and then select **Run**.</span></span>
4. <span data-ttu-id="e8f77-257">Lejupielādējiet un pārskatiet failu, ko piedāvā tīmekļa pārlūkprogramma.</span><span class="sxs-lookup"><span data-stu-id="e8f77-257">Download and review the file that the web browser offers.</span></span>

    ![Lejupielādēts fails](./media/ER-DeferredSequence-Run3.png)

    <span data-ttu-id="e8f77-259">Ievērojiet, ka kopsavilkuma 2. rindā nodokļu vērtību summa tagad ir vienāda ar 0 (nulli), jo šī summa tagad tiek aprēķināta, pamatojoties uz ģenerēto izvadi.</span><span class="sxs-lookup"><span data-stu-id="e8f77-259">Notice that the sum of tax values on summary line 2 now equals 0 (zero), because this sum is now calculated based on the generated output.</span></span> <span data-ttu-id="e8f77-260">Kad tiek ģenerēta 2. rinda, ģenerētā izvade vēl neietver rindas, kurām ir detalizēta informācija par darbību.</span><span class="sxs-lookup"><span data-stu-id="e8f77-260">When line 2 is generated, the generated output doesn't yet contain lines that have transaction details.</span></span> <span data-ttu-id="e8f77-261">Varat konfigurēt šo formātu, lai atliktu secības elementu **Pārskats\\Rindas\\Kopsavilkums** izpildi, līdz visām nodokļu darbībām tiek palaists secības elements **Pārskats\\Rindas\\Ieraksts**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-261">You can configure this format to defer the execution of the **Report\\Lines\\Summary** sequence element until the **Report\\Lines\\Record** sequence element has been run for all tax transactions.</span></span>

### <a name="defer-the-execution-of-the-summary-sequence-so-that-the-calculated-total-is-used"></a><span data-ttu-id="e8f77-262">Kopsavilkuma secības izpildes atlikšana, lai tiktu izmantota aprēķinātā kopsumma</span><span class="sxs-lookup"><span data-stu-id="e8f77-262">Defer the execution of the summary sequence so that the calculated total is used</span></span>

1. <span data-ttu-id="e8f77-263">Lapas **Formāta veidotājs** cilnē **Formāts** atlasiet secības elementu **Pārskats\\Rindas\\Kopsavilkums**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-263">On the **Format designer** page, on the **Format** tab, select the **Report\\Lines\\Summary** sequence element.</span></span>
2. <span data-ttu-id="e8f77-264">Atlasiet opcijai **Atliktā izpilde** iestatījumu **Jā**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-264">Set the **Deferred execution** option to **Yes**.</span></span>

    ![Atlikta kopsavilkuma secības elementa izpildes opcija lapā Formāta veidotājs](./media/ER-DeferredSequence-Format5.png)

3. <span data-ttu-id="e8f77-266">Atlasiet **Saglabāt** un pēc tam atlasiet **Palaist**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-266">Select **Save**, and then select **Run**.</span></span>
4. <span data-ttu-id="e8f77-267">Lejupielādējiet un pārskatiet failu, ko piedāvā tīmekļa pārlūkprogramma.</span><span class="sxs-lookup"><span data-stu-id="e8f77-267">Download and review the file that the web browser offers.</span></span>

    ![Lejupielādēts fails](./media/ER-DeferredSequence-Run4.png)

    <span data-ttu-id="e8f77-269">Secības elements **Pārskats\\Rindas\\Kopsavilkums** tagad tiek palaists tikai pēc tam, kad ir palaisti visi pārējie krājumi, kas ligzdoti zem tā pamatelementa **Pārskats\\Rindas**.</span><span class="sxs-lookup"><span data-stu-id="e8f77-269">The **Report\\Lines\\Summary** sequence element is now run only after all other items that are nested under its parent element, **Report\\Lines**, have been run.</span></span> <span data-ttu-id="e8f77-270">Tādēļ tas tiek palaists pēc secības elementa **Pārskats\\Rindas\\Ieraksts** palaišanas visām datu avota **model.Data.List** nodokļu darbībām.</span><span class="sxs-lookup"><span data-stu-id="e8f77-270">Therefore, it's run after the **Report\\Lines\\Record** sequence element has been run for all tax transactions of the **model.Data.List** data source.</span></span> <span data-ttu-id="e8f77-271">So faktu atklāj 1., 2. un 3. rindas un pēdējās 22. rindas izpildes laiki.</span><span class="sxs-lookup"><span data-stu-id="e8f77-271">The execution times of lines 1, 2, and 3, and of the last line, 22, reveal this fact.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="e8f77-272">Papildu resursi</span><span class="sxs-lookup"><span data-stu-id="e8f77-272">Additional resources</span></span>

- [<span data-ttu-id="e8f77-273">Konfigurēt formātu, lai veiktu uzskaiti un summēšanu</span><span class="sxs-lookup"><span data-stu-id="e8f77-273">Configure format to do counting and summing</span></span>](./tasks/er-format-counting-summing-1.md)
- [<span data-ttu-id="e8f77-274">ER formāta izpildes izsekošana, lai novērstu veiktspējas problēmas</span><span class="sxs-lookup"><span data-stu-id="e8f77-274">Trace execution of ER format to troubleshoot performance issues</span></span>](trace-execution-er-troubleshoot-perf.md)
- [<span data-ttu-id="e8f77-275">XML elementu izpildes atlikšana ER formātos</span><span class="sxs-lookup"><span data-stu-id="e8f77-275">Defer the execution of XML elements in ER formats</span></span>](er-defer-xml-element.md#Example)
