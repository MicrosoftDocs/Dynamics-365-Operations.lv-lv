---
title: XML elementu izpildes atlikšana ER formātos
description: Šajā tēmā ir izskaidrots, kā atlikt XML izpildi elektroniskā pārskata (ER) formātā.
author: NickSelin
manager: kfend
ms.date: 02/03/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: EROperationDesigner
audience: Application User, IT Pro
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 58771
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2020-01-01
ms.dyn365.ops.version: AX 10.0.9
ms.openlocfilehash: e9f6161186d04b690ee560dac7ee12974d070506
ms.sourcegitcommit: 9c401a4adba260704b0b1cb9fe8e148bbb5afeed
ms.translationtype: HT
ms.contentlocale: lv-LV
ms.lasthandoff: 03/12/2020
ms.locfileid: "3120882"
---
# <a name="defer-the-execution-of-xml-elements-in-er-formats"></a><span data-ttu-id="09c4a-103">XML elementu izpildes atlikšana ER formātos</span><span class="sxs-lookup"><span data-stu-id="09c4a-103">Defer the execution of XML elements in ER formats</span></span>

[!include [banner](../includes/banner.md)]

[!include [banner](../includes/preview-banner.md)]

## <a name="overview"></a><span data-ttu-id="09c4a-104">Pārskats</span><span class="sxs-lookup"><span data-stu-id="09c4a-104">Overview</span></span>

<span data-ttu-id="09c4a-105">Varat izmantot [Elektroniskās ziņošanas (ER)](general-electronic-reporting.md) struktūras operāciju veidotāju, lai [konfigurētu](./tasks/er-format-configuration-2016-11.md) tādu ER risinājuma [formāta komponentu](general-electronic-reporting.md#FormatComponentOutbound), kas tiek izmantots izejošo dokumentu ģenerēšanai XML formātā.</span><span class="sxs-lookup"><span data-stu-id="09c4a-105">You can use the Operations designer of the [Electronic reporting (ER)](general-electronic-reporting.md) framework to [configure](./tasks/er-format-configuration-2016-11.md) the [format component](general-electronic-reporting.md#FormatComponentOutbound) of an ER solution that is used to generate outbound documents in XML format.</span></span> <span data-ttu-id="09c4a-106">Konfigurētā formāta komponenta hierarhisko struktūru veido dažādu tipu formātu elementi.</span><span class="sxs-lookup"><span data-stu-id="09c4a-106">The hierarchical structure of the configured format component consists of format elements of various types.</span></span> <span data-ttu-id="09c4a-107">Šos formāta elementus izmanto, lai izpildlaikā aizpildītu izveidotos dokumentus ar nepieciešamo informāciju.</span><span class="sxs-lookup"><span data-stu-id="09c4a-107">These format elements are used to fill generated documents with the required information at runtime.</span></span> <span data-ttu-id="09c4a-108">Pēc noklusējuma, palaižot ER formātu, formāta elementi tiek palaisti tādā pašā secībā, kādā tie atrodas formāta hierarhijā: pa vienam, no augšas uz leju.</span><span class="sxs-lookup"><span data-stu-id="09c4a-108">By default, when you run an ER format, the format elements are run in the same order as they are presented in the format hierarchy: one by one, from top to bottom.</span></span> <span data-ttu-id="09c4a-109">Tomēr noformēšanas laikā varat mainīt izpildes kārtību jebkuriem konfigurētā formāta komponenta XML elementiem.</span><span class="sxs-lookup"><span data-stu-id="09c4a-109">However, at design time, you can change the execution order for any XML elements of the configured format component.</span></span>

<span data-ttu-id="09c4a-110">Ieslēdzot konfigurētajā formātā XML elementa <a name="DeferredXmlElementExecution"></a>**Atliktās izpildes** opciju, varat atlikt (uz vēlāku laiku) šī elementa izpildi.</span><span class="sxs-lookup"><span data-stu-id="09c4a-110">By turning on the <a name="DeferredXmlElementExecution"></a>**Deferred execution** option for an XML element in the configured format, you can defer (postpone) the execution of that element.</span></span> <span data-ttu-id="09c4a-111">Šādā gadījumā elements netiek palaists, kamēr nav palaisti visi citi tā pamatelementa elementi.</span><span class="sxs-lookup"><span data-stu-id="09c4a-111">In this case, the element isn't run until all other elements of its parent have been run.</span></span>

<span data-ttu-id="09c4a-112">Lai iegūtu papildinformāciju par šo līdzekli, aizpildiet šajā tēmā sniegto piemēru.</span><span class="sxs-lookup"><span data-stu-id="09c4a-112">To learn more about this feature, complete the example in this topic.</span></span>

## <a name="limitations"></a><span data-ttu-id="09c4a-113">Ierobežojumi</span><span class="sxs-lookup"><span data-stu-id="09c4a-113">Limitations</span></span>

<span data-ttu-id="09c4a-114">Opcija **Atliktā izpilde** tiek atbalstīta tikai tiem XML elementiem, kas ir konfigurēti ER formātam, kas tiek izmantots **izejošo** dokumentu ģenerēšanai XML formātā.</span><span class="sxs-lookup"><span data-stu-id="09c4a-114">The **Deferred execution** option is supported only for XML elements that are configured for an ER format that is used to generate **outbound** documents in XML format.</span></span>

<span data-ttu-id="09c4a-115">Opcija **Atliktā izpilde** tiek atbalstīta tikai tiem XML elementiem, kas atrodas tikai vienā citā XML elementā.</span><span class="sxs-lookup"><span data-stu-id="09c4a-115">The **Deferred execution** option is supported only for XML elements that reside in only one other XML element.</span></span> <span data-ttu-id="09c4a-116">Tāpēc tas nav attiecināms uz XML elementiem, kas atrodas citos formāta elementu tipos (piemēram, **XML secības** elementā).</span><span class="sxs-lookup"><span data-stu-id="09c4a-116">Therefore, it isn't applicable to XML elements that reside in other types of format elements (for example, in an **XML sequence** element).</span></span>

<span data-ttu-id="09c4a-117">Opcija **Atliktā izpilde** netiek atbalstīta tiem XML elementiem, kas atrodas formāta elementā **Standarta\\Fails**, ja opcijai **Sadalīt failu** atlasīts iestatījums **Jā**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-117">The **Deferred execution** option isn't supported for XML elements that reside in the **Common\\File** format element when the **Split file** option is set to **Yes**.</span></span> <span data-ttu-id="09c4a-118">Plašāku informāciju par to, kā sadalīt XML failus, skatiet [Ģenerēto XML failu sadalīšana, pamatojoties uz faila lielumu un satura daudzumu](er-split-files.md).</span><span class="sxs-lookup"><span data-stu-id="09c4a-118">For more information about how to split XML files, see [Split generated XML files based on file size and content quantity](er-split-files.md).</span></span>

## <a name="example-defer-the-execution-of-an-xml-element-in-an-er-format"></a><a name="Example"></a><span data-ttu-id="09c4a-119">Piemērs: XML elementa izpildes atlikšana ER formātā</span><span class="sxs-lookup"><span data-stu-id="09c4a-119">Example: Defer the execution of an XML element in an ER format</span></span>

<span data-ttu-id="09c4a-120">Tālāk aprakstītajās darbībās izskaidrots, kā lietotājs sistēmas administratora vai elektronisko pārskatu konsultanta [lomā](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/sysadmin/tasks/assign-users-security-roles) var konfigurēt ER formātu, kas satur tādu XML elementu, kur izpildes secība formāta hierarhijā atšķiras no pasūtījuma.</span><span class="sxs-lookup"><span data-stu-id="09c4a-120">The following steps explain how a user in the System administrator or Electronic reporting functional consultant [role](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/sysadmin/tasks/assign-users-security-roles) can configure an ER format that contains an XML element where the order of execution differs from the order in the format hierarchy.</span></span>

<span data-ttu-id="09c4a-121">Šīs darbības var veikt uzņēmumā **USMF** programmā Microsoft Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="09c4a-121">These steps can be performed in the **USMF** company in Microsoft Dynamics 365 Finance.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="09c4a-122">Priekšnosacījumi</span><span class="sxs-lookup"><span data-stu-id="09c4a-122">Prerequisites</span></span>

<span data-ttu-id="09c4a-123">Lai izpildītu šo piemēru, jums programmas Finance uzņēmumā **USMF** jābūt piekļuvei vienai no tālak norādītajām lomām:</span><span class="sxs-lookup"><span data-stu-id="09c4a-123">To complete this example, you must have access to the **USMF** company in Finance for one of the following roles:</span></span>

- <span data-ttu-id="09c4a-124">Elektronisko pārskatu veidošanas funkcionālais konsultants</span><span class="sxs-lookup"><span data-stu-id="09c4a-124">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="09c4a-125">Sistēmas administrators</span><span class="sxs-lookup"><span data-stu-id="09c4a-125">System administrator</span></span>

<span data-ttu-id="09c4a-126">Ja vēl neesat izpildījis piemēru tēmā [Secības elementu izpildes atlikšana ER formātos](er-defer-sequence-element.md#Example), lejupielādējiet tālāk norādītās parauga ER risinājumu [konfigurācijas](general-electronic-reporting.md#Configuration).</span><span class="sxs-lookup"><span data-stu-id="09c4a-126">If you haven't yet completed the example in the [Defer the execution of sequence elements in ER formats](er-defer-sequence-element.md#Example) topic, download the following [configurations](general-electronic-reporting.md#Configuration) of the sample ER solution.</span></span>

| <span data-ttu-id="09c4a-127">Satura apraksts</span><span class="sxs-lookup"><span data-stu-id="09c4a-127">Content description</span></span>            | <span data-ttu-id="09c4a-128">Faila nosaukums</span><span class="sxs-lookup"><span data-stu-id="09c4a-128">File name</span></span> |
|--------------------------------|-----------|
| <span data-ttu-id="09c4a-129">ER datu modeļa konfigurācija</span><span class="sxs-lookup"><span data-stu-id="09c4a-129">ER data model configuration</span></span>    | [<span data-ttu-id="09c4a-130">Modelis atlikto elementu apgūšanai.versija.1.xml</span><span class="sxs-lookup"><span data-stu-id="09c4a-130">Model to learn deferred elements.version.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |
| <span data-ttu-id="09c4a-131">ER modeļa kartējuma konfigurācija</span><span class="sxs-lookup"><span data-stu-id="09c4a-131">ER model mapping configuration</span></span> | [<span data-ttu-id="09c4a-132">Kartēšana atlikto elementu apgūšanai.versija.1.xml</span><span class="sxs-lookup"><span data-stu-id="09c4a-132">Mapping to learn deferred elements.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |

<span data-ttu-id="09c4a-133">Pirms sākšanas savā vietējā datorā jāielādē un jāsaglabā arī tālāk norādītā parauga ER risinājuma konfigurācija.</span><span class="sxs-lookup"><span data-stu-id="09c4a-133">Before you begin, you must also download and save the following configuration of the sample ER solution to your local computer.</span></span>

| <span data-ttu-id="09c4a-134">Satura apraksts</span><span class="sxs-lookup"><span data-stu-id="09c4a-134">Content description</span></span>     | <span data-ttu-id="09c4a-135">Faila nosaukums</span><span class="sxs-lookup"><span data-stu-id="09c4a-135">File name</span></span> |
|-------------------------|-----------|
| <span data-ttu-id="09c4a-136">ER formāta konfigurācija</span><span class="sxs-lookup"><span data-stu-id="09c4a-136">ER format configuration</span></span> | [<span data-ttu-id="09c4a-137">Formāts atlikto XML elementu apgūšanai.versija.1.xml</span><span class="sxs-lookup"><span data-stu-id="09c4a-137">Format to learn deferred XML elements.version.1.1.xml</span></span>](https://mbs.microsoft.com/customersource/Global/AX/downloads/hot-fixes/365optelecrepeg) |

### <a name="import-the-sample-er-configurations"></a><span data-ttu-id="09c4a-138">Parauga ER konfigurācijas failu importēšana</span><span class="sxs-lookup"><span data-stu-id="09c4a-138">Import the sample ER configurations</span></span>

1. <span data-ttu-id="09c4a-139">Dodieties uz **Organizācijas administrēšana** \> **Darbvietas** \> **Elektronisko pārskatu veidošana**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-139">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="09c4a-140">Atlasiet **Pārskatu konfigurācijas**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-140">Select **Reporting configurations**.</span></span>
3. <span data-ttu-id="09c4a-141">Ja lapā **Konfigurācijas** konfigurāciju kokā nav pieejama konfigurācija **Modelis atlikto elementu apgūšanai**, importējiet ER datu modeļa konfigurāciju:</span><span class="sxs-lookup"><span data-stu-id="09c4a-141">On the **Configurations** page, if the **Model to learn deferred elements** configuration isn't available in the configuration tree, import the ER data model configuration:</span></span>

    1. <span data-ttu-id="09c4a-142">Atlasiet **Apmaiņa**, un pēc tam atlasiet **Ielādēt no XML faila**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-142">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="09c4a-143">Atlasiet **Pārlūkot**, atrodiet un atlasiet failu **Modelis atlikto elementu apgūšanai.1.xml** un pēc tam atlasiet **Labi**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-143">Select **Browse**, find and select the **Model to learn deferred elements.1.xml** file, and then select **OK**.</span></span>

4. <span data-ttu-id="09c4a-144">Ja konfigurāciju kokā nav pieejama konfigurācija **Kartēšana atlikto elementu apgūšanai** importējiet ER modeļa kartēšanas konfigurāciju:</span><span class="sxs-lookup"><span data-stu-id="09c4a-144">If the **Mapping to learn deferred elements** configuration isn't available in the configuration tree, import the ER model mapping configuration:</span></span>

    1. <span data-ttu-id="09c4a-145">Atlasiet **Apmaiņa**, un pēc tam atlasiet **Ielādēt no XML faila**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-145">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="09c4a-146">Atlasiet **Pārlūkot**, atrodiet un atlasiet failu **Kartēšana atlikto elementu apgūšanai.1.1.xml** un pēc tam atlasiet **Labi**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-146">Select **Browse**, find and select the **Mapping to learn deferred elements.1.1.xml** file, and then select **OK**.</span></span>

5. <span data-ttu-id="09c4a-147">ER formāta konfigurācijas importēšana</span><span class="sxs-lookup"><span data-stu-id="09c4a-147">Import the ER format configuration:</span></span>

    1. <span data-ttu-id="09c4a-148">Atlasiet **Apmaiņa**, un pēc tam atlasiet **Ielādēt no XML faila**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-148">Select **Exchange**, and then select **Load from XML file**.</span></span>
    2. <span data-ttu-id="09c4a-149">Atlasiet **Pārlūkot**, atrodiet un atlasiet failu **Formāts atlikto XML elementu apgūšanai.1.1.xml** un pēc tam atlasiet **Labi**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-149">Select **Browse**, find and select the **Format to learn deferred XML elements.1.1.xml** file, and then select **OK**.</span></span>

6. <span data-ttu-id="09c4a-150">Konfigurāciju kokā izvērsiet **Modelis atlikto elementu apgūšanai**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-150">In the configuration tree, expand **Model to learn deferred elements**.</span></span>
7. <span data-ttu-id="09c4a-151">Konfigurāciju kokā pārskatiet importējamo ER konfigurāciju sarakstu.</span><span class="sxs-lookup"><span data-stu-id="09c4a-151">Review the list of imported ER configurations in the configuration tree.</span></span>

    ![Konfigurāciju lapā importētās ER konfigurācijas](./media/ER-DeferredXml-Configurations.png)

### <a name="activate-a-configuration-provider"></a><span data-ttu-id="09c4a-153">Konfigurāciju nodrošinātāja aktivizēšana</span><span class="sxs-lookup"><span data-stu-id="09c4a-153">Activate a configuration provider</span></span>

1. <span data-ttu-id="09c4a-154">Dodieties uz **Organizācijas administrēšana** \> **Darbvietas** \> **Elektronisko pārskatu veidošana**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-154">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="09c4a-155">Lapas **Lokalizācijas konfigurācijas** sadaļā **Konfigurācijas nodrošinātāji** pārliecinieties, vai ir uzskaitīts [konfigurācijas nodrošinātājs](general-electronic-reporting.md#Provider) parauga uzņēmumam Litware, Inc. (`http://www.litware.com`) un vai tas ir atzīmēts kā aktīvs.</span><span class="sxs-lookup"><span data-stu-id="09c4a-155">On the **Localization configurations** page, in the **Configuration providers** section, make sure that the [configuration provider](general-electronic-reporting.md#Provider) for the Litware, Inc. (`http://www.litware.com`) sample company is listed, and that it's marked as active.</span></span> <span data-ttu-id="09c4a-156">Ja šis konfigurācijas nodrošinātājs nav uzskaitīts vai tas nav atzīmēts kā aktīvs, izpildiet darbības, kas aprakstītas tēmā [Konfigurācijas nodrošinātāja izveide un atzīmēšana par aktīvu](./tasks/er-configuration-provider-mark-it-active-2016-11.md).</span><span class="sxs-lookup"><span data-stu-id="09c4a-156">If this configuration provider isn't listed, or if it isn't marked as active, follow the steps in the [Create a configuration provider and mark it as active](./tasks/er-configuration-provider-mark-it-active-2016-11.md) topic.</span></span>

    ![Litware, Inc. parauga uzņēmums lokalizācijas konfigurāciju lapā](./media/ER-DeferredXml-ElectronicReportingWorkspace.png)

### <a name="review-the-imported-model-mapping"></a><span data-ttu-id="09c4a-158">Importētā modeļa kartējuma pārskatīšana</span><span class="sxs-lookup"><span data-stu-id="09c4a-158">Review the imported model mapping</span></span>

<span data-ttu-id="09c4a-159">Pārskatiet ER modeļa kartējuma komponenta iestatījumus, kas ir konfigurēti, lai piekļūtu nodokļu darbībām, un atklājiet pieprasītos datus, kuriem atļauta piekļuve.</span><span class="sxs-lookup"><span data-stu-id="09c4a-159">Review the settings of the ER model mapping component that is configured to access tax transactions and expose accessed data on request.</span></span>

1. <span data-ttu-id="09c4a-160">Dodieties uz **Organizācijas administrēšana** \> **Darbvietas** \> **Elektronisko pārskatu veidošana**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-160">Go to **Organization administration** \> **Workspaces** \> **Electronic reporting**.</span></span>
2. <span data-ttu-id="09c4a-161">Atlasiet **Pārskatu konfigurācijas**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-161">Select **Reporting configurations**.</span></span>
3. <span data-ttu-id="09c4a-162">Lapā **Konfigurācijas**, konfigurāciju kokā izvērsiet vienumu **Modelis atlikto elementu apgūšanai**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-162">On the **Configurations** page, in the configuration tree, expand **Model to learn deferred elements**.</span></span>
4. <span data-ttu-id="09c4a-163">Atlasiet konfigurāciju **Kartēšana atlikto elementu apgūšanai**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-163">Select the **Mapping to learn deferred elements** configuration.</span></span>
5. <span data-ttu-id="09c4a-164">Atlasiet **Noformētājs**, lai atvērtu kartējumu sarakstu.</span><span class="sxs-lookup"><span data-stu-id="09c4a-164">Select **Designer** to open the list of mappings.</span></span>
6. <span data-ttu-id="09c4a-165">Atlasiet **Noformētājs**, lai pārskatītu kartēšanas detalizētu informāciju.</span><span class="sxs-lookup"><span data-stu-id="09c4a-165">Select **Designer** to review the mapping details.</span></span>
7. <span data-ttu-id="09c4a-166">Atlasiet **Rādīt detalizētu informāciju**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-166">Select **Show details**.</span></span>
8. <span data-ttu-id="09c4a-167">Pārskatiet datu avotus, kas konfigurēti, lai piekļūtu nodokļu darbībām:</span><span class="sxs-lookup"><span data-stu-id="09c4a-167">Review the data sources that are configured to access tax transactions:</span></span>

    - <span data-ttu-id="09c4a-168">**Transakciju** datu avots, kas pieder pie *Tabulas ierakstu* tipa, ir konfigurēts, lai piekļūtu **TaxTrans** pieteikumu tabulas ierakstiem.</span><span class="sxs-lookup"><span data-stu-id="09c4a-168">The **Transactions** data source of the *Table record* type is configured to access records of the **TaxTrans** application table.</span></span>
    - <span data-ttu-id="09c4a-169">**Dokumentu** datu avots, kas pieder pie *Aprēķinātā lauka* tipa, ir konfigurēts tā, lai atgrieztu vajadzīgos dokumentu kodus (**INV-10000349** un **INV-10000350**) kā ierakstu sarakstu.</span><span class="sxs-lookup"><span data-stu-id="09c4a-169">The **Vouchers** data source of the *Calculated field* type is configured to return the required voucher codes (**INV-10000349** and **INV-10000350**) as a list of records.</span></span>
    - <span data-ttu-id="09c4a-170">**Filtrētais** datu avots, kas pieder pie *Aprēķinātā lauka* tipa, ir konfigurēts tā, lai no **Darbību** datu avota atlasītu tikai nepieciešamo dokumentu nodokļu darbības.</span><span class="sxs-lookup"><span data-stu-id="09c4a-170">The **Filtered** data source of the *Calculated field* type is configured to select, from the **Transactions** data source, only tax transactions of the required vouchers.</span></span>
    - <span data-ttu-id="09c4a-171">**\$TaxAmount** lauks, kas pieder pie *Aprēķinatā lauka* tipa, ir pievienots **Filtrēto** datu avotam, lai atklātu nodokļu vērtību, kurai ir pretēja zīme.</span><span class="sxs-lookup"><span data-stu-id="09c4a-171">The **\$TaxAmount** field of the *Calculated field* type is added for the **Filtered** data source to expose the tax value that has the opposite sign.</span></span>
    - <span data-ttu-id="09c4a-172">**Grupēto** datu avots, kas pieder pie *Grupēt pēc* tipa, ir konfigurēts tā, lai grupētu **Filtrēto** datu avota filtrētās nodokļu darbības.</span><span class="sxs-lookup"><span data-stu-id="09c4a-172">The **Grouped** data source of the *Group By* type is configured to group filtered tax transactions of the **Filtered** data source.</span></span>
    - <span data-ttu-id="09c4a-173">**TotalSum** apkopojuma lauks no **Grupēto** datu avota ir konfigurēts tā, lai apkopotu **\$TaxAmount** lauku no **Filtrēto** datu avota visām šī datu avota filtrēto nodokļu darbībām.</span><span class="sxs-lookup"><span data-stu-id="09c4a-173">The **TotalSum** aggregation field of the **Grouped** data source is configured to summarize values of the **\$TaxAmount** field of the **Filtered** data source for all filtered tax transactions of that data source.</span></span>

        ![TotalSum apkopošanas lauks lapā Rediģēt "GroupBy" parametrus](./media/ER-DeferredXml-GroupByParameters.png)

9. <span data-ttu-id="09c4a-175">Pārskats par to, kā konfigurētie datu avoti ir saistīti ar datu modeli un kā tie atklāj datus, kuriem atļauta piekļuve, lai padarītu tos pieejamus ER formātā</span><span class="sxs-lookup"><span data-stu-id="09c4a-175">Review how the configured data sources are bound to the data model, and how they expose accessed data to make it available in an ER format:</span></span>

    - <span data-ttu-id="09c4a-176">**Filtrētais** datu avots ir saistīts ar datu modeļa **Data.List** lauku.</span><span class="sxs-lookup"><span data-stu-id="09c4a-176">The **Filtered** data source is bound to the **Data.List** field of the data model.</span></span>
    - <span data-ttu-id="09c4a-177">Lauks **\$TaxAmount** no **Filtrēto** datu avota ir saistīts ar datu modeļa lauku **Data.List.Value**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-177">The **\$TaxAmount** field of the **Filtered** data source is bound to the **Data.List.Value** field of the data model.</span></span>
    - <span data-ttu-id="09c4a-178">Lauks **TotalSum** no **Grupēto** datu avota ir saistīts ar datu modeļa lauku **Data.Summary.Total**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-178">The **TotalSum** field of the **Grouped** data source is bound to the **Data.Summary.Total** field of the data model.</span></span>

    ![Modeļu kartēšanas veidotāja lapa](./media/ER-DeferredXml-ModelMapping.png)

10. <span data-ttu-id="09c4a-180">Aizveriet lapas **Modeļu kartēšanas veidotājs** un **Modeļu kartējumi**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-180">Close the **Model mapping designer** and **Model mappings** pages.</span></span>

### <a name="review-the-imported-format"></a><span data-ttu-id="09c4a-181">Pārskatīt importēto formātu</span><span class="sxs-lookup"><span data-stu-id="09c4a-181">Review the imported format</span></span>

1. <span data-ttu-id="09c4a-182">Lapā **Konfigurācijas**, konfigurācijas kokā atlasiet konfigurāciju **Formāts atlikto XML elementu apgūšanai**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-182">On the **Configurations** page, in the configuration tree, select the **Format to learn deferred XML elements** configuration.</span></span>
2. <span data-ttu-id="09c4a-183">Atlasiet **Veidotājs**, lai pārskatītu formāta informāciju.</span><span class="sxs-lookup"><span data-stu-id="09c4a-183">Select **Designer** to review the format details.</span></span>
3. <span data-ttu-id="09c4a-184">Atlasiet **Rādīt detalizētu informāciju**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-184">Select **Show details**.</span></span>
4. <span data-ttu-id="09c4a-185">Pārskatiet ER formāta komponentu iestatījumus, kas ir konfigurēti tā, lai ģenerētu izejošo dokumentu XML formātā, kas ietver detalizētu informāciju par nodokļu darbībām:</span><span class="sxs-lookup"><span data-stu-id="09c4a-185">Review the settings of the ER format components that are configured to generate an outbound document in XML format that includes details of the tax transactions:</span></span>

    - <span data-ttu-id="09c4a-186">XML elements **Pārskats\\Ziņojums** ir konfigurēts tā, lai aizpildītu izejošo dokumentu ar vienu mezglu, kas ietver ligzdotos XML elementus (**Virsraksts**, **Ieraksts** un **Kopsavilkums**).</span><span class="sxs-lookup"><span data-stu-id="09c4a-186">The **Report\\Message** XML element is configured to fill the outbound document with a single node that includes the nested XML elements (**Header**, **Record**, and **Summary**).</span></span>
    - <span data-ttu-id="09c4a-187">XML elements **Pārskats\\Ziņojums\\Virsraksts** ir konfigurēts tā, lai aizpildītu izejošo dokumentu ar vienu virsraksta mezglu, kas parāda apstrādes sākšanas datumu un laiku.</span><span class="sxs-lookup"><span data-stu-id="09c4a-187">The **Report\\Message\\Header** XML element is configured to fill the outbound document with a single header node that shows the date and time when the processing starts.</span></span>
    - <span data-ttu-id="09c4a-188">XML formāta elements **Pārskats \\Ziņojums\\Ieraksts** ir konfigurēts tā, lai aizpildītu izejošo dokumentu ar vienu ieraksta mezglu, kas parāda detalizētu informāciju par vienu nodokļu darbību.</span><span class="sxs-lookup"><span data-stu-id="09c4a-188">The **Report \\Message\\Record** XML element is configured to fill the outbound document with a single record node that shows the details of a single tax transaction.</span></span>
    - <span data-ttu-id="09c4a-189">XML elements **Pārskats\\Ziņojums\\Kopsavilkums** ir konfigurēts tā, lai aizpildītu izejošo dokumentu ar vienu kopsavilkuma mezglu, kas ietver nodokļu vērtību kopsummu no apstrādātām nodokļu darbībām.</span><span class="sxs-lookup"><span data-stu-id="09c4a-189">The **Report\\Message\\Summary** XML element is configured to fill the outbound document with a single summary node that includes the sum of the tax values from the processed tax transactions.</span></span>

    ![Ziņojuma XML formāta elements un ligzdotie XML elementi lapā Formāta veidotājs](./media/ER-DeferredXml-Format.png)

5. <span data-ttu-id="09c4a-191">Cilnē **Kartēšana** pārskatiet tālāk norādīto informāciju.</span><span class="sxs-lookup"><span data-stu-id="09c4a-191">On the **Mapping** tab, review the following details:</span></span>

    - <span data-ttu-id="09c4a-192">Lai izveidotu vienu mezglu izejošajā dokumentā, elementam **Pārskats\\Ziņojums\\Virsraksts** nav jābūt saistītam ar datu avotu.</span><span class="sxs-lookup"><span data-stu-id="09c4a-192">The **Report\\Message\\Header** element doesn't have to be bound to a source to generate a single node in an outbound document.</span></span>
    - <span data-ttu-id="09c4a-193">Atribūts **IzpildesDatumsLaiks** ģenerē datumu un laiku (tostarp milisekundēs), kad tiek pievienots virsraksta mezgls.</span><span class="sxs-lookup"><span data-stu-id="09c4a-193">The **ExecutionDateTime** attribute generates the date and time (including milliseconds) when the header node is added.</span></span>
    - <span data-ttu-id="09c4a-194">Elements **Pārskats\\Ziņojums\\Ieraksts** ir piesaistīts sarakstam **model.Data.List**, lai ģenerētu vienu ieraksta mezglu katram saistītā saraksta ierakstam.</span><span class="sxs-lookup"><span data-stu-id="09c4a-194">The **Report\\Message\\Record** element is bound to the **model.Data.List** list to generate a single record node for every record from the bound list.</span></span>
    - <span data-ttu-id="09c4a-195">Atribūts **TaxAmount** ir saistīts ar **model.Data.List.Value**, (kas tiek rādīta kā **\@.Vērtība** relatīvā ceļa skatā), lai ģenerētu pašreizējās nodokļu darbības nodokļu vērtību.</span><span class="sxs-lookup"><span data-stu-id="09c4a-195">The **TaxAmount** attribute is bound to **model.Data.List.Value** (which is shown as **\@.Value** in the relative path view) to generate the tax value of the current tax transaction.</span></span>
    - <span data-ttu-id="09c4a-196">Artibūts **RunningTotal** ir vietturis nodokļu vērtību pašreizējai kopsummai.</span><span class="sxs-lookup"><span data-stu-id="09c4a-196">The **RunningTotal** attribute is a placeholder for the running total of the tax values.</span></span> <span data-ttu-id="09c4a-197">Pašlaik šim atribūtam nav izvades, jo tam nav konfigurēts ne saistījums, ne noklusētā vērtība.</span><span class="sxs-lookup"><span data-stu-id="09c4a-197">Currently, this attribute has no output, because neither a binding nor a default value is configured for it.</span></span>
    - <span data-ttu-id="09c4a-198">Atribūts **ExecutionDateTime** ģenerē datumu un laiku (tostarp milisekundes), kad šajā pārskatā tiek apstrādāta pašreizējā darbība.</span><span class="sxs-lookup"><span data-stu-id="09c4a-198">The **ExecutionDateTime** attribute generates the date and time (including milliseconds) when the current transaction is processed in this report.</span></span>
    - <span data-ttu-id="09c4a-199">Lai izveidotu vienu mezglu izejošajā dokumentā, elementam **Pārskats\\Ziņojums\\Kopsavilkums** nav jābūt saistītam ar datu avotu.</span><span class="sxs-lookup"><span data-stu-id="09c4a-199">The **Report\\Message\\Summary** element doesn't have to be bound to a data source to generate a single node in an outbound document.</span></span>
    - <span data-ttu-id="09c4a-200">Atribūts **TotalTaxAmount** ir saistīts ar **model.Data.Summary.Tota**, lai ģenerētu apstrādāto nodokļu darbību nodokļu vērtību summu.</span><span class="sxs-lookup"><span data-stu-id="09c4a-200">The **TotalTaxAmount** attribute is bound to **model.Data.Summary.Total** to generate the sum of the tax values of the processed tax transactions.</span></span>
    - <span data-ttu-id="09c4a-201">Atribūts **IzpildesDatumsLaiks** ģenerē datumu un laiku (tostarp milisekundēs), kad tiek pievienots kopsavilkuma mezgls.</span><span class="sxs-lookup"><span data-stu-id="09c4a-201">The **ExecutionDateTime** attribute generates the date and time (including milliseconds) when the summary node is added.</span></span>

    ![Cilne Kartēšana formāta veidotāja lapā](./media/ER-DeferredXml-Format2.png)

### <a name="run-the-imported-format"></a><span data-ttu-id="09c4a-203">Importētā formāta palaišana</span><span class="sxs-lookup"><span data-stu-id="09c4a-203">Run the imported format</span></span>

1. <span data-ttu-id="09c4a-204">Lapā **Formāta veidotājs** atlasiet **Palaist**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-204">On the **Format designer** page, select **Run**.</span></span>
2. <span data-ttu-id="09c4a-205">Lejupielādējiet failu, ko piedāvā tīmekļa pārlūkprogramma, un atveriet to pārskatīšanai.</span><span class="sxs-lookup"><span data-stu-id="09c4a-205">Download the file that the web browser offers, and open it for review.</span></span>

    ![Lejupielādēts fails](./media/ER-DeferredXml-Run.png)

<span data-ttu-id="09c4a-207">Ievērojiet, ka kopsavilkuma mezgls parāda apstrādāto darbību nodokļu vērtību summu.</span><span class="sxs-lookup"><span data-stu-id="09c4a-207">Notice that the summary node presents the sum of the tax values for the processed transactions.</span></span> <span data-ttu-id="09c4a-208">Tā kā formāts ir konfigurēts, lai šīs summas atgriešanai izmantotu saistījumu **cmodel.Data.Summary.Total**, summa tiek aprēķināta, izsaucot **GroupBy** modeļa kartēšanas tipa **Grupētā** datu avota *TotalSum* apkopojumu.</span><span class="sxs-lookup"><span data-stu-id="09c4a-208">Because the format is configured to use the **model.Data.Summary.Total** binding to return this sum, the sum is calculated by calling the **TotalSum** aggregation of the **Grouped** data source of the *GroupBy* type in the model mapping.</span></span> <span data-ttu-id="09c4a-209">Lai aprēķinātu šo apkopojumu, modeļa kartēšana atkārto visas darbības, kas ir atlasītas **Filtrētajā** datu avotā.</span><span class="sxs-lookup"><span data-stu-id="09c4a-209">To calculate this aggregation, the model mapping iterates over all transactions that have been selected in the **Filtered** data source.</span></span> <span data-ttu-id="09c4a-210">Salīdzinot kopsavilkuma mezgla un pēdējā ieraksta mezgla izpildes laikus, varat noteikt, ka summas aprēķins tika veikts 12 milisekundēs (MS).</span><span class="sxs-lookup"><span data-stu-id="09c4a-210">By comparing the execution times of the summary node and the last record node, you can determine that calculation of the sum took 12 milliseconds (ms).</span></span> <span data-ttu-id="09c4a-211">Salīdzinot pirmā un pēdējā ieraksta mezgla izpildes laikus, varat noteikt, ka visu ierakstu mezglu ģenerēšana tika veikta 9 milisekundēs(ms).</span><span class="sxs-lookup"><span data-stu-id="09c4a-211">By comparing the execution times of the first and last record nodes, you can determine that generation of all record nodes took 9 ms.</span></span> <span data-ttu-id="09c4a-212">Tāpēc kopā bija nepieciešamas 21 ms.</span><span class="sxs-lookup"><span data-stu-id="09c4a-212">Therefore, a total of 21 ms was required.</span></span>

### <a name="modify-the-format-so-that-the-calculation-is-based-on-generated-output"></a><span data-ttu-id="09c4a-213">Formāta modificēšana, lai aprēķināšanas pamatā būtu ģenerētā izvade</span><span class="sxs-lookup"><span data-stu-id="09c4a-213">Modify the format so that the calculation is based on generated output</span></span>

<span data-ttu-id="09c4a-214">Ja darbības apjoms ir daudz plašāks par apjomu dotajā piemērā, aprēķināšanas laiks var palielināties un izraisīt veiktspējas problēmas.</span><span class="sxs-lookup"><span data-stu-id="09c4a-214">If the volume of transaction is much larger than the volume in the current example, the calculation time might increase and cause performance issues.</span></span> <span data-ttu-id="09c4a-215">Mainot formāta iestatījumu, var palīdzēt novērst šīs veiktspējas problēmas.</span><span class="sxs-lookup"><span data-stu-id="09c4a-215">By changing the setting of the format, you can help prevent these performance issues.</span></span> <span data-ttu-id="09c4a-216">Tā kā jūs piekļūstat nodokļu vērtībām, lai tās iekļautu ģenerētajā pārskatā, varat atkārtoti izmantot šo informāciju nodokļu vērtību aprēķināšanai.</span><span class="sxs-lookup"><span data-stu-id="09c4a-216">Because you access tax values to include them in the generated report, you can reuse this information to calculate tax values.</span></span> <span data-ttu-id="09c4a-217">Plašāku informāciju skatiet [Konfigurēt formātu, lai veiktu uzskaiti un summēšanu](./tasks/er-format-counting-summing-1.md).</span><span class="sxs-lookup"><span data-stu-id="09c4a-217">For more information, see [Configure format to do counting and summing](./tasks/er-format-counting-summing-1.md).</span></span>

1. <span data-ttu-id="09c4a-218">Lapas **Formāta veidotājs** cilnē **Formāts**, formātu kokā atlasiet faila elementu **Pārskats**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-218">On the **Format designer** page, on the **Format** tab, select the **Report** file element in the format tree.</span></span>
2. <span data-ttu-id="09c4a-219">Atlasiet opcijai **Apkopot izvades datus** iestatījumu **Jā**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-219">Set the **Collect output details** option to **Yes**.</span></span> <span data-ttu-id="09c4a-220">Tagad varat konfigurēt šo formātu, izmantojot ģēnerētā pārskata saturu kā datu avotu, kam var piekļūt, izmantojot iebūvētās ER funkcijas [Datu vākšanas](er-functions-category-data-collection.md) kategorijā.</span><span class="sxs-lookup"><span data-stu-id="09c4a-220">You can now configure this format by using the content of a generated report as a data source that can be accessed by using the built-in ER functions in the [Data collection](er-functions-category-data-collection.md) category.</span></span>
3. <span data-ttu-id="09c4a-221">Cilnē **Kartēšana** atlasiet XML elementu **Pārskats\\Ziņojums\\Ieraksts**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-221">On the **Mapping** tab, select the **Report\\Message\\Record** XML element.</span></span>
4. <span data-ttu-id="09c4a-222">Konfigurējiet izteiksmi **Apkopoto datu atslēgas nosaukums** kā `WsColumn`.</span><span class="sxs-lookup"><span data-stu-id="09c4a-222">Configure the **Collected data key name** expression as `WsColumn`.</span></span>
5. <span data-ttu-id="09c4a-223">Konfigurējiet izteiksmi **Apkopoto datu atslēgas vērtība** kā `WsRow`.</span><span class="sxs-lookup"><span data-stu-id="09c4a-223">Configure the **Collected data key value** expression as `WsRow`.</span></span>

    ![Ieraksta XML elements lapā Formāta veidotājs](./media/ER-DeferredXml-Format3.png)

6. <span data-ttu-id="09c4a-225">Atlasiet atribūtu **Pārskats\\Ziņojums\\Ieraksts\\TaxAmount**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-225">Select the **Report\\Message\\Record\\TaxAmount** attribute.</span></span>
7. <span data-ttu-id="09c4a-226">Konfigurējiet izteiksmi **Apkopoto datu atslēgas nosaukums** kā `SummingAmountKey`.</span><span class="sxs-lookup"><span data-stu-id="09c4a-226">Configure the **Collected data key name** expression as `SummingAmountKey`.</span></span>

    ![TaxAmount atribūts lapā Formāta veidotājs](./media/ER-DeferredXml-Format4.png)

    <span data-ttu-id="09c4a-228">Varat apsvērt šo iestatījumu kā virtuālās darblapas izpildi, kur šūnas A1 vērtība tiek piesaistīta ar nodokļu summas vērtību no katras apstrādātās nodokļu darbības.</span><span class="sxs-lookup"><span data-stu-id="09c4a-228">You can consider this setting the fulfillment of a virtual worksheet, where the value of cell A1 is appended with the value of the tax amount from every processed tax transaction.</span></span>

8. <span data-ttu-id="09c4a-229">Atlasiet atribūtu **Pārskats\\Ziņojums\\Ieraksts\\RunningTotal** un pēc tam atlasiet **Rediģēt formulu**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-229">Select the **Report\\Message\\Record\\RunningTotal** attribute, and then select **Edit formula**.</span></span>
9. <span data-ttu-id="09c4a-230">Konfigurējiet izteiksmi `SUMIF(SummingAmountKey, WsColumn, WsRow)`, izmantojot iebūvēto ER funkciju [SUMIF](er-functions-datacollection-sumif.md) un pēc tam atlasiet **Saglabāt**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-230">Configure the `SUMIF(SummingAmountKey, WsColumn, WsRow)` expression by using the built-in [SUMIF](er-functions-datacollection-sumif.md) ER function, and then select **Save**.</span></span>

    ![SUMIF izteiksme](./media/ER-DeferredXml-FormulaDesigner.png)

10. <span data-ttu-id="09c4a-232">Aizveriet lapu **Formāta veidotājs**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-232">Close the **Formula designer** page.</span></span>
11. <span data-ttu-id="09c4a-233">Atlasiet **Saglabāt** un pēc tam atlasiet **Palaist**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-233">Select **Save**, and then select **Run**.</span></span>
12. <span data-ttu-id="09c4a-234">Lejupielādējiet un pārskatiet failu, ko piedāvā tīmekļa pārlūkprogramma.</span><span class="sxs-lookup"><span data-stu-id="09c4a-234">Download and review the file that the web browser offers.</span></span>

    ![Lejupielādēts fails](./media/ER-DeferredXml-Run1.png)

    <span data-ttu-id="09c4a-236">Pēdējā ieraksta mezglā ir iekļauta nodokļu vērtību pašreizējā kopsumma, kas tiek aprēķināta visām apstrādātajām darbībām, izmantojot ģenerēto izvadi kā datu avotu.</span><span class="sxs-lookup"><span data-stu-id="09c4a-236">The last record node contains the running total of tax values that is calculated for all processed transactions by using the generated output as a data source.</span></span> <span data-ttu-id="09c4a-237">Šis datu avots sākas no pārskata sākuma un turpinās, aplūkojot pēdējo nodokļu darbību.</span><span class="sxs-lookup"><span data-stu-id="09c4a-237">This data source starts from the beginning of the report and continues through the last tax transaction.</span></span> <span data-ttu-id="09c4a-238">Kopsavilkuma mezglā ir iekļauta visu apstrādāto darbību nodokļu vērtību summa, kas tiek aprēķināta modeļa kartēšanā, izmantojot *GroupBy* tipa datu avotu.</span><span class="sxs-lookup"><span data-stu-id="09c4a-238">The summary node contains the sum of the tax values for all processed transactions that are calculated in the model mapping by using the data source of the *GroupBy* type.</span></span> <span data-ttu-id="09c4a-239">Ievērojiet, ka šīs vērtības ir vienādas.</span><span class="sxs-lookup"><span data-stu-id="09c4a-239">Notice that these values are equal.</span></span> <span data-ttu-id="09c4a-240">Tādēļ **GroupBy**vietā var izmantot uz izvadi balstītu summēšanu.</span><span class="sxs-lookup"><span data-stu-id="09c4a-240">Therefore, the output-based summing can be used instead of **GroupBy**.</span></span> <span data-ttu-id="09c4a-241">Salīdzinot pirmā ieraksta mezgla un kopsavilkuma mezgla izpildes laikus, varat noteikt, ka visu ierakstu mezglu ģenerēšana un summēšana tika veikta 11 milisekundēs(ms).</span><span class="sxs-lookup"><span data-stu-id="09c4a-241">By comparing the execution times of the first record node and the summary node, you can determine that generation of all the record nodes and summing took 11 ms.</span></span> <span data-ttu-id="09c4a-242">Tāpēc, ciktāl tas attiecas uz ieraksta mezglu ģenerēšanu un nodokļu vērtību summēšanu, modificētais formāts ir aptuveni divas reizes ātrāks nekā sākotnējais formāts.</span><span class="sxs-lookup"><span data-stu-id="09c4a-242">Therefore, as far as the generation of record nodes and the summing of tax values are concerned, the modified format is approximately two times faster than the original format.</span></span>

13. <span data-ttu-id="09c4a-243">Atlasiet atribūtu **Pārskats\\Ziņojums\\Kopsavilkums\\TotalTaxAmount** un pēc tam atlasiet **Rediģēt formulu**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-243">Select the **Report\\Message\\Summary\\TotalTaxAmount** attribute, and then select **Edit formula**.</span></span>
14. <span data-ttu-id="09c4a-244">Ievadiet esošās izteiksmes vietā izteiksmi `SUMIF(SummingAmountKey, WsColumn, WsRow)`.</span><span class="sxs-lookup"><span data-stu-id="09c4a-244">Enter the `SUMIF(SummingAmountKey, WsColumn, WsRow)` expression instead of the existing expression.</span></span>
15. <span data-ttu-id="09c4a-245">Atlasiet **Saglabāt** un pēc tam atlasiet **Palaist**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-245">Select **Save**, and then select **Run**.</span></span>
16. <span data-ttu-id="09c4a-246">Lejupielādējiet un pārskatiet failu, ko piedāvā tīmekļa pārlūkprogramma.</span><span class="sxs-lookup"><span data-stu-id="09c4a-246">Download and review the file that the web browser offers.</span></span>

    ![Lejupielādēts fails](./media/ER-DeferredXml-Run2.png)

    <span data-ttu-id="09c4a-248">Ievērojiet, ka nodokļu vērtību pašreizējā kopsumma pēdējā ieraksta mezglā tagad ir vienāda ar summu kopsavilkuma rindā.</span><span class="sxs-lookup"><span data-stu-id="09c4a-248">Notice that the running total of tax values in the last record node now equals the sum in the summary node.</span></span>

### <a name="put-values-of-output-based-summing-in-the-report-header"></a><span data-ttu-id="09c4a-249">Izvadē balstītas summēšanas vērtību izvietošana pārskata galvenē</span><span class="sxs-lookup"><span data-stu-id="09c4a-249">Put values of output-based summing in the report header</span></span>

<span data-ttu-id="09c4a-250">Piemēram, varat modificēt formātu, ja pārskata galvenē jāuzrāda nodokļu vērtību summa.</span><span class="sxs-lookup"><span data-stu-id="09c4a-250">If, for example, you must present the sum of tax values in the header of your report, you can modify your format.</span></span>

1. <span data-ttu-id="09c4a-251">Lapas **Formāta veidotājs** cilnē **Formāts** atlasiet XML elementu **Pārskats\\Ziņojums\\Kopsavilkums**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-251">On the **Format designer** page, on the **Format** tab, select the **Report\\Message\\Summary** XML element.</span></span>
2. <span data-ttu-id="09c4a-252">Atlasiet **Pārvietot uz augšu**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-252">Select **Move up**.</span></span>
3. <span data-ttu-id="09c4a-253">Atlasiet **Saglabāt** un pēc tam atlasiet **Palaist**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-253">Select **Save**, and then select **Run**.</span></span>
4. <span data-ttu-id="09c4a-254">Lejupielādējiet un pārskatiet failu, ko piedāvā tīmekļa pārlūkprogramma.</span><span class="sxs-lookup"><span data-stu-id="09c4a-254">Download and review the file that the web browser offers.</span></span>

    ![Lejupielādēts fails](./media/ER-DeferredXml-Run3.png)

    <span data-ttu-id="09c4a-256">Ievērojiet, ka kopsavilkuma mezglā nodokļu vērtību summas tagad ir vienādas ar 0 (nulli), jo šī summa tagad tiek aprēķināta, pamatojoties uz ģenerēto izvadi.</span><span class="sxs-lookup"><span data-stu-id="09c4a-256">Notice that the sum of tax values in the summary node now equals 0 (zero), because this sum is now calculated based on the generated output.</span></span> <span data-ttu-id="09c4a-257">Kad tiek ģenerēts pirmais ieraskta mezgls, ģenerētā izvade vēl neietver ierakstu mezglus, kuriem ir detalizēta informācija par darbību.</span><span class="sxs-lookup"><span data-stu-id="09c4a-257">When the first record node is generated, the generated output doesn't yet contain record nodes that have transaction details.</span></span> <span data-ttu-id="09c4a-258">Varat konfigurēt šo formātu, lai atliktu elementa **Pārskats\\Ziņojums\\Kopsavilkums** izpildi, līdz visām nodokļu darbībām tiek palaists elements **Pārskats\\Ziņojums\\Ieraksts**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-258">You can configure this format to defer the execution of the **Report\\Message\\Summary** element until the **Report\\Message\\Record** element has been run for all tax transactions.</span></span>

### <a name="defer-the-execution-of-the-summary-xml-element-so-that-the-calculated-total-is-used"></a><span data-ttu-id="09c4a-259">Kopsavilkuma XML elementa izpildes atlikšana, lai tiktu izmantota aprēķinātā kopsumma</span><span class="sxs-lookup"><span data-stu-id="09c4a-259">Defer the execution of the summary XML element so that the calculated total is used</span></span>

1. <span data-ttu-id="09c4a-260">Lapas **Formāta veidotājs** cilnē **Formāts** atlasiet XML elementu **Pārskats\\Ziņojums\\Kopsavilkums**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-260">On the **Format designer** page, on the **Format** tab, select the **Report\\Message\\Summary** XML element.</span></span>
2. <span data-ttu-id="09c4a-261">Atlasiet opcijai **Atliktā izpilde** iestatījumu **Jā**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-261">Set the **Deferred execution** option to **Yes**.</span></span>

    ![Atlikta kopsavilkuma XML elementa izpildes opcija lapā Formāta veidotājs](./media/ER-DeferredXml-Format5.png)

3. <span data-ttu-id="09c4a-263">Atlasiet **Saglabāt** un pēc tam atlasiet **Palaist**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-263">Select **Save**, and then select **Run**.</span></span>
4. <span data-ttu-id="09c4a-264">Lejupielādējiet un pārskatiet failu, ko piedāvā tīmekļa pārlūkprogramma.</span><span class="sxs-lookup"><span data-stu-id="09c4a-264">Download and review the file that the web browser offers.</span></span>

    ![Lejupielādēts fails](./media/ER-DeferredXml-Run4.png)

    <span data-ttu-id="09c4a-266">Elements **Pārskats\\Ziņojumi\\Kopsavilkums** tagad tiek palaists tikai pēc tam, kad ir palaisti visi pārējie krājumi, kas ligzdoti zem tā pamatelementa **Pārskats\\Ziņojums**.</span><span class="sxs-lookup"><span data-stu-id="09c4a-266">The **Report\\Message\\Summary** element is now run only after all other items that are nested under its parent element, **Report\\Message**, have been run.</span></span> <span data-ttu-id="09c4a-267">Tādēļ tas tiek palaists pēc elementa **Pārskats\\Ziņojums\\Ieraksts** palaišanas visām datu avota **model.Data.List** nodokļu darbībām.</span><span class="sxs-lookup"><span data-stu-id="09c4a-267">Therefore, it's run after the **Report\\Message\\Record** element has been run for all tax transactions of the **model.Data.List** data source.</span></span> <span data-ttu-id="09c4a-268">Šo faktu atklāj pirmā un pēdējā ieraksta mezglu izpildes laiki, kā ari virsraksti un kopsavilkuma mezgli.</span><span class="sxs-lookup"><span data-stu-id="09c4a-268">The execution times of the first and last record nodes, and of the header and summary nodes, reveal this fact.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="09c4a-269">Papildu resursi</span><span class="sxs-lookup"><span data-stu-id="09c4a-269">Additional resources</span></span>

- [<span data-ttu-id="09c4a-270">Konfigurēt formātu, lai veiktu uzskaiti un summēšanu</span><span class="sxs-lookup"><span data-stu-id="09c4a-270">Configure format to do counting and summing</span></span>](./tasks/er-format-counting-summing-1.md)
- [<span data-ttu-id="09c4a-271">ER formāta izpildes izsekošana, lai novērstu veiktspējas problēmas</span><span class="sxs-lookup"><span data-stu-id="09c4a-271">Trace execution of ER format to troubleshoot performance issues</span></span>](trace-execution-er-troubleshoot-perf.md)
- [<span data-ttu-id="09c4a-272">Secības elementu izpildes atlikšana ER formātos</span><span class="sxs-lookup"><span data-stu-id="09c4a-272">Defer the execution of sequence elements in ER formats</span></span>](er-defer-sequence-element.md#Example)
