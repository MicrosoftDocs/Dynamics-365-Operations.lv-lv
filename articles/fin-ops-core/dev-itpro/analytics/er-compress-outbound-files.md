---
title: Elektroniskajos pārskatos ģenerētu dokumentu saspiešana
description: Šajā tēmā ir paskaidrots, kā saspiest lielus dokumentus, kas tiek ģenerēti, izmantojot elektronisko pārskatu (ER) formātu.
author: NickSelin
ms.date: 09/11/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: EROperationDesigner, ERFormatDestinationTable
audience: Application User, IT Pro
ms.reviewer: kfend
ms.custom: 58771
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2020-01-01
ms.dyn365.ops.version: AX 10.0.9
ms.openlocfilehash: 899af54fbe34841c9b9b6e96b78db96773cf0203
ms.sourcegitcommit: 951393b05bf409333cb3c7ad977bcaa804aa801b
ms.translationtype: HT
ms.contentlocale: lv-LV
ms.lasthandoff: 04/13/2021
ms.locfileid: "5894176"
---
# <a name="compress-large-documents-that-are-generated-in-electronic-reporting"></a><span data-ttu-id="9a7aa-103">Elektroniskajos pārskatos ģenerētu dokumentu saspiešana</span><span class="sxs-lookup"><span data-stu-id="9a7aa-103">Compress large documents that are generated in Electronic reporting</span></span> 

[!include [banner](../includes/banner.md)]

<span data-ttu-id="9a7aa-104">Varat izmantot [elektronisko pārskatu (ER) veidošanas struktūru](general-electronic-reporting.md), lai konfigurētu risinājumu, kas ienes transakciju datus, lai ģenerētu izejošo dokumentu.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-104">You can use the [Electronic reporting (ER) framework](general-electronic-reporting.md) to configure a solution that fetches transactional data to generate an outbound document.</span></span> <span data-ttu-id="9a7aa-105">Ģenerētais dokuments var būt diezgan liels.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-105">This generated document might be quite large.</span></span> <span data-ttu-id="9a7aa-106">Ģenerējot šī veida dokumentu, tiek izmantota [Lietojumprogrammas objektu servera (AOS)](../dev-tools/access-instances.md#location-of-packages-source-code-and-other-aos-configurations) atmiņa, lai to uzglabātu.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-106">When this type of document is generated, the [Application Object Server (AOS)](../dev-tools/access-instances.md#location-of-packages-source-code-and-other-aos-configurations) memory is used to hold it.</span></span> <span data-ttu-id="9a7aa-107">Kādā brīdī pēc tam dokuments ir jālejupielādē no Microsoft Dynamics 365 Finance programmas.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-107">At some point, the document must then be downloaded from your Microsoft Dynamics 365 Finance application.</span></span> <span data-ttu-id="9a7aa-108">Pašlaik maksimālais viena elektroniskā pārskata ģenerēta dokumenta lielums ir ierobežots līdz 2 gigabaitiem (GB).</span><span class="sxs-lookup"><span data-stu-id="9a7aa-108">Currently, the maximum size of a single document that is generated in ER is limited to 2 gigabytes (GB).</span></span> <span data-ttu-id="9a7aa-109">Savukārt, Finance pašlaik [ierobežo](https://fix.lcs.dynamics.com/Issue/Details?kb=4569432&bugId=453907&dbType=3) lejupielādējamo failu lielumu līdz 1 GB.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-109">Additionally, Finance currently [limits](https://fix.lcs.dynamics.com/Issue/Details?kb=4569432&bugId=453907&dbType=3) the size of a downloaded file to 1 GB.</span></span> <span data-ttu-id="9a7aa-110">Tāpēc ir jākonfigurē elektronisko pārskatu risinājums, kas samazina iespējamību, ka šie ierobežojumi tiks pārsniegti un ka jūs saņemsit izņēmumu **Straume bija pārāk gara** vai **Pārpilde vai izzude aritmētiskajā operācijā**.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-110">Therefore, you must configure an ER solution that reduces the likelihood that these limitations will be exceeded, and that you will receive a **Stream was too long** or **Overflow or underflow in the arithmetic operation** exception.</span></span>

<span data-ttu-id="9a7aa-111">Konfigurējot risinājumu, varat pielāgot savu elektronisko pārskatu formātu operāciju noformētājā, pievienojot **Mapes** veida saknes elementu, lai saspiestu saturu, kas tiek ģenerēts ar to ligzdotajiem elementiem.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-111">When you configure a solution, you can adjust your ER format in the Operations designer by adding a root element of the **Folder** type to compress the content that is generated by any of its nested elements.</span></span> <span data-ttu-id="9a7aa-112">Saspiešana darbojas “tieši laikā”, tādējādi samazinot maksimālo atmiņas izmantojumu un lejupielādējamā faila lielumu.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-112">Compression works "just in time," so that peak memory usage and the size of the file that will be downloaded can be reduced.</span></span>

> [!NOTE]
> <span data-ttu-id="9a7aa-113">Failu saspiešana aizņem papildu procentus no centrālā procesora lietojuma.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-113">File compression takes an additional percentage of CPU usage.</span></span>

<span data-ttu-id="9a7aa-114">Papildinformācijai par šo pieeju, aizpildiet šajā tēmā sniegto piemēru.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-114">For more information about this approach, complete the example in this topic.</span></span>

## <a name="example-compress-an-outbound-document"></a><span data-ttu-id="9a7aa-115">Piemērs: izejoša dokumenta saspiešana</span><span class="sxs-lookup"><span data-stu-id="9a7aa-115">Example: Compress an outbound document</span></span>

<span data-ttu-id="9a7aa-116">Šajā piemērā ir parādīts, kā lietotājs, kuram ir piešķirta loma **Sistēmas administrators** vai **Elektronisko pārskatu veidošanas funkcionālais konsultants**, var konfigurēt elektronisko pārskatu formātu, lai saspiestu ģenerētu dokumentu.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-116">This example shows how a user who is assigned to the **System administrator** or **Electronic reporting functional consultant** role can configure an ER format to compress a generated document.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="9a7aa-117">Priekšnosacījumi</span><span class="sxs-lookup"><span data-stu-id="9a7aa-117">Prerequisites</span></span>

<span data-ttu-id="9a7aa-118">Lai varētu pabeigt procedūras šajā tēmā, ir jāveic tālāk norādītās darbības.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-118">Before you complete the procedures in this topic, the following steps must be completed.</span></span>

1. <span data-ttu-id="9a7aa-119">[Aktivizēt konfigurāciju nodrošinātāju](er-defer-xml-element.md#activate-a-configuration-provider).</span><span class="sxs-lookup"><span data-stu-id="9a7aa-119">[Activate a configuration provider](er-defer-xml-element.md#activate-a-configuration-provider).</span></span>
2. <span data-ttu-id="9a7aa-120">[Importēt ER konfigurāciju failu paraugu](er-defer-xml-element.md#import-the-sample-er-configurations).</span><span class="sxs-lookup"><span data-stu-id="9a7aa-120">[Import the sample ER configurations](er-defer-xml-element.md#import-the-sample-er-configurations).</span></span>
3. <span data-ttu-id="9a7aa-121">[Pārskatīt importēto formātu](er-defer-xml-element.md#review-the-imported-format).</span><span class="sxs-lookup"><span data-stu-id="9a7aa-121">[Review the imported format](er-defer-xml-element.md#review-the-imported-format).</span></span>

> [!NOTE]
> <span data-ttu-id="9a7aa-122">Pašlaik formāta struktūra sākas no **Faila** veida **Pārskata** elementa un satur XML elementus.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-122">Currently, the format structure starts from the **Report** element of the **File** type and contains XML elements.</span></span> <span data-ttu-id="9a7aa-123">Tādējādi izejošais dokuments tiks ģenerēts XML formātā un saspiešana netiks izmantota.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-123">Therefore, an outbound document will be generated in XML format, and no compression will be used.</span></span>

### <a name="generate-an-er-format-to-get-an-uncompressed-document"></a><span data-ttu-id="9a7aa-124">Elektronisko pārskatu formāta ģenerēšana, lai iegūtu nesaspiestu dokumentu</span><span class="sxs-lookup"><span data-stu-id="9a7aa-124">Generate an ER format to get an uncompressed document</span></span>

1. <span data-ttu-id="9a7aa-125">[Importētā formāta palaišana](er-defer-xml-element.md#run-the-imported-format).</span><span class="sxs-lookup"><span data-stu-id="9a7aa-125">[Run the imported format](er-defer-xml-element.md#run-the-imported-format).</span></span>
2. <span data-ttu-id="9a7aa-126">Ievērojiet, ka ģenerētā dokumenta lielums XML formātā ir 3 kilobaiti (KB).</span><span class="sxs-lookup"><span data-stu-id="9a7aa-126">Notice that the size of the generated document in XML format is 3 kilobytes (KB).</span></span>

    ![Nesaspiestā izejošā dokumenta priekšskatījums](./media/er-compress-outbound-files1.png)

### <a name="modify-the-format-to-compress-the-generated-output"></a><span data-ttu-id="9a7aa-128">Formāta modificēšana, lai saspiestu ģenerēto izvadi</span><span class="sxs-lookup"><span data-stu-id="9a7aa-128">Modify the format to compress the generated output</span></span>

1. <span data-ttu-id="9a7aa-129">Dodieties uz **Organizācijas administrēšana** \> **Elektronisko pārskatu veidošana** \> **Konfigurācijas**.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-129">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="9a7aa-130">Lapā **Konfigurācijas**, konfigurāciju kokā izvērsiet vienumu **Modelis atlikto elementu apgūšanai**.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-130">On the **Configurations** page, in the configuration tree, expand **Model to learn deferred elements**.</span></span>
3. <span data-ttu-id="9a7aa-131">Atlasiet konfigurāciju **Formāts atlikto XML elementu apgūšanai**.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-131">Select the **Format to learn deferred XML elements** configuration.</span></span>
4. <span data-ttu-id="9a7aa-132">Atlasiet **Noformētājs**, lai modificētu formāta struktūru.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-132">Select **Designer** to modify the format structure.</span></span>
5. <span data-ttu-id="9a7aa-133">Lapas **Formāta noformētājs** cilnē **Formāts** atlasiet **Pievienot sakni**, lai pievienotu saknes formāta elementu.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-133">On the **Format designer** page, on the **Format** tab, select **Add root** to add a root format element.</span></span>
6. <span data-ttu-id="9a7aa-134">Dialoglodziņā **Pievienot** atlasiet **Vispārīgi\\Mape**.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-134">In the **Add** dialog box, select **Common\\Folder**.</span></span>
7. <span data-ttu-id="9a7aa-135">Atlasiet **Labi**, lai apstiprinātu jauna saknes elementa pievienošanu.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-135">Select **OK** to confirm the addition of the new root element.</span></span>
8. <span data-ttu-id="9a7aa-136">Atlasiet **Saglabāt**.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-136">Select **Save**.</span></span>

> [!NOTE]
> <span data-ttu-id="9a7aa-137">Formāta struktūra sākas no **Mapes** veida elementa.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-137">The format structure starts from the element of the **Folder** type.</span></span> <span data-ttu-id="9a7aa-138">Šis elements ģenerēs izvadi kā saspiestu (zip) failu.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-138">This element will generate output as a compressed (zip) file.</span></span> <span data-ttu-id="9a7aa-139">Kad dokumentu, kas ģenerēts, izmantojot **Pārskata** elementu, ievieto izejošajā zip failā, tā saturs tiks saspiests, lai samazinātu izejošā faila lielumu.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-139">When a document that is generated by the **Report** element is put in an outbound zip file, its content will be compressed to reduce the size of the outbound file.</span></span>

### <a name="generate-an-er-format-to-get-a-compressed-document"></a><span data-ttu-id="9a7aa-140">Elektronisko pārskatu formāta ģenerēšana, lai iegūtu saspiestu dokumentu</span><span class="sxs-lookup"><span data-stu-id="9a7aa-140">Generate an ER format to get a compressed document</span></span>

1. <span data-ttu-id="9a7aa-141">Lapā **Formāta veidotājs** atlasiet **Palaist**.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-141">On the **Format designer** page, select **Run**.</span></span>
2. <span data-ttu-id="9a7aa-142">Lejupielādējiet zip failu, ko piedāvā tīmekļa pārlūkprogramma, un atveriet to pārskatīšanai.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-142">Download the zip file that the web browser offers, and open it for review.</span></span>
3. <span data-ttu-id="9a7aa-143">Ievērojiet, ka ģenerētā dokumenta lielums zip formātā ir 1 KB.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-143">Notice that the size of the generated document in ZIP format is 1 KB.</span></span>

    > [!NOTE] 
    > <span data-ttu-id="9a7aa-144">Šajā zip failā esošā XML faila saspiešanas koeficients ir 87 procenti.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-144">The compression ratio of the XML file that this zip file holds is 87 percent.</span></span> <span data-ttu-id="9a7aa-145">Saspiešanas koeficients ir atkarīgs no saspiestajiem datiem.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-145">The compression ratio depends on the data that is being compressed.</span></span>

    ![Saspiestā izejošā dokumenta priekšskatījums](./media/er-compress-outbound-files2.png)

> [!NOTE]
> <span data-ttu-id="9a7aa-147">Ja elektronisko pārskatu [galamērķis](electronic-reporting-destinations.md) ir konfigurēts formāta elementam, kas ģenerē izvadi ( **Pārskata** elementam šajā piemērā), tad izvades saspiešana tiks apieta.</span><span class="sxs-lookup"><span data-stu-id="9a7aa-147">If the ER [destination](electronic-reporting-destinations.md) is configured for the format element that generates output (the **Report** element in this example), compression of the output will be bypassed.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="9a7aa-148">Papildu resursi</span><span class="sxs-lookup"><span data-stu-id="9a7aa-148">Additional resources</span></span>

[<span data-ttu-id="9a7aa-149">Elektronisko pārskatu veidošanas (ER) apskats</span><span class="sxs-lookup"><span data-stu-id="9a7aa-149">Electronic reporting (ER) overview</span></span>](general-electronic-reporting.md)

[<span data-ttu-id="9a7aa-150">Elektroniskās pārskatu veidošanas (ER) adresāti</span><span class="sxs-lookup"><span data-stu-id="9a7aa-150">Electronic reporting (ER) destinations</span></span>](electronic-reporting-destinations.md)

[<span data-ttu-id="9a7aa-151">XML elementu izpildes atlikšana elektronisko pārskatu formātos</span><span class="sxs-lookup"><span data-stu-id="9a7aa-151">Defer the execution of XML elements in ER formats</span></span>](er-defer-xml-element.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]