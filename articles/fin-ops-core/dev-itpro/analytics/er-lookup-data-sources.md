---
title: Uzmeklēšanas datu avotu konfigurēšana, lai izmantotu elektronisko pārskatu programmai raksturīgos parametrus
description: Šajā tēmā izskaidrots, kā konfigurēt Uzmeklēšanas datu avotus elektroniskajo pārskatu (ER) formātos, lai varētu izmantot ER programmai specifiskos parametrus.
author: NickSelin
manager: AnnBe
ms.date: 04/02/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERSolutionTable, EROperationDesigner, ERLookupDesigner, ERComponentLookupStructureEditing
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-01-01
ms.dyn365.ops.version: Release 8.1.3
ms.openlocfilehash: 542580c859759c25da84589ec82495eb72bbcbe5
ms.sourcegitcommit: 74f5b04b482b2ae023c728e0df0eb78305493c6a
ms.translationtype: HT
ms.contentlocale: lv-LV
ms.lasthandoff: 04/02/2021
ms.locfileid: "5853525"
---
# <a name="configure-lookup-data-sources-to-use-er-application-specific-parameters"></a><span data-ttu-id="a4065-103">Uzmeklēšanas datu avotu konfigurēšana, lai izmantotu elektronisko pārskatu programmai raksturīgos parametrus</span><span class="sxs-lookup"><span data-stu-id="a4065-103">Configure Lookup data sources to use ER application-specific parameters</span></span> 

[!include[banner](../includes/banner.md)]

<span data-ttu-id="a4065-104">Programmai raksturīgo parametru līdzeklis [Elektronisko pārskatu veidošana (ER)](general-electronic-reporting.md) ļauj konfigurēt datu filtrēšanu ER formātā, lai tā būtu balstīta uz abstraktu kārtulu kopu.</span><span class="sxs-lookup"><span data-stu-id="a4065-104">The [Electronic reporting (ER)](general-electronic-reporting.md) application-specific parameters feature lets you configure data filtering in an ER format so that it's based on a set of abstract rules.</span></span> <span data-ttu-id="a4065-105">Šo kārtulu kopu var konfigurēt, lai izmantotu **Uzmeklēšanas** veida informācijas avotu, kas ir pieejams ER formātā.</span><span class="sxs-lookup"><span data-stu-id="a4065-105">This set of rules can be configured to use the data source of the **Lookup** type that is available in an ER format.</span></span> <span data-ttu-id="a4065-106">Pēc tam var noteikt reālās kārtulas ārpus ER komponentu izstrādātājiem, izmantojot lietotāja interfeisu (UI), kas tiek ģenerēts automātiski, pamatojoties uz atbilstošā ER formāta **Uzmeklēšanas** datu avota iestatījumiem un pašreizējo juridisko personu datiem.</span><span class="sxs-lookup"><span data-stu-id="a4065-106">You can then specify real rules beyond the ER components designers by using the user interface (UI) that is automatically generated based on the settings of the **Lookup** data source of the corresponding ER format and the current legal entity data.</span></span> <span data-ttu-id="a4065-107">Visbeidzot norādītajām kātulām piekļus ER formāta **Uzmeklēšanas** datu avots, kad tiks izpildīts šis ER formāts.</span><span class="sxs-lookup"><span data-stu-id="a4065-107">Eventually, the specified rules will be accessed by the ER format's **Lookup** data source when this ER format is executed.</span></span>

> [!NOTE]
> <span data-ttu-id="a4065-108">Izmantojiet rediģējama ER formāta konfigurētos datu avotus, lai norādītu, kādi programmas dati tiek izmantoti, lai konfigurētu reālās kārtulas.</span><span class="sxs-lookup"><span data-stu-id="a4065-108">Use the configured data sources of the editable ER format to specify what application data is used to configure real rules.</span></span>

<span data-ttu-id="a4065-109">Izmantojiet [ER operāciju veidotāju](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base), lai **Uzmeklēšanas** veida datu avotu novietotu savā ER formātā.</span><span class="sxs-lookup"><span data-stu-id="a4065-109">Use the [ER Operations designer](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base) to bring a data source of the **Lookup** type in to your ER format.</span></span> <span data-ttu-id="a4065-110">Datu avotam jābūt konfigurētam tā, lai aprakstītu jūsu abstrakto kārtulu izskatu, tostarp:</span><span class="sxs-lookup"><span data-stu-id="a4065-110">The data source must be configured to describe how your abstract rules look, including the following:</span></span>

   - <span data-ttu-id="a4065-111">Noteikta datu veida parametru kopa, kuras vērtība ir norādīta, lai norādītu vienu kārtulu.</span><span class="sxs-lookup"><span data-stu-id="a4065-111">The parameter set of certain data type whose value is provided to specify a single rule.</span></span>
   - <span data-ttu-id="a4065-112">Noteikta datu veida vērtības vaids, ko atgriež viena kārtula, ja šī kārtula citu starpā tiek uzskatīta par piemērotāko.</span><span class="sxs-lookup"><span data-stu-id="a4065-112">The value type of certain data type that is returned by a single rule when this rule is considered the most appropriate among others.</span></span>

<span data-ttu-id="a4065-113">Jūs varat konfigurēt sekojošos **Uzmeklēšanas** datu avotu veidus atkarībā no vērtības veida, ko atgrieza jebkura konfigurētā kārtula:</span><span class="sxs-lookup"><span data-stu-id="a4065-113">You can configure the following types of **Lookup** data sources depending on the type of value that is returned by any configured rule:</span></span>

   - <span data-ttu-id="a4065-114">Izmantojiet **Datu modeļa\Uzmeklēšanas** veidu, ja ir jāatgriež modeļa uzskaitījuma vērtība.</span><span class="sxs-lookup"><span data-stu-id="a4065-114">Use the **Data model\Lookup** type when a model enumeration value must be returned.</span></span>
   - <span data-ttu-id="a4065-115">Izmantojiet **Dynamics 365 operāciju\uzmeklēšanas** veidu, ja ir jāatgriež programmas uzskaitījuma vērtība vai programmas [paplašinātā datu veida](../extensibility/extensible-edts.md) vērtība.</span><span class="sxs-lookup"><span data-stu-id="a4065-115">Use the **Dynamics 365 Operations\Lookup** type when an application enumeration value or an application [extended data type](../extensibility/extensible-edts.md) value must be returned.</span></span>
   - <span data-ttu-id="a4065-116">Izmantojiet **Formatēt skaitīšanas\Uzmeklēšanas** veidu, ja ir jāatgriež formata uzskaitījuma vērtība.</span><span class="sxs-lookup"><span data-stu-id="a4065-116">Use the **Format enumeration\Lookup** type when a format enumeration value must be returned.</span></span>

<span data-ttu-id="a4065-117">Šajā attēlā parādīts, kā formāta uzskaitījumu var konfigurēt ER parauga formātā.</span><span class="sxs-lookup"><span data-stu-id="a4065-117">The following illustration shows how a format enumeration can be configured in the sample ER format.</span></span>

   ![Formāta uzskaitījuma rādīšana kā konfigurētā uzmeklēšanas datu avota pamats](./media/er-lookup-data-sources-img1.gif)

<span data-ttu-id="a4065-119">Šajā attēlā parādīti formāta komponenti, kas ir konfigurēti, lai ziņotu par dažādiem nodokļu veidiem citā ģenerētā pārskata sadaļā.</span><span class="sxs-lookup"><span data-stu-id="a4065-119">The following illustration shows the format components that were configured to report different type of taxes in a different section of a generated report.</span></span>

   ![Parāda formāta sadaļas, lai atsevišķi ziņotu dažādus nodokļu veidus](./media/er-lookup-data-sources-img2.png)

<span data-ttu-id="a4065-121">Šajā attēlā parādīts, kā ER operāciju veidotājs atļauj pievienot **Formāta uzskaitījuma\Uzmeklēšanas** veida datu avotu.</span><span class="sxs-lookup"><span data-stu-id="a4065-121">The following illustration shows how the ER Operations designer allows the addition of a data source of the **Format enumeration\Lookup** type.</span></span>  <span data-ttu-id="a4065-122">Pievienotais datu avots tiek konfigurēts kā atgrieza vērtību no `List of taxation levels` formāta uzskaitījuma.</span><span class="sxs-lookup"><span data-stu-id="a4065-122">The added data source is configured as returning a value of the `List of taxation levels` format enumeration.</span></span>

   ![Pievienot ER datu avotu formātu uzskaitījuma\uzmeklēšanas veidam](./media/er-lookup-data-sources-img3.gif)

<span data-ttu-id="a4065-124">Šajā attēlā parādīts, kā pievienotais datu avots ir konfigurēts, lai izmantotu datu avota **Modelis** ierakstu saraksta **Modelis.Dati.Nodoklis** lauku **Kods** kā parametru, kas jānorāda katrai konfigurētajai kārtulai.</span><span class="sxs-lookup"><span data-stu-id="a4065-124">The following illustration shows how the added data source is configured to use the **Code** field of the **Model.Data.Tax** record list of the **Model** data source as a parameter that must be specified for every configured rule.</span></span>

![Notiek formāta uzskaitījuma\uzmeklēšanas veida pievienoto datu avota parametru konfigurēšana](./media/er-lookup-data-sources-img4.gif)

<span data-ttu-id="a4065-126">Pievienotais `Model.Data.Tax` datu avots ir konfigurēts, lai norādītu nodokļu kodu katram konfigurētai kārtulai, piekļūstot pieteikuma tabulas **NodokļuTabula** ierakstiem.</span><span class="sxs-lookup"><span data-stu-id="a4065-126">The added `Model.Data.Tax` data source is configured to specify a tax code for every configured rule by accessing records of the **TaxTable** application table.</span></span>

   ![Formāta uzskaitījuma\uzmeklēšanas vaida viena uzņēmuma uzmeklēšanas datu avota pārskatīšana](./media/er-lookup-data-sources-img5.gif)

<span data-ttu-id="a4065-128">Varat iestatīt meklēšanas kārtulas atlasītajam ER formātam, izmantojot UI, kas ir automātiski saskaņots ar konfigurētā datu avota struktūru.</span><span class="sxs-lookup"><span data-stu-id="a4065-128">You can set up the lookup rules for the selected ER format by using the UI that is automatically aligned with the structure of the configured data source.</span></span> <span data-ttu-id="a4065-129">Pašreiz šim UI ir nepieciešams, lai katrai kārtulai norādītu atgriezto vērtību kā `List of taxation levels` formāta uzskaitījuma vērtību, kā arī nodokļu kodu kā parametru.</span><span class="sxs-lookup"><span data-stu-id="a4065-129">Currently, this UI requires that for each rule, you specify the returned value as the `List of taxation levels` format enumeration value as well as the tax code as a parameter.</span></span>

   ![Iestatīt konfigurētā datu avota kārtulas](./media/er-lookup-data-sources-img6.gif)

<span data-ttu-id="a4065-131">Šajā attēlā parādīts, kā **Aprēķinātā lauka** veida `Model.Data.Summary.LevelByLookup` datu avotu var konfigurēt, lai izsauktu konfigurēto **Uzmeklēšanas** datu avotu, kas sniedz nepieciešamos parametrus.</span><span class="sxs-lookup"><span data-stu-id="a4065-131">The following illustration shows how the `Model.Data.Summary.LevelByLookup` data source of the **Calculated field** type can be configured to call the configured **Lookup** data source providing the required parameters.</span></span> <span data-ttu-id="a4065-132">Lai apstrādātu šo izsaukumu izpildlaikā, ER iziet cauri konfigurēto kārtulu sarakstam definētajā secībā, lai atrastu pirmo kārtulu, kas atbilst norādītajiem nosacījumiem.</span><span class="sxs-lookup"><span data-stu-id="a4065-132">To process this call at runtime, ER goes through the list of configured rules in the defined sequence to locate the first rule that satisfies the provided conditions.</span></span> <span data-ttu-id="a4065-133">Šajā piemērā tā ir kārtula, kas satur nodokļu kodu, kas atbilst norādītajam.</span><span class="sxs-lookup"><span data-stu-id="a4065-133">In this example, it's the rule that contains the tax code that matches the provided one.</span></span> <span data-ttu-id="a4065-134">Rezultātā tiek atrasta vispiemērotākā kārtula un šis datu avots atgriež atrastajai kārtulai konfigurēto uzskaitījuma vērtību.</span><span class="sxs-lookup"><span data-stu-id="a4065-134">As the result, the most appropriate rule is found and the enumeration value that is configured for the found rule is returned by this data source.</span></span>

> [!NOTE]
> <span data-ttu-id="a4065-135">Ja nav atrasta neviena piemērojamā kārtula, rodas izņēmums.</span><span class="sxs-lookup"><span data-stu-id="a4065-135">An exception is thrown when no applicable rule is found.</span></span> <span data-ttu-id="a4065-136">Lai novērstu šos izņēmumus, kārtulu saraksta beigās konfigurējiet papildu kārtulas, lai apstrādātu gadījumus, kad ir norādīta nekonfigurēta vērtība vai arī vērtība nav sniegta.</span><span class="sxs-lookup"><span data-stu-id="a4065-136">To prevent these exceptions, configure additional rules at the end of the rules list to handle cases when a non-configured value or no value is provided.</span></span> <span data-ttu-id="a4065-137">Izmantojiet atbilstīgi opcijas **\*Nav tukšs\*** un **\*Tukšs\***.</span><span class="sxs-lookup"><span data-stu-id="a4065-137">Use the **\*Not blank**\* and **\*Blank**\* options accordingly.</span></span>  
>
> ![Pievienot datu avotu, lai izsauktu konfigurēto uzmeklēšanas datu avotu](./media/er-lookup-data-sources-img7.png)

<span data-ttu-id="a4065-139">Iestatot opciju **Starpuzņēmums** kā **Jā** rediģējamam uzmeklēšanas datu avotam, šai datu avota parametru kopai tiek pievienots jauns nepieciešamais parametrs **Uzņēmums**.</span><span class="sxs-lookup"><span data-stu-id="a4065-139">When you set the **Cross-company** option to **Yes** for the editable lookup data source, you add a new required **Company** parameter to the set of parameters of this data source.</span></span> <span data-ttu-id="a4065-140">Parametra **Uzņēmums** vērtība ir jānorāda izpildlaikā, kad tiek izsaukts uzmeklēšanas datu avots.</span><span class="sxs-lookup"><span data-stu-id="a4065-140">The value of the **Company** parameter must be specified at runtime when the lookup data source is called.</span></span> <span data-ttu-id="a4065-141">Ja uzņēmuma kods ir norādīts izpildlaikā, šim uzņēmumam konfigurētās kārtulas tiek izmantotas, lai atrastu piemērotāko kārtulu, un atbilstošā vērtība tiek atgriezta.</span><span class="sxs-lookup"><span data-stu-id="a4065-141">When the company code is specified at runtime, the rules configured for this company are used to find the most appropriate rule, and the corresponding value is returned.</span></span> <span data-ttu-id="a4065-142">Šajā attēlā parādīts, kā to var izdarīt un kā tiek mainīta rediģējama datu avota parametru kopa.</span><span class="sxs-lookup"><span data-stu-id="a4065-142">The following illustration shows how you can do this and how the set of parameters of the editable data source is changed.</span></span>

   ![Formāta uzskaitījuma\uzmeklēšanas veida starpuzņēmuma uzmeklēšanas datu avota pārskatīšana](./media/er-lookup-data-sources-img8.gif)

> [!NOTE]
> <span data-ttu-id="a4065-144">Atlasiet katru uzņēmumu atsevišķi, lai konfigurētu kārtulu kopu šim uzmeklēšanas datu avotam rediģējamā ER formātā.</span><span class="sxs-lookup"><span data-stu-id="a4065-144">Select every company seperately to configure the set of rules for this lookup data source of the editable ER format.</span></span> <span data-ttu-id="a4065-145">Izpildlaikā rodas izņēmums, ja starpuzņēmuma uzmeklēšana tiek izsaukta ar tā uzņēmuma kodu, kura uzmeklēšanas iestatījums netika pabeigts.</span><span class="sxs-lookup"><span data-stu-id="a4065-145">An exception is thrown at runtime when the cross-company lookup is called with the code of the company for which the lookup setting was not completed.</span></span>
>
> <span data-ttu-id="a4065-146">Pārliecinieties, ka jūs piešķirat atļaujas lietotājam, kurš darbina ER formātu ar starpuzņēmuma **Uzmeklēšanas** datu avotu, lai piekļūtu katra uzņēmuma datiem, kas ir šī datu avota tvērumā.</span><span class="sxs-lookup"><span data-stu-id="a4065-146">Make sure that you grant permissions for a user who runs the ER format with the cross-company **Lookup** data source to access the data of every company that is in scope of this data source.</span></span> <span data-ttu-id="a4065-147">Pretējā gadījumā izpildlaikā tiek izmests izņēmums.</span><span class="sxs-lookup"><span data-stu-id="a4065-147">Otherwise, an exception is thrown at runtime.</span></span>

<span data-ttu-id="a4065-148">Sākot ar versiju 10.0.19, ir pieejamas **Uzmeklēšanas** datu avotu paplašinātās iespējas.</span><span class="sxs-lookup"><span data-stu-id="a4065-148">Starting in version 10.0.19, the extended capabilities of the **Lookup** data sources are available.</span></span> <span data-ttu-id="a4065-149">Kad rediģējamajam uzmeklēšanas datu avotam iestatāt opciju **Paplašināts** uz **Jā**, konfigurētais uzmeklēšanas datu avots tiek pārvērsts par strukturēto datu avotu, kas piedāvā papildu iespējas analizēt konfigurēto kārtulu kopu.</span><span class="sxs-lookup"><span data-stu-id="a4065-149">When you set the **Extended** option to **Yes** for the editable lookup data source, the configured lookup data source is transformed to the structured data source that offers the additional capabilities to analyze the configured set of rules.</span></span> <span data-ttu-id="a4065-150">Šajā attēlā parādīta šī transformācija.</span><span class="sxs-lookup"><span data-stu-id="a4065-150">The following illustration shows this transformation.</span></span>

   ![Formāta uzskaitījuma\uzmeklēšanas veida strukturētā uzmeklēšanas datu avota pārskatīšana](./media/er-lookup-data-sources-img9.gif)

- <span data-ttu-id="a4065-152">Apakškrājums **Uzmeklēšana** ir veidots kā funkcija, kas atrod atbilstošāko kārtulu no konfigurējamo kārtulu kopas, pamatojoties uz sniegto parametru kopu.</span><span class="sxs-lookup"><span data-stu-id="a4065-152">The **Lookup** sub-item is designed as a function to find the most appropriate rule from the set of configurable rules based on the provided set of parameters.</span></span>
- <span data-ttu-id="a4065-153">Apakškrājums **IrUzmeklēšanasRezultātuKopa** ir veidota kā funkcija, lai pieņemtu pamata uzskaitījuma datu avota sniegto vērtību un atgrieztu *Būla* vērtību **Patiess**, kad kārtulu kopa satur vismaz vienu kārtulu, kurai sniegtā uzskaitījuma vērtība tika konfigurēta kā atgriezta vērtība.</span><span class="sxs-lookup"><span data-stu-id="a4065-153">The **IsLookupResultSet** sub-item is designed as a function to accept the provided value of the base enumeration data source and return the *Boolean* value of **True** when the set of rules contain at least one rule for which the provided enumeration value was configured as a returned value.</span></span> <span data-ttu-id="a4065-154">Šī funkcija atgriež *Būla* vērtību **Aplams**, ja nav nevienas kārtulas, kas konfigurēta, lai atgrieztu šo uzskaitījuma vērtību.</span><span class="sxs-lookup"><span data-stu-id="a4065-154">This function returns the *Boolean* value of **False** when there are no rules configured to return the provided enumeration value.</span></span>
- <span data-ttu-id="a4065-155">Apakškrājums **Iestatījums** ir veidots kā funkcija, kas atgriež konfigurēto kārtulu kopu kā ierakstu saraksta ierakstus.</span><span class="sxs-lookup"><span data-stu-id="a4065-155">The **Setting** sub-item is designed as a function that returns the set of configured rules as records of a record list.</span></span> <span data-ttu-id="a4065-156">Konfigurēto kārtulu atgrieztās vērtības un parametru kopa ir uzrādīta katrā atgrieztajā ierakstā kā attiecīgo datu vaidu lauki:</span><span class="sxs-lookup"><span data-stu-id="a4065-156">The returned values and the set of parameters of the configured rules are presented in every returned record as fields of the relevant data types:</span></span>

    - <span data-ttu-id="a4065-157">Atgrieztā vērtība tiek uzrādīta kā lauks **Uzmeklēšanas rezultāts**.</span><span class="sxs-lookup"><span data-stu-id="a4065-157">The returned value is presented as the **Lookup result** field.</span></span>
    - <span data-ttu-id="a4065-158">Konfigurētie parametri ir norādīti kā lauki ar parametru nosaukumiem (**Kods** lauks šajā piemērā).</span><span class="sxs-lookup"><span data-stu-id="a4065-158">The configured parameters are presented as fields having names of parameters (**Code** field in this example).</span></span>

<span data-ttu-id="a4065-159">Papildinformāciju par to, kā konfigurēt **Uzmeklēšanas** datu avotu, skatiet sadaļā [ER formātu konfigurēšana parametru izmantošanai, kas norādīti katrai juridiskajai personai](er-app-specific-parameters-configure-format.md).</span><span class="sxs-lookup"><span data-stu-id="a4065-159">For more information about to how configure the **Lookup** data source, see [Configure ER formats to use parameters that are specified per legal entity](er-app-specific-parameters-configure-format.md).</span></span> <span data-ttu-id="a4065-160">Lai uzzinātu, kā iestatīt Uzmeklēšanas kārtulas, skatiet sadaļu [ER formāta parametru iestatīšana juridiskajai personai](er-app-specific-parameters-set-up.md).</span><span class="sxs-lookup"><span data-stu-id="a4065-160">To learn how to set the Lookup rules, see [Set up the parameters of an ER format per legal entity](er-app-specific-parameters-set-up.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="a4065-161">Papildu resursi</span><span class="sxs-lookup"><span data-stu-id="a4065-161">Additional resources</span></span>

[<span data-ttu-id="a4065-162">Elektronisko pārskatu formātu konfigurēšana, lai izmantotu parametrus, kas ir norādīti par juridisko personu</span><span class="sxs-lookup"><span data-stu-id="a4065-162">Configure ER formats to use parameters that are specified per legal entity</span></span>](er-app-specific-parameters-configure-format.md)

[<span data-ttu-id="a4065-163">Elektronisko pārskatu formāta parametru iestatīšana juridiskai personai</span><span class="sxs-lookup"><span data-stu-id="a4065-163">Set up the parameters of an ER format per legal entity</span></span>](er-app-specific-parameters-set-up.md)
